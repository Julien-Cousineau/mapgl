!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=35)}([function(t,e,n){"use strict";(function(t){e.a=new
/*!
 *  Copyright 2008 Fair Oaks Labs, Inc.
 *  All rights reserved.
 */
function(){var e,n=!1,i=this;i._DeArray=function(t,e,n){return[t.slice(e,e+n)]},i._EnArray=function(t,e,n,i){for(var r=0;r<n;t[e+r]=i[r]?i[r]:0,r++);},i._DeChar=function(t,e){return String.fromCharCode(t[e])},i._EnChar=function(t,e,n){t[e]=n.charCodeAt(0)},i._DeInt=function(t,i){var r,o,s,a=n?e.len-1:0,u=n?-1:1,h=a+u*e.len;for(r=0,o=a,s=1;o!=h;r+=t[i+o]*s,o+=u,s*=256);return e.bSigned&&r&Math.pow(2,8*e.len-1)&&(r-=Math.pow(2,8*e.len)),r},i._EnInt=function(t,i,r){var o,s=n?e.len-1:0,a=n?-1:1,u=s+a*e.len;for(r=r<e.min?e.min:r>e.max?e.max:r,o=s;o!=u;t[i+o]=255&r,o+=a,r>>=8);},i._DeString=function(t,e,n){for(var i=new Array(n),r=0;r<n;i[r]=String.fromCharCode(t[e+r]),r++);return i.join("")},i._EnString=function(t,e,n,i){for(var r,o=0;o<n;t[e+o]=(r=i.charCodeAt(o))?r:0,o++);},i._DeNullString=function(t,e,n,r){var o=i._DeString(t,e,n,r);return o.substring(0,o.length-1)},i._De754=function(t,i){var r,o,s,a,u,h,c,l,f,p;for(c=e.mLen,f=(p=(1<<(l=8*e.len-e.mLen-1))-1)>>1,a=n?0:e.len-1,u=n?1:-1,r=t[i+a],a+=u,o=r&(1<<-(h=-7))-1,r>>=-h,h+=l;h>0;o=256*o+t[i+a],a+=u,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=c;h>0;s=256*s+t[i+a],a+=u,h-=8);switch(o){case 0:o=1-f;break;case p:return s?NaN:1/0*(r?-1:1);default:s+=Math.pow(2,c),o-=f}return(r?-1:1)*s*Math.pow(2,o-c)},i._En754=function(t,i,r){var o,s,a,u,h,c,l,f,p,d;for(l=e.mLen,p=(d=(1<<(f=8*e.len-e.mLen-1))-1)>>1,o=r<0?1:0,r=Math.abs(r),isNaN(r)||r==1/0?(a=isNaN(r)?1:0,s=d):(s=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-s))<1&&(s--,c*=2),(r+=s+p>=1?e.rt/c:e.rt*Math.pow(2,1-p))*c>=2&&(s++,c/=2),s+p>=d?(a=0,s=d):s+p>=1?(a=(r*c-1)*Math.pow(2,l),s+=p):(a=r*Math.pow(2,p-1)*Math.pow(2,l),s=0)),u=n?e.len-1:0,h=n?-1:1;l>=8;t[i+u]=255&a,u+=h,a/=256,l-=8);for(s=s<<l|a,f+=l;f>0;t[i+u]=255&s,u+=h,s/=256,f-=8);t[i+u-h]|=128*o},i._sPattern="(\\d+)?([AxcbBhHsSfdiIlL])(\\(([a-zA-Z0-9]+)\\))?",i._lenLut={A:1,x:1,c:1,b:1,B:1,h:2,H:2,s:1,S:1,f:4,d:8,i:4,I:4,l:4,L:4},i._elLut={A:{en:i._EnArray,de:i._DeArray},s:{en:i._EnString,de:i._DeString},S:{en:i._EnString,de:i._DeNullString},c:{en:i._EnChar,de:i._DeChar},b:{en:i._EnInt,de:i._DeInt,len:1,bSigned:!0,min:-Math.pow(2,7),max:Math.pow(2,7)-1},B:{en:i._EnInt,de:i._DeInt,len:1,bSigned:!1,min:0,max:Math.pow(2,8)-1},h:{en:i._EnInt,de:i._DeInt,len:2,bSigned:!0,min:-Math.pow(2,15),max:Math.pow(2,15)-1},H:{en:i._EnInt,de:i._DeInt,len:2,bSigned:!1,min:0,max:Math.pow(2,16)-1},i:{en:i._EnInt,de:i._DeInt,len:4,bSigned:!0,min:-Math.pow(2,31),max:Math.pow(2,31)-1},I:{en:i._EnInt,de:i._DeInt,len:4,bSigned:!1,min:0,max:Math.pow(2,32)-1},l:{en:i._EnInt,de:i._DeInt,len:4,bSigned:!0,min:-Math.pow(2,31),max:Math.pow(2,31)-1},L:{en:i._EnInt,de:i._DeInt,len:4,bSigned:!1,min:0,max:Math.pow(2,32)-1},f:{en:i._En754,de:i._De754,len:4,mLen:23,rt:Math.pow(2,-24)-Math.pow(2,-77)},d:{en:i._En754,de:i._De754,len:8,mLen:52,rt:0}},i._UnpackSeries=function(t,n,i,r){for(var o=e.de,s=[],a=0;a<t;s.push(o(i,r+a*n)),a++);return s},i._PackSeries=function(t,n,i,r,o,s){for(var a=e.en,u=0;u<t;a(i,r+u*n,o[s+u]),u++);},i._zip=function(t,e){for(var n={},i=0;i<t.length;i++)n[t[i]]=e[i];return n},i.unpack=function(t,i,r){n="<"!=t.charAt(0),r=r||0;for(var o,s,a,u=new RegExp(this._sPattern,"g"),h=[],c=[];o=u.exec(t);){if(s=void 0==o[1]||""==o[1]?1:parseInt(o[1]),"S"===o[2]){for(s=0;0!==i[r+s];)s++;s++}if(r+s*(a=this._lenLut[o[2]])>i.length)return;switch(o[2]){case"A":case"s":case"S":c.push(this._elLut[o[2]].de(i,r,s));break;case"c":case"b":case"B":case"h":case"H":case"i":case"I":case"l":case"L":case"f":case"d":e=this._elLut[o[2]],c.push(this._UnpackSeries(s,a,i,r))}h.push(o[4]),r+=s*a}return c=Array.prototype.concat.apply([],c),-1!==h.indexOf(void 0)?c:this._zip(h,c)},i.packTo=function(t,i,r,o){n="<"!=t.charAt(0);for(var s,a,u,h,c=new RegExp(this._sPattern,"g"),l=0;s=c.exec(t);){if(a=void 0==s[1]||""==s[1]?1:parseInt(s[1]),"S"===s[2]&&(a=o[l].length+1),r+a*(u=this._lenLut[s[2]])>i.length)return!1;switch(s[2]){case"A":case"s":case"S":if(l+1>o.length)return!1;this._elLut[s[2]].en(i,r,a,o[l]),l+=1;break;case"c":case"b":case"B":case"h":case"H":case"i":case"I":case"l":case"L":case"f":case"d":if(e=this._elLut[s[2]],l+a>o.length)return!1;this._PackSeries(a,u,i,r,o,l),l+=a;break;case"x":for(h=0;h<a;h++)i[r+h]=0}r+=a*u}return i},i.pack=function(e,n){return this.packTo(e,new t(this.calcLength(e,n)),0,n)},i.calcLength=function(t,e){for(var n,i=new RegExp(this._sPattern,"g"),r=0,o=0;n=i.exec(t);){var s=(void 0==n[1]||""==n[1]?1:parseInt(n[1]))*this._lenLut[n[2]];"S"===n[2]&&(s=e[o].length+1),r+=s,"x"!==n[2]&&o++}return r}}}).call(this,n(8).Buffer)},function(t,e,n){!function(){"use strict";var e={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function r(t){return"%"===t[t.length-1]?n(parseFloat(t)/100*255):n(parseInt(t))}function o(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var a={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},deepPurple:{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},lightBlue:{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},lightGreen:{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},deepOrange:{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},blueGrey:{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},darkText:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},lightText:{primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},darkIcons:{active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},lightIcons:{active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},white:"#ffffff",black:"#000000"},u=function(t){this.update(t)},h={luminance:{configurable:!0}};u.parse=function(t){return new u(t)},u.parseString=function(t){if(t&&"string"==typeof t){if(t instanceof u)return t;var i="#"===t[0]&&9==t.length?u.hex2rgba(t):function(t){var i=t.replace(/ /g,"").toLowerCase();if(i in e)return e[i].slice();if("#"===i[0]){var a=parseInt(i.substr(1),16);return 4===i.length?a>=0&&a<=4095?[(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1]:null:7===i.length&&a>=0&&a<=16777215?[(16711680&a)>>16,(65280&a)>>8,255&a,1]:null}var u=i.indexOf("("),h=i.indexOf(")");if(-1!==u&&h+1===i.length){var c=i.substr(0,u),l=i.substr(u+1,h-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==l.length)return null;f=o(l.pop());case"rgb":return 3!==l.length?null:[r(l[0]),r(l[1]),r(l[2]),f];case"hsla":if(4!==l.length)return null;f=o(l.pop());case"hsl":if(3!==l.length)return null;var p=(parseFloat(l[0])%360+360)%360/360,d=o(l[1]),g=o(l[2]),y=g<=.5?g*(d+1):g+d-g*d,m=2*g-y;return[n(255*s(m,y,p+1/3)),n(255*s(m,y,p)),n(255*s(m,y,p-1/3)),f];default:return null}}return null}(t);if(i)return i=Array.isArray(i)?{r:i[0],g:i[1],b:i[2],a:i[3]}:i,new u(i)}},u.materialcolors=function(){return a},u.prototype.update=function(t){return t||(t="#ffffffff"),void 0!==t.r?this.parseRGBA(t):void 0!==t.h||void 0!==t.s||void 0!==t.v?this.parseHSVA(t):void 0!==t.a?this.parseRGBA(t):this.parseHex(t)},u.prototype.parseRGBA=function(t){this.rgba||(this.rgba={});var e=void 0!==t.r?t.r:this.rgba.r||0,n=void 0!==t.g?t.g:this.rgba.g||0,i=void 0!==t.b?t.b:this.rgba.b||0,r=void 0!==t.a?t.a:this.rgba.a||1;return this.rgba={r:e,g:n,b:i,a:r},this.hsva=this.rgba2hsva(this.rgba),this.hex=this.rgba2hex(this.rgba),this.colorgroup=this.colorDetector(this.hsva),this},u.prototype.parseHSVA=function(t){this.hsva||(this.hsva={});var e=void 0!==t.h?t.h:this.hsva.h||0,n=void 0!==t.s?t.s:this.hsva.s||0,i=void 0!==t.v?t.v:this.hsva.v||0,r=void 0!==t.a?t.a:this.hsva.a||1;return this.hsva={h:e,s:n,v:i,a:r},this.rgba=this.hsva2rgba(this.hsva),this.hex=this.rgba2hex(this.rgba),this},u.prototype.parseHex=function(t){return this.hex=t,this.rgba=u.hex2rgba(this.hex),this.hsva=this.rgba2hsva(this.rgba),this},h.luminance.get=function(){var t=this.rgba,e=t.r,n=t.g,i=t.b;return(.299*e+.587*n+.114*i)/255},u.prototype.fontColor=function(){return this.luminance>.58?u.parseString("black"):u.parseString("white")},u.prototype.rgb2str=function(){var t=this.rgba,e=t.r,n=t.g,i=t.b;return"rgb({0},{1},{2})".format(e,n,i)},u.prototype.rgba2str=function(){var t=this.rgba,e=t.r,n=t.g,i=t.b,r=t.a;return"rgba({0},{1},{2},{3})".format(e,n,i,r)},u.prototype.hsla2str=function(){var t=this.hsva,e=t.h,n=t.s,i=t.v,r=t.a;return"hsla({0},{1}%,{2}%,{3})".format(e,100*n,100*i,r)},u.prototype.copy=function(){var t=this.rgba,e=t.r,n=t.g,i=t.b,r=t.a;return new u({r:e,g:n,b:i,a:r})},u.prototype.rgba2hsva=function(t){var e,n,i,r,o,s=t.r/255||0,a=t.g/255||0,u=t.b/255||0,h=t.a||0,c=Math.max(s,a,u),l=c-Math.min(s,a,u),f=function(t){return(c-t)/6/l+.5};return 0==l?r=o=0:(o=l/c,e=f(s),n=f(a),i=f(u),s===c?r=i-n:a===c?r=1/3+e-i:u===c&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),{h:Math.round(360*r),s:.01*Math.round(100*o),v:.01*Math.round(100*c),a:h}},u.prototype.hsva2rgba=function(t){var e,n,i,r=t.h/360||0,o=t.s||0,s=t.v||0,a=t.a||0,u=Math.floor(6*r),h=6*r-u,c=s*(1-o),l=s*(1-h*o),f=s*(1-(1-h)*o);switch(u%6){case 0:e=s,n=f,i=c;break;case 1:e=l,n=s,i=c;break;case 2:e=c,n=s,i=f;break;case 3:e=c,n=l,i=s;break;case 4:e=f,n=c,i=s;break;case 5:e=s,n=c,i=l}return{r:Math.floor(255*e),g:Math.floor(255*n),b:Math.floor(255*i),a:a}},u.prototype.rgba2hex=function(t){var e=void 0!==t.a?("0"+parseInt(Math.round(255*t.a),10).toString(16)).slice(-2):"";return"#"+("0"+parseInt(t.r,10).toString(16)).slice(-2)+("0"+parseInt(t.g,10).toString(16)).slice(-2)+("0"+parseInt(t.b,10).toString(16)).slice(-2)+e},u.hex2rgba=function(t){t=(t=(t=t.replace(/\s/g,"")).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,i){return e+e+n+n+i+i+"ff"})).replace(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,function(t,e,n,i){return e+n+i+"ff"});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:.01*Math.round(parseInt(e[4],16)/255*100)}:null},u.prototype.colorDetector=function(t){var e=t.h||0,n=t.s||0,i=t.v||0;return i<.2?"black":i>.9&&n<.2?"white":n<.2?"gray":e<30?"red":e<60?"orange":e<90?"yellow":e<150?"green":e<210?"cyan":e<270?"blue":e<330?"magenta":"red"},Object.defineProperties(u.prototype,h);var c=[{name:"Heat",colors:["#00416A","#E4E5E6"]},{name:"Blu",colors:["#00416A","#E4E5E6"]},{name:"Ver",colors:["#FFE000","#799F0C"]},{name:"Ver Black",colors:["#F7F8F8","#ACBB78"]},{name:"Combi",colors:["#00416A","#799F0C","#FFE000"]},{name:"Anwar",colors:["#334d50","#cbcaa5"]},{name:"Bluelagoo",colors:["#0052D4","#4364F7","#6FB1FC"]},{name:"Lunada",colors:["#5433FF","#20BDFF","#A5FECB"]},{name:"Reaqua",colors:["#799F0C","#ACBB78"]},{name:"Mango",colors:["#ffe259","#ffa751"]},{name:"Bupe",colors:["#00416A","#E4E5E6"]},{name:"Rea",colors:["#FFE000","#799F0C"]},{name:"Windy",colors:["#acb6e5","#86fde8"]},{name:"Royal Blue",colors:["#536976","#292E49"]},{name:"Royal Blue + Petrol",colors:["#BBD2C5","#536976","#292E49"]},{name:"Copper",colors:["#B79891","#94716B"]},{name:"Anamnisar",colors:["#9796f0","#fbc7d4"]},{name:"Petrol",colors:["#BBD2C5","#536976"]},{name:"Sky",colors:["#076585","#fff"]},{name:"Sel",colors:["#00467F","#A5CC82"]},{name:"Skyline",colors:["#1488CC","#2B32B2"]},{name:"DIMIGO",colors:["#ec008c","#fc6767"]},{name:"Purple Love",colors:["#cc2b5e","#753a88"]},{name:"Sexy Blue",colors:["#2193b0","#6dd5ed"]},{name:"Blooker20",colors:["#e65c00","#F9D423"]},{name:"Sea Blue",colors:["#2b5876","#4e4376"]},{name:"Nimvelo",colors:["#314755","#26a0da"]},{name:"Hazel",colors:["#77A1D3","#79CBCA","#E684AE"]},{name:"Noon to Dusk",colors:["#ff6e7f","#bfe9ff"]},{name:"YouTube",colors:["#e52d27","#b31217"]},{name:"Cool Brown",colors:["#603813","#b29f94"]},{name:"Harmonic Energy",colors:["#16A085","#F4D03F"]},{name:"Playing with Reds",colors:["#D31027","#EA384D"]},{name:"Sunny Days",colors:["#EDE574","#E1F5C4"]},{name:"Green Beach",colors:["#02AAB0","#00CDAC"]},{name:"Intuitive Purple",colors:["#DA22FF","#9733EE"]},{name:"Emerald Water",colors:["#348F50","#56B4D3"]},{name:"Lemon Twist",colors:["#3CA55C","#B5AC49"]},{name:"Monte Carlo",colors:["#CC95C0","#DBD4B4","#7AA1D2"]},{name:"Horizon",colors:["#003973","#E5E5BE"]},{name:"Rose Water",colors:["#E55D87","#5FC3E4"]},{name:"Frozen",colors:["#403B4A","#E7E9BB"]},{name:"Mango Pulp",colors:["#F09819","#EDDE5D"]},{name:"Bloody Mary",colors:["#FF512F","#DD2476"]},{name:"Aubergine",colors:["#AA076B","#61045F"]},{name:"Aqua Marine",colors:["#1A2980","#26D0CE"]},{name:"Sunrise",colors:["#FF512F","#F09819"]},{name:"Purple Paradise",colors:["#1D2B64","#F8CDDA"]},{name:"Stripe",colors:["#1FA2FF","#12D8FA","#A6FFCB"]},{name:"Sea Weed",colors:["#4CB8C4","#3CD3AD"]},{name:"Pinky",colors:["#DD5E89","#F7BB97"]},{name:"Cherry",colors:["#EB3349","#F45C43"]},{name:"Mojito",colors:["#1D976C","#93F9B9"]},{name:"Juicy Orange",colors:["#FF8008","#FFC837"]},{name:"Mirage",colors:["#16222A","#3A6073"]},{name:"Steel Gray",colors:["#1F1C2C","#928DAB"]},{name:"Kashmir",colors:["#614385","#516395"]},{name:"Electric Violet",colors:["#4776E6","#8E54E9"]},{name:"Venice Blue",colors:["#085078","#85D8CE"]},{name:"Bora Bora",colors:["#2BC0E4","#EAECC6"]},{name:"Moss",colors:["#134E5E","#71B280"]},{name:"Shroom Haze",colors:["#5C258D","#4389A2"]},{name:"Mystic",colors:["#757F9A","#D7DDE8"]},{name:"Midnight City",colors:["#232526","#414345"]},{name:"Sea Blizz",colors:["#1CD8D2","#93EDC7"]},{name:"Opa",colors:["#3D7EAA","#FFE47A"]},{name:"Titanium",colors:["#283048","#859398"]},{name:"Mantle",colors:["#24C6DC","#514A9D"]},{name:"Dracula",colors:["#DC2424","#4A569D"]},{name:"Peach",colors:["#ED4264","#FFEDBC"]},{name:"Moonrise",colors:["#DAE2F8","#D6A4A4"]},{name:"Clouds",colors:["#ECE9E6","#FFFFFF"]},{name:"Stellar",colors:["#7474BF","#348AC7"]},{name:"Bourbon",colors:["#EC6F66","#F3A183"]},{name:"Calm Darya",colors:["#5f2c82","#49a09d"]},{name:"Influenza",colors:["#C04848","#480048"]},{name:"Shrimpy",colors:["#e43a15","#e65245"]},{name:"Army",colors:["#414d0b","#727a17"]},{name:"Miaka",colors:["#FC354C","#0ABFBC"]},{name:"Pinot Noir",colors:["#4b6cb7","#182848"]},{name:"Day Tripper",colors:["#f857a6","#ff5858"]},{name:"Namn",colors:["#a73737","#7a2828"]},{name:"Blurry Beach",colors:["#d53369","#cbad6d"]},{name:"Vasily",colors:["#e9d362","#333333"]},{name:"A Lost Memory",colors:["#DE6262","#FFB88C"]},{name:"Petrichor",colors:["#666600","#999966"]},{name:"Jonquil",colors:["#FFEEEE","#DDEFBB"]},{name:"Sirius Tamed",colors:["#EFEFBB","#D4D3DD"]},{name:"Kyoto",colors:["#c21500","#ffc500"]},{name:"Misty Meadow",colors:["#215f00","#e4e4d9"]},{name:"Aqualicious",colors:["#50C9C3","#96DEDA"]},{name:"Moor",colors:["#616161","#9bc5c3"]},{name:"Almost",colors:["#ddd6f3","#faaca8"]},{name:"Forever Lost",colors:["#5D4157","#A8CABA"]},{name:"Winter",colors:["#E6DADA","#274046"]},{name:"Nelson",colors:["#f2709c","#ff9472"]},{name:"Autumn",colors:["#DAD299","#B0DAB9"]},{name:"Candy",colors:["#D3959B","#BFE6BA"]},{name:"Reef",colors:["#00d2ff","#3a7bd5"]},{name:"The Strain",colors:["#870000","#190A05"]},{name:"Dirty Fog",colors:["#B993D6","#8CA6DB"]},{name:"Earthly",colors:["#649173","#DBD5A4"]},{name:"Virgin",colors:["#C9FFBF","#FFAFBD"]},{name:"Ash",colors:["#606c88","#3f4c6b"]},{name:"Cherryblossoms",colors:["#FBD3E9","#BB377D"]},{name:"Parklife",colors:["#ADD100","#7B920A"]},{name:"Dance To Forget",colors:["#FF4E50","#F9D423"]},{name:"Starfall",colors:["#F0C27B","#4B1248"]},{name:"Red Mist",colors:["#000000","#e74c3c"]},{name:"Teal Love",colors:["#AAFFA9","#11FFBD"]},{name:"Neon Life",colors:["#B3FFAB","#12FFF7"]},{name:"Man of Steel",colors:["#780206","#061161"]},{name:"Amethyst",colors:["#9D50BB","#6E48AA"]},{name:"Cheer Up Emo Kid",colors:["#556270","#FF6B6B"]},{name:"Shore",colors:["#70e1f5","#ffd194"]},{name:"Facebook Messenger",colors:["#00c6ff","#0072ff"]},{name:"SoundCloud",colors:["#fe8c00","#f83600"]},{name:"Behongo",colors:["#52c234","#061700"]},{name:"ServQuick",colors:["#485563","#29323c"]},{name:"Friday",colors:["#83a4d4","#b6fbff"]},{name:"Martini",colors:["#FDFC47","#24FE41"]},{name:"Metallic Toad",colors:["#abbaab","#ffffff"]},{name:"Between The Clouds",colors:["#73C8A9","#373B44"]},{name:"Crazy Orange I",colors:["#D38312","#A83279"]},{name:"Hersheys",colors:["#1e130c","#9a8478"]},{name:"Talking To Mice Elf",colors:["#948E99","#2E1437"]},{name:"Purple Bliss",colors:["#360033","#0b8793"]},{name:"Predawn",colors:["#FFA17F","#00223E"]},{name:"Endless River",colors:["#43cea2","#185a9d"]},{name:"Pastel Orange at the Sun",colors:["#ffb347","#ffcc33"]},{name:"Twitch",colors:["#6441A5","#2a0845"]},{name:"Atlas",colors:["#FEAC5E","#C779D0","#4BC0C8"]},{name:"Instagram",colors:["#833ab4","#fd1d1d","#fcb045"]},{name:"Flickr",colors:["#ff0084","#33001b"]},{name:"Vine",colors:["#00bf8f","#001510"]},{name:"Turquoise flow",colors:["#136a8a","#267871"]},{name:"Portrait",colors:["#8e9eab","#eef2f3"]},{name:"Virgin America",colors:["#7b4397","#dc2430"]},{name:"Koko Caramel",colors:["#D1913C","#FFD194"]},{name:"Fresh Turboscent",colors:["#F1F2B5","#135058"]},{name:"Green to dark",colors:["#6A9113","#141517"]},{name:"Ukraine",colors:["#004FF9","#FFF94C"]},{name:"Curiosity blue",colors:["#525252","#3d72b4"]},{name:"Dark Knight",colors:["#BA8B02","#181818"]},{name:"Piglet",colors:["#ee9ca7","#ffdde1"]},{name:"Lizard",colors:["#304352","#d7d2cc"]},{name:"Sage Persuasion",colors:["#CCCCB2","#757519"]},{name:"Between Night and Day",colors:["#2c3e50","#3498db"]},{name:"Timber",colors:["#fc00ff","#00dbde"]},{name:"Passion",colors:["#e53935","#e35d5b"]},{name:"Clear Sky",colors:["#005C97","#363795"]},{name:"Master Card",colors:["#f46b45","#eea849"]},{name:"Back To Earth",colors:["#00C9FF","#92FE9D"]},{name:"Deep Purple",colors:["#673AB7","#512DA8"]},{name:"Little Leaf",colors:["#76b852","#8DC26F"]},{name:"Netflix",colors:["#8E0E00","#1F1C18"]},{name:"Light Orange",colors:["#FFB75E","#ED8F03"]},{name:"Green and Blue",colors:["#c2e59c","#64b3f4"]},{name:"Poncho",colors:["#403A3E","#BE5869"]},{name:"Back to the Future",colors:["#C02425","#F0CB35"]},{name:"Blush",colors:["#B24592","#F15F79"]},{name:"Inbox",colors:["#457fca","#5691c8"]},{name:"Purplin",colors:["#6a3093","#a044ff"]},{name:"Pale Wood",colors:["#eacda3","#d6ae7b"]},{name:"Haikus",colors:["#fd746c","#ff9068"]},{name:"Pizelex",colors:["#114357","#F29492"]},{name:"Joomla",colors:["#1e3c72","#2a5298"]},{name:"Christmas",colors:["#2F7336","#AA3A38"]},{name:"Minnesota Vikings",colors:["#5614B0","#DBD65C"]},{name:"Miami Dolphins",colors:["#4DA0B0","#D39D38"]},{name:"Forest",colors:["#5A3F37","#2C7744"]},{name:"Nighthawk",colors:["#2980b9","#2c3e50"]},{name:"Superman",colors:["#0099F7","#F11712"]},{name:"Suzy",colors:["#834d9b","#d04ed6"]},{name:"Dark Skies",colors:["#4B79A1","#283E51"]},{name:"Deep Space",colors:["#000000","#434343"]},{name:"Decent",colors:["#4CA1AF","#C4E0E5"]},{name:"Colors Of Sky",colors:["#E0EAFC","#CFDEF3"]},{name:"Purple White",colors:["#BA5370","#F4E2D8"]},{name:"Ali",colors:["#ff4b1f","#1fddff"]},{name:"Alihossein",colors:["#f7ff00","#db36a4"]},{name:"Shahabi",colors:["#a80077","#66ff00"]},{name:"Red Ocean",colors:["#1D4350","#A43931"]},{name:"Tranquil",colors:["#EECDA3","#EF629F"]},{name:"Transfile",colors:["#16BFFD","#CB3066"]},{name:"Sylvia",colors:["#ff4b1f","#ff9068"]},{name:"Sweet Morning",colors:["#FF5F6D","#FFC371"]},{name:"Politics",colors:["#2196f3","#f44336"]},{name:"Bright Vault",colors:["#00d2ff","#928DAB"]},{name:"Solid Vault",colors:["#3a7bd5","#3a6073"]},{name:"Sunset",colors:["#0B486B","#F56217"]},{name:"Grapefruit Sunset",colors:["#e96443","#904e95"]},{name:"Deep Sea Space",colors:["#2C3E50","#4CA1AF"]},{name:"Dusk",colors:["#2C3E50","#FD746C"]},{name:"Minimal Red",colors:["#F00000","#DC281E"]},{name:"Royal",colors:["#141E30","#243B55"]},{name:"Mauve",colors:["#42275a","#734b6d"]},{name:"Frost",colors:["#000428","#004e92"]},{name:"Lush",colors:["#56ab2f","#a8e063"]},{name:"Firewatch",colors:["#cb2d3e","#ef473a"]},{name:"Sherbert",colors:["#f79d00","#64f38c"]},{name:"Blood Red",colors:["#f85032","#e73827"]},{name:"Sun on the Horizon",colors:["#fceabb","#f8b500"]},{name:"IIIT Delhi",colors:["#808080","#3fada8"]},{name:"Jupiter",colors:["#ffd89b","#19547b"]},{name:"50 Shades of Grey",colors:["#bdc3c7","#2c3e50"]},{name:"Dania",colors:["#BE93C5","#7BC6CC"]},{name:"Limeade",colors:["#A1FFCE","#FAFFD1"]},{name:"Disco",colors:["#4ECDC4","#556270"]},{name:"Love Couple",colors:["#3a6186","#89253e"]},{name:"Azure Pop",colors:["#ef32d9","#89fffd"]},{name:"Nepal",colors:["#de6161","#2657eb"]},{name:"Cosmic Fusion",colors:["#ff00cc","#333399"]},{name:"Snapchat",colors:["#fffc00","#ffffff"]},{name:"Ed's Sunset Gradient",colors:["#ff7e5f","#feb47b"]},{name:"Brady Brady Fun Fun",colors:["#00c3ff","#ffff1c"]},{name:"Black RosÃ©",colors:["#f4c4f3","#fc67fa"]},{name:"80's Purple",colors:["#41295a","#2F0743"]},{name:"Radar",colors:["#A770EF","#CF8BF3","#FDB99B"]},{name:"Ibiza Sunset",colors:["#ee0979","#ff6a00"]},{name:"Dawn",colors:["#F3904F","#3B4371"]},{name:"Mild",colors:["#67B26F","#4ca2cd"]},{name:"Vice City",colors:["#3494E6","#EC6EAD"]},{name:"Jaipur",colors:["#DBE6F6","#C5796D"]},{name:"Jodhpur",colors:["#9CECFB","#65C7F7","#0052D4"]},{name:"Cocoaa Ice",colors:["#c0c0aa","#1cefff"]},{name:"EasyMed",colors:["#DCE35B","#45B649"]},{name:"Rose Colored Lenses",colors:["#E8CBC0","#636FA4"]},{name:"What lies Beyond",colors:["#F0F2F0","#000C40"]},{name:"Roseanna",colors:["#FFAFBD","#ffc3a0"]},{name:"Honey Dew",colors:["#43C6AC","#F8FFAE"]},{name:"Under the Lake",colors:["#093028","#237A57"]},{name:"The Blue Lagoon",colors:["#43C6AC","#191654"]},{name:"Can You Feel The Love Tonight",colors:["#4568DC","#B06AB3"]},{name:"Very Blue",colors:["#0575E6","#021B79"]},{name:"Love and Liberty",colors:["#200122","#6f0000"]},{name:"Orca",colors:["#44A08D","#093637"]},{name:"Venice",colors:["#6190E8","#A7BFE8"]},{name:"Pacific Dream",colors:["#34e89e","#0f3443"]},{name:"Learning and Leading",colors:["#F7971E","#FFD200"]},{name:"Celestial",colors:["#C33764","#1D2671"]},{name:"Purplepine",colors:["#20002c","#cbb4d4"]},{name:"Sha la la",colors:["#D66D75","#E29587"]},{name:"Mini",colors:["#30E8BF","#FF8235"]},{name:"Maldives",colors:["#B2FEFA","#0ED2F7"]},{name:"Cinnamint",colors:["#4AC29A","#BDFFF3"]},{name:"Html",colors:["#E44D26","#F16529"]},{name:"Coal",colors:["#EB5757","#000000"]},{name:"Sunkist",colors:["#F2994A","#F2C94C"]},{name:"Blue Skies",colors:["#56CCF2","#2F80ED"]},{name:"Chitty Chitty Bang Bang",colors:["#007991","#78ffd6"]},{name:"Visions of Grandeur",colors:["#000046","#1CB5E0"]},{name:"Crystal Clear",colors:["#159957","#155799"]},{name:"Mello",colors:["#c0392b","#8e44ad"]},{name:"Compare Now",colors:["#EF3B36","#FFFFFF"]},{name:"Meridian",colors:["#283c86","#45a247"]},{name:"Relay",colors:["#3A1C71","#D76D77","#FFAF7B"]},{name:"Alive",colors:["#CB356B","#BD3F32"]},{name:"Scooter",colors:["#36D1DC","#5B86E5"]},{name:"Terminal",colors:["#000000","#0f9b0f"]},{name:"Telegram",colors:["#1c92d2","#f2fcfe"]},{name:"Crimson Tide",colors:["#642B73","#C6426E"]},{name:"Socialive",colors:["#06beb6","#48b1bf"]},{name:"Subu",colors:["#0cebeb","#20e3b2","#29ffc6"]},{name:"Broken Hearts",colors:["#d9a7c7","#fffcdc"]},{name:"Kimoby Is The New Blue",colors:["#396afc","#2948ff"]},{name:"Dull",colors:["#C9D6FF","#E2E2E2"]},{name:"Purpink",colors:["#7F00FF","#E100FF"]},{name:"Orange Coral",colors:["#ff9966","#ff5e62"]},{name:"Summer",colors:["#22c1c3","#fdbb2d"]},{name:"King Yna",colors:["#1a2a6c","#b21f1f","#fdbb2d"]},{name:"Velvet Sun",colors:["#e1eec3","#f05053"]},{name:"Zinc",colors:["#ADA996","#F2F2F2","#DBDBDB","#EAEAEA"]},{name:"Hydrogen",colors:["#667db6","#0082c8","#0082c8","#667db6"]},{name:"Argon",colors:["#03001e","#7303c0","#ec38bc","#fdeff9"]},{name:"Lithium",colors:["#6D6027","#D3CBB8"]},{name:"Digital Water",colors:["#74ebd5","#ACB6E5"]},{name:"Orange Fun",colors:["#fc4a1a","#f7b733"]},{name:"Rainbow Blue",colors:["#00F260","#0575E6"]},{name:"Pink Flavour",colors:["#800080","#ffc0cb"]},{name:"Sulphur",colors:["#CAC531","#F3F9A7"]},{name:"Selenium",colors:["#3C3B3F","#605C3C"]},{name:"Delicate",colors:["#D3CCE3","#E9E4F0"]},{name:"Ohhappiness",colors:["#00b09b","#96c93d"]},{name:"Lawrencium",colors:["#0f0c29","#302b63","#24243e"]},{name:"Relaxing red",colors:["#fffbd5","#b20a2c"]},{name:"Taran Tado",colors:["#23074d","#cc5333"]},{name:"Bighead",colors:["#c94b4b","#4b134f"]},{name:"Sublime Vivid",colors:["#FC466B","#3F5EFB"]},{name:"Sublime Light",colors:["#FC5C7D","#6A82FB"]},{name:"Pun Yeta",colors:["#108dc7","#ef8e38"]},{name:"Quepal",colors:["#11998e","#38ef7d"]},{name:"Sand to Blue",colors:["#3E5151","#DECBA4"]},{name:"Wedding Day Blues",colors:["#40E0D0","#FF8C00","#FF0080"]},{name:"Shifter",colors:["#bc4e9c","#f80759"]},{name:"Red Sunset",colors:["#355C7D","#6C5B7B","#C06C84"]},{name:"Moon Purple",colors:["#4e54c8","#8f94fb"]},{name:"Pure Lust",colors:["#333333","#dd1818"]},{name:"Slight Ocean View",colors:["#a8c0ff","#3f2b96"]},{name:"eXpresso",colors:["#ad5389","#3c1053"]},{name:"Shifty",colors:["#636363","#a2ab58"]},{name:"Vanusa",colors:["#DA4453","#89216B"]},{name:"Evening Night",colors:["#005AA7","#FFFDE4"]},{name:"Magic",colors:["#59C173","#a17fe0","#5D26C1"]},{name:"Margo",colors:["#FFEFBA","#FFFFFF"]},{name:"Blue Raspberry",colors:["#00B4DB","#0083B0"]},{name:"Citrus Peel",colors:["#FDC830","#F37335"]},{name:"Sin City Red",colors:["#ED213A","#93291E"]},{name:"Rastafari",colors:["#1E9600","#FFF200","#FF0000"]},{name:"Summer Dog",colors:["#a8ff78","#78ffd6"]},{name:"Wiretap",colors:["#8A2387","#E94057","#F27121"]},{name:"Burning Orange",colors:["#FF416C","#FF4B2B"]},{name:"Ultra Voilet",colors:["#654ea3","#eaafc8"]},{name:"By Design",colors:["#009FFF","#ec2F4B"]},{name:"Kyoo Tah",colors:["#544a7d","#ffd452"]},{name:"Kye Meh",colors:["#8360c3","#2ebf91"]},{name:"Kyoo Pal",colors:["#dd3e54","#6be585"]},{name:"Metapolis",colors:["#659999","#f4791f"]},{name:"Flare",colors:["#f12711","#f5af19"]},{name:"Witching Hour",colors:["#c31432","#240b36"]},{name:"Azur Lane",colors:["#7F7FD5","#86A8E7","#91EAE4"]},{name:"Neuromancer",colors:["#f953c6","#b91d73"]},{name:"Harvey",colors:["#1f4037","#99f2c8"]},{name:"Amin",colors:["#8E2DE2","#4A00E0"]},{name:"Memariani",colors:["#aa4b6b","#6b6b83","#3b8d99"]},{name:"Yoda",colors:["#FF0099","#493240"]},{name:"Cool Sky",colors:["#2980B9","#6DD5FA","#FFFFFF"]},{name:"Dark Ocean",colors:["#373B44","#4286f4"]},{name:"Evening Sunshine",colors:["#b92b27","#1565C0"]},{name:"JShine",colors:["#12c2e9","#c471ed","#f64f59"]},{name:"Moonlit Asteroid",colors:["#0F2027","#203A43","#2C5364"]},{name:"MegaTron",colors:["#C6FFDD","#FBD786","#f7797d"]},{name:"Cool Blues",colors:["#2193b0","#6dd5ed"]},{name:"Piggy Pink",colors:["#ee9ca7","#ffdde1"]},{name:"Grade Grey",colors:["#bdc3c7","#2c3e50"]}];function l(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var f=function(t){return 1===t.length&&(t=function(t){return function(e,n){return l(t(e),n)}}(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}(l).right,p=Math.sqrt(50),d=Math.sqrt(10),g=Math.sqrt(2);function y(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=p?10:o>=d?5:o>=g?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=p?10:o>=d?5:o>=g?2:1)}function m(){}function _(t,e){var n=new m;if(t instanceof m)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function v(){}m.prototype=_.prototype={constructor:m,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var M=_.prototype;v.prototype=function(t,e){var n=new v;if(t instanceof v)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}.prototype={constructor:v,has:M.has,add:function(t){return this["$"+(t+="")]=t,this},remove:M.remove,clear:M.clear,values:M.keys,size:M.size,empty:M.empty,each:M.each};var b=Array.prototype,x=b.map,E=b.slice;function I(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function w(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function N(){}var C=1/.7,S="\\s*([+-]?\\d+)\\s*",A="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",L="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P=/^#([0-9a-f]{3})$/,T=/^#([0-9a-f]{6})$/,R=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),O=new RegExp("^rgb\\("+[L,L,L]+"\\)$"),D=new RegExp("^rgba\\("+[S,S,S,A]+"\\)$"),F=new RegExp("^rgba\\("+[L,L,L,A]+"\\)$"),B=new RegExp("^hsl\\("+[A,L,L]+"\\)$"),G=new RegExp("^hsla\\("+[A,L,L,A]+"\\)$"),k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function q(t){var e;return t=(t+"").trim().toLowerCase(),(e=P.exec(t))?new Y((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=T.exec(t))?U(parseInt(e[1],16)):(e=R.exec(t))?new Y(e[1],e[2],e[3],1):(e=O.exec(t))?new Y(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=D.exec(t))?z(e[1],e[2],e[3],e[4]):(e=F.exec(t))?z(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=B.exec(t))?H(e[1],e[2]/100,e[3]/100,1):(e=G.exec(t))?H(e[1],e[2]/100,e[3]/100,e[4]):k.hasOwnProperty(t)?U(k[t]):"transparent"===t?new Y(NaN,NaN,NaN,0):null}function U(t){return new Y(t>>16&255,t>>8&255,255&t,1)}function z(t,e,n,i){return i<=0&&(t=e=n=NaN),new Y(t,e,n,i)}function V(t){return t instanceof N||(t=q(t)),t?new Y((t=t.rgb()).r,t.g,t.b,t.opacity):new Y}function j(t,e,n,i){return 1===arguments.length?V(t):new Y(t,e,n,null==i?1:i)}function Y(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function X(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function H(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new K(t,e,n,i)}function W(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof K)return new K(t.h,t.s,t.l,t.opacity);if(t instanceof N||(t=q(t)),!t)return new K;if(t instanceof K)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=u>0&&u<1?0:s,new K(s,a,u,t.opacity)}(t):new K(t,e,n,null==i?1:i)}function K(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function J(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}I(N,q,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),I(Y,j,w(N,{brighter:function(t){return t=null==t?C:Math.pow(C,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+X(this.r)+X(this.g)+X(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),I(K,W,w(N,{brighter:function(t){return t=null==t?C:Math.pow(C,t),new K(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new K(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Y(J(t>=240?t-240:t+120,r,i),J(t,r,i),J(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Q=Math.PI/180,Z=180/Math.PI,$=.96422,tt=1,et=.82521,nt=4/29,it=6/29,rt=3*it*it,ot=it*it*it;function st(t){if(t instanceof at)return new at(t.l,t.a,t.b,t.opacity);if(t instanceof pt){if(isNaN(t.h))return new at(t.l,0,0,t.opacity);var e=t.h*Q;return new at(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Y||(t=V(t));var n,i,r=lt(t.r),o=lt(t.g),s=lt(t.b),a=ut((.2225045*r+.7168786*o+.0606169*s)/tt);return r===o&&o===s?n=i=a:(n=ut((.4360747*r+.3850649*o+.1430804*s)/$),i=ut((.0139322*r+.0971045*o+.7141733*s)/et)),new at(116*a-16,500*(n-a),200*(a-i),t.opacity)}function at(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function ut(t){return t>ot?Math.pow(t,1/3):t/rt+nt}function ht(t){return t>it?t*t*t:rt*(t-nt)}function ct(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function lt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ft(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof pt)return new pt(t.h,t.c,t.l,t.opacity);if(t instanceof at||(t=st(t)),0===t.a&&0===t.b)return new pt(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Z;return new pt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new pt(t,e,n,null==i?1:i)}function pt(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}I(at,function(t,e,n,i){return 1===arguments.length?st(t):new at(t,e,n,null==i?1:i)},w(N,{brighter:function(t){return new at(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new at(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=$*ht(e),t=tt*ht(t),n=et*ht(n),new Y(ct(3.1338561*e-1.6168667*t-.4906146*n),ct(-.9787684*e+1.9161415*t+.033454*n),ct(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),I(pt,ft,w(N,{brighter:function(t){return new pt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new pt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return st(this).rgb()}}));var dt=-.14861,gt=1.78277,yt=-.29227,mt=-.90649,_t=1.97294,vt=_t*mt,Mt=_t*gt,bt=gt*yt-mt*dt;function xt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Et(t){return function(){return t}}function It(t,e){return function(n){return t+n*e}}function wt(t,e){var n=e-t;return n?It(t,n>180||n<-180?n-360*Math.round(n/360):n):Et(isNaN(t)?e:t)}function Nt(t){return 1==(t=+t)?Ct:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Et(isNaN(e)?n:e)}}function Ct(t,e){var n=e-t;return n?It(t,n):Et(isNaN(t)?e:t)}I(xt,function(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof xt)return new xt(t.h,t.s,t.l,t.opacity);t instanceof Y||(t=V(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(bt*i+vt*e-Mt*n)/(bt+vt-Mt),o=i-r,s=(_t*(n-r)-yt*o)/mt,a=Math.sqrt(s*s+o*o)/(_t*r*(1-r)),u=a?Math.atan2(s,o)*Z-120:NaN;return new xt(u<0?u+360:u,a,r,t.opacity)}(t):new xt(t,e,n,null==i?1:i)},w(N,{brighter:function(t){return t=null==t?C:Math.pow(C,t),new xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Q,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Y(255*(e+n*(dt*i+gt*r)),255*(e+n*(yt*i+mt*r)),255*(e+n*(_t*i)),this.opacity)}}));var St=function t(e){var n=Nt(e);function i(t,e){var i=n((t=j(t)).r,(e=j(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=Ct(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function At(t,e){return e-=t=+t,function(n){return t+e*n}}var Lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pt=new RegExp(Lt.source,"g");function Tt(t,e){var n,i=typeof e;return null==e||"boolean"===i?Et(e):("number"===i?At:"string"===i?(n=q(e))?(e=n,St):function(t,e){var n,i,r,o=Lt.lastIndex=Pt.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=Lt.exec(t))&&(i=Pt.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:At(n,i)})),o=Pt.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)a[(n=u[i]).i]=n.x(t);return a.join("")})}:e instanceof q?St:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}}:Array.isArray(e)?function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=Tt(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Tt(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}:At)(t,e)}function Rt(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}Math.PI,Math.SQRT2;var Ot=function(t){return function(e,n){var i=t((e=W(e)).h,(n=W(n)).h),r=Ct(e.s,n.s),o=Ct(e.l,n.l),s=Ct(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}(wt),Dt=function(t){return function(e,n){var i=t((e=ft(e)).h,(n=ft(n)).h),r=Ct(e.c,n.c),o=Ct(e.l,n.l),s=Ct(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}(wt);function Ft(t){return+t}var Bt=[0,1];function Gt(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(e)}function kt(t,e,n,i){var r=t[0],o=t[1],s=e[0],a=e[1];return o<r?(r=n(o,r),s=i(a,s)):(r=n(r,o),s=i(s,a)),function(t){return s(r(t))}}function qt(t,e,n,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=n(t[a],t[a+1]),s[a]=i(e[a],e[a+1]);return function(e){var n=f(t,e,1,r)-1;return s[n](o[n](e))}}function Ut(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function zt(t){return(t=Ut(Math.abs(t)))?t[1]:NaN}var Vt,jt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yt(t){return new Xt(t)}function Xt(t){if(!(e=jt.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Ht(t,e){var n=Ut(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Yt.prototype=Xt.prototype,Xt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Wt={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ht(100*t,e)},r:Ht,s:function(t,e){var n=Ut(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Vt=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ut(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Kt(t){return t}var Jt,Qt,Zt,$t=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function te(t){var e=t.grouping&&t.thousands?function(t,e){return function(n,i){for(var r=n.length,o=[],s=0,a=t[0],u=0;r>0&&a>0&&(u+a+1>i&&(a=Math.max(1,i-u)),o.push(n.substring(r-=a,r+a)),!((u+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}(t.grouping,t.thousands):Kt,n=t.currency,i=t.decimal,r=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):Kt,o=t.percent||"%";function s(t){var s=(t=Yt(t)).fill,a=t.align,u=t.sign,h=t.symbol,c=t.zero,l=t.width,f=t.comma,p=t.precision,d=t.trim,g=t.type;"n"===g?(f=!0,g="g"):Wt[g]||(null==p&&(p=12),d=!0,g="g"),(c||"0"===s&&"="===a)&&(c=!0,s="0",a="=");var y="$"===h?n[0]:"#"===h&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===h?n[1]:/[%p]/.test(g)?o:"",_=Wt[g],v=/[defgprs%]/.test(g);function M(t){var n,o,h,M=y,b=m;if("c"===g)b=_(t)+b,t="";else{var x=(t=+t)<0;if(t=_(Math.abs(t),p),d&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),x&&0==+t&&(x=!1),M=(x?"("===u?u:"-":"-"===u||"("===u?"":u)+M,b=("s"===g?$t[8+Vt/3]:"")+b+(x&&"("===u?")":""),v)for(n=-1,o=t.length;++n<o;)if(48>(h=t.charCodeAt(n))||h>57){b=(46===h?i+t.slice(n+1):t.slice(n))+b,t=t.slice(0,n);break}}f&&!c&&(t=e(t,1/0));var E=M.length+t.length+b.length,I=E<l?new Array(l-E+1).join(s):"";switch(f&&c&&(t=e(I+t,I.length?l-b.length:1/0),I=""),a){case"<":t=M+t+b+I;break;case"=":t=M+I+t+b;break;case"^":t=I.slice(0,E=I.length>>1)+M+t+b+I.slice(E);break;default:t=I+M+t+b}return r(t)}return p=null==p?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),M.toString=function(){return t+""},M}return{format:s,formatPrefix:function(t,e){var n=s(((t=Yt(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(zt(e)/3))),r=Math.pow(10,-i),o=$t[8+i/3];return function(t){return n(r*t)+o}}}}!function(t){Jt=te(t),Qt=Jt.format,Zt=Jt.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ee=new Date,ne=new Date;function ie(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return ie(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return ee.setTime(+e),ne.setTime(+i),t(ee),t(ne),Math.floor(n(ee,ne))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var re=ie(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});re.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ie(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):re:null},re.range;var oe=6e4,se=6048e5,ae=(ie(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}).range,ie(function(t){t.setTime(Math.floor(t/oe)*oe)},function(t,e){t.setTime(+t+e*oe)},function(t,e){return(e-t)/oe},function(t){return t.getMinutes()}).range,ie(function(t){var e=t.getTimezoneOffset()*oe%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}).range,ie(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oe)/864e5},function(t){return t.getDate()-1}));function ue(t){return ie(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oe)/se})}ae.range;var he=ue(0),ce=ue(1),le=(ue(2),ue(3),ue(4)),fe=(ue(5),ue(6),he.range,ie(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}).range,ie(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));fe.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ie(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null},fe.range,ie(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*oe)},function(t,e){return(e-t)/oe},function(t){return t.getUTCMinutes()}).range,ie(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}).range;var pe=ie(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function de(t){return ie(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/se})}pe.range;var ge=de(0),ye=de(1),me=(de(2),de(3),de(4)),_e=(de(5),de(6),ge.range,ie(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}).range,ie(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function ve(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Me(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function be(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}_e.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ie(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null},_e.range;var xe,Ee,Ie,we={"-":"",_:" ",0:"0"},Ne=/^\s*\d+/,Ce=/^%/,Se=/[\\^$*+?|[\]().{}]/g;function Ae(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Le(t){return t.replace(Se,"\\$&")}function Pe(t){return new RegExp("^(?:"+t.map(Le).join("|")+")","i")}function Te(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Re(t,e,n){var i=Ne.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Oe(t,e,n){var i=Ne.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function De(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Fe(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Be(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Ge(t,e,n){var i=Ne.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function ke(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function qe(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Ue(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function ze(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ve(t,e,n){var i=Ne.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function je(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Ye(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Xe(t,e,n){var i=Ne.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function He(t,e,n){var i=Ne.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function We(t,e,n){var i=Ne.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Ke(t,e,n){var i=Ce.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Je(t,e,n){var i=Ne.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Qe(t,e,n){var i=Ne.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function Ze(t,e){return Ae(t.getDate(),e,2)}function $e(t,e){return Ae(t.getHours(),e,2)}function tn(t,e){return Ae(t.getHours()%12||12,e,2)}function en(t,e){return Ae(1+ae.count(fe(t),t),e,3)}function nn(t,e){return Ae(t.getMilliseconds(),e,3)}function rn(t,e){return nn(t,e)+"000"}function on(t,e){return Ae(t.getMonth()+1,e,2)}function sn(t,e){return Ae(t.getMinutes(),e,2)}function an(t,e){return Ae(t.getSeconds(),e,2)}function un(t){var e=t.getDay();return 0===e?7:e}function hn(t,e){return Ae(he.count(fe(t),t),e,2)}function cn(t,e){var n=t.getDay();return t=n>=4||0===n?le(t):le.ceil(t),Ae(le.count(fe(t),t)+(4===fe(t).getDay()),e,2)}function ln(t){return t.getDay()}function fn(t,e){return Ae(ce.count(fe(t),t),e,2)}function pn(t,e){return Ae(t.getFullYear()%100,e,2)}function dn(t,e){return Ae(t.getFullYear()%1e4,e,4)}function gn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ae(e/60|0,"0",2)+Ae(e%60,"0",2)}function yn(t,e){return Ae(t.getUTCDate(),e,2)}function mn(t,e){return Ae(t.getUTCHours(),e,2)}function _n(t,e){return Ae(t.getUTCHours()%12||12,e,2)}function vn(t,e){return Ae(1+pe.count(_e(t),t),e,3)}function Mn(t,e){return Ae(t.getUTCMilliseconds(),e,3)}function bn(t,e){return Mn(t,e)+"000"}function xn(t,e){return Ae(t.getUTCMonth()+1,e,2)}function En(t,e){return Ae(t.getUTCMinutes(),e,2)}function In(t,e){return Ae(t.getUTCSeconds(),e,2)}function wn(t){var e=t.getUTCDay();return 0===e?7:e}function Nn(t,e){return Ae(ge.count(_e(t),t),e,2)}function Cn(t,e){var n=t.getUTCDay();return t=n>=4||0===n?me(t):me.ceil(t),Ae(me.count(_e(t),t)+(4===_e(t).getUTCDay()),e,2)}function Sn(t){return t.getUTCDay()}function An(t,e){return Ae(ye.count(_e(t),t),e,2)}function Ln(t,e){return Ae(t.getUTCFullYear()%100,e,2)}function Pn(t,e){return Ae(t.getUTCFullYear()%1e4,e,4)}function Tn(){return"+0000"}function Rn(){return"%"}function On(t){return+t}function Dn(t){return Math.floor(+t/1e3)}!function(t){(xe=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,h=Pe(r),c=Te(r),l=Pe(o),f=Te(o),p=Pe(s),d=Te(s),g=Pe(a),y=Te(a),m=Pe(u),_=Te(u),v={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Ze,e:Ze,f:rn,H:$e,I:tn,j:en,L:nn,m:on,M:sn,p:function(t){return r[+(t.getHours()>=12)]},Q:On,s:Dn,S:an,u:un,U:hn,V:cn,w:ln,W:fn,x:null,X:null,y:pn,Y:dn,Z:gn,"%":Rn},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:yn,e:yn,f:bn,H:mn,I:_n,j:vn,L:Mn,m:xn,M:En,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:On,s:Dn,S:In,u:wn,U:Nn,V:Cn,w:Sn,W:An,x:null,X:null,y:Ln,Y:Pn,Z:Tn,"%":Rn},b={a:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=l.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return I(t,e,n,i)},d:ze,e:ze,f:We,H:je,I:je,j:Ve,L:He,m:Ue,M:Ye,p:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},Q:Je,s:Qe,S:Xe,u:Oe,U:De,V:Fe,w:Re,W:Be,x:function(t,e,i){return I(t,n,e,i)},X:function(t,e,n){return I(t,i,e,n)},y:ke,Y:Ge,Z:qe,"%":Ke};function x(t,e){return function(n){var i,r,o,s=[],a=-1,u=0,h=t.length;for(n instanceof Date||(n=new Date(+n));++a<h;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(r=we[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),u=a+1);return s.push(t.slice(u,a)),s.join("")}}function E(t,e){return function(n){var i,r,o=be(1900),s=I(o,t,n+="",0);if(s!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=Me(be(o.y)),r=i.getUTCDay(),i=r>4||0===r?ye.ceil(i):ye(i),i=pe.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(i=e(be(o.y)),r=i.getDay(),i=r>4||0===r?ce.ceil(i):ce(i),i=ae.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Me(be(o.y)).getUTCDay():e(be(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Me(o)):e(o)}}function I(t,e,n,i){for(var r,o,s=0,a=e.length,u=n.length;s<a;){if(i>=u)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=b[r in we?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return v.x=x(n,v),v.X=x(i,v),v.c=x(e,v),M.x=x(n,M),M.X=x(i,M),M.c=x(e,M),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",ve);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,Me);return e.toString=function(){return t},e}}}(t)).format,xe.parse,Ee=xe.utcFormat,Ie=xe.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Date.prototype.toISOString||Ee("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||Ie("%Y-%m-%dT%H:%M:%S.%LZ");var Fn=function(t){var e=(t=t||{}).stops||[0],n=t.colors||[new u];this.interpolateType=t.interpolateType||"interpolateRgb",this.update(e,n)},Bn={interpolateTypes:{configurable:!0},background:{configurable:!0},obj:{configurable:!0},fontColor:{configurable:!0}};Bn.interpolateTypes.get=function(){return{interpolateRgb:St,interpolateHsl:Ot,interpolateHcl:Dt}},Fn.prototype.update=function(t,e){this.stops=t,this.colors=e;var n=e.map(function(t){return t.rgba2str()});if(!this.interpolateTypes[this.interpolateType])throw new Error("Does not exist");this.interpolator=function t(){var e=function(t,e){var n,i,r,o=Bt,s=Bt,a=Tt,u=!1;function h(){return n=Math.min(o.length,s.length)>2?qt:kt,i=r=null,c}function c(e){return(i||(i=n(o,s,u?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}(t):t,a)))(+e)}return c.invert=function(t){return(r||(r=n(s,o,Gt,u?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}(e):e)))(+t)},c.domain=function(t){return arguments.length?(o=x.call(t,Ft),h()):o.slice()},c.range=function(t){return arguments.length?(s=E.call(t),h()):s.slice()},c.rangeRound=function(t){return s=E.call(t),a=Rt,h()},c.clamp=function(t){return arguments.length?(u=!!t,h()):u},c.interpolate=function(t){return arguments.length?(a=t,h()):a},h()}(Gt,At);return e.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}(e,t())},function(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=y(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return function(t,e,n){var i,r=t[0],o=t[t.length-1],s=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=p?r*=10:o>=d?r*=5:o>=g&&(r*=2),e<t?-r:r}(r,o,null==e?10:e);switch((n=Yt(null==n?",f":n)).type){case"s":var a=Math.max(Math.abs(r),Math.abs(o));return null!=n.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(zt(e)/3)))-zt(Math.abs(t)))}(s,a))||(n.precision=i),Zt(n,a);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zt(e)-zt(t))+1}(s,Math.max(Math.abs(r),Math.abs(o))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(t){return Math.max(0,-zt(Math.abs(t)))}(s))||(n.precision=i-2*("%"===n.type))}return Qt(n)}(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,s=r.length-1,a=r[o],u=r[s];return u<a&&(i=a,a=u,u=i,i=o,o=s,s=i),(i=y(a,u,n))>0?i=y(a=Math.floor(a/i)*i,u=Math.ceil(u/i)*i,n):i<0&&(i=y(a=Math.ceil(a*i)/i,u=Math.floor(u*i)/i,n)),i>0?(r[o]=Math.floor(a/i)*i,r[s]=Math.ceil(u/i)*i,e(r)):i<0&&(r[o]=Math.ceil(a*i)/i,r[s]=Math.floor(u*i)/i,e(r)),t},t}(e)}().domain(t).range(n).interpolate(this.interpolateTypes[this.interpolateType])},Fn.parseUIGradients=function(){var t={};return c.forEach(function(e){return t[e.name]=e.colors}),t},Fn.parseObj=function(t){var e=[],n=[];for(var i in t)e.push(parseFloat(i)),n.push(u.parseString(t[i]));return new Fn({stops:e,colors:n})},Fn.parseName=function(t){var e=Fn.parseUIGradients();if(!e[t])return console.warn("name does not exist"),e.Skyline;for(var n=e[t],i=n.length,r=[],o=[],s=0;s<i;s++){var a=n[s];r.push(s/(i-1)),o.push(u.parseString(a))}return new Fn({stops:r,colors:o})},Bn.background.get=function(){var t=this,e=this.stops.map(function(e,n){return[e,t.colors[n]]}).sort(function(t,e){return t[0]-e[0]}).map(function(t){return"{0} {1}%".format(t[1].rgba2str(),100*t[0])});return e.length>1?"linear-gradient({0})".format(e.join(",")):e[0]},Bn.obj.get=function(){var t=this.stops,e=this.colors,n={};return t.forEach(function(t,i){return n[t]=e[i].hex}),n},Fn.prototype.interpolate=function(t){var e=this.interpolator;return Array.isArray(t)?Array.isArray(t)?t.map(function(t){return e(t)}):void 0:e(t)},Bn.fontColor.get=function(){return u.parseString(this.interpolate(.5)).fontColor()},Fn.prototype.fontColorstr=function(){return this.fontColor.rgba2str()},Fn.prototype.colorgroups=function(){return this.colors.map(function(t){return t.colorgroup})},Fn.prototype.toJSON=function(){return JSON.stringify(this.obj)},Fn.parse=function(t){return"string"==typeof t?Fn.parseName(t):Fn.parseObj(t)},Object.defineProperties(Fn.prototype,Bn),t.exports.Color=u,t.exports.Gradient=Fn,String.prototype.formatold||(String.prototype.formatold=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}),String.prototype.format||(String.prototype.format=function(){var t=arguments;return t?this.replace(/{([^}]*)}/g,function(e){var n=e.replace(/{/,"").replace(/}/,"");return isNaN(parseInt(n))?t[0][n]?t[0][n]:e:void 0!==t[n]?t[n]:e}):this}),String.prototype.lpad=function(t,e){for(var n=this;n.length<e;)n=t+n;return n},String.prototype.rpad=function(t,e){for(var n=this;n.length<e;)n+=t;return n},String.prototype.getHostName||(String.prototype.getHostName=function(){var t=this.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=t&&t.length>2&&"string"==typeof t[2]&&t[2].length>0?t[2]:null}),String.prototype.replaceAll||(String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)}),String.prototype.padZero||(String.prototype.padZero=function(t,e){for(var n="",i=e||"0",r=(t||2)-this.length;n.length<r;)n+=i;return n+this}),Date.prototype.addHours||(Date.prototype.addHours=function(t){return this.setTime(this.getTime()+60*t*60*1e3),this}),Number.prototype.padZero||(Number.prototype.padZero=function(t,e){return String(this).padZero(t,e)}),Number.prototype.clamp||(Number.prototype.clamp=function(t,e){return Math.min(Math.max(this,t),e)}),Number.prototype.ordermag||(Number.prototype.ordermag=function(){var t=Math.floor(Math.log(this)/Math.LN10+1e-9);return Math.pow(10,t)}),[Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array].forEach(function(t){t.prototype.range||(t.prototype.range=function(){for(var t=0;t<this.length;t++)this[t]=t;return this}),t.prototype.random||(t.prototype.random=function(){for(var t=0;t<this.length;t++)this[t]=parseInt(Math.random()*(this.length-1));return this}),t.prototype.clamp||(t.prototype.clamp=function(t,e){for(var n=0;n<this.length;n++)this[n]=n.clamp(t,e);return this}),t.prototype.min||(t.prototype.min=function(){for(var t=1/0,e=this.length,n=0;n<e;n++)this[n]<t&&(t=this[n]);return t}),t.prototype.max||(t.prototype.max=function(){for(var t=-1/0,e=this.length,n=0;n<e;n++)this[n]>t&&(t=this[n]);return t}),t.prototype.add||(t.prototype.add=function(t){for(var e=0,n=this.length;e<n;e++)this[e]+=t;return this}),t.prototype.subtract||(t.prototype.subtract=function(t){for(var e=0,n=this.length;e<n;e++)this[e]-=t;return this}),t.prototype.multiply||(t.prototype.multiply=function(t){for(var e=0,n=this.length;e<n;e++)this[e]*=t;return this}),t.prototype.divide||(t.prototype.divide=function(t){for(var e=0,n=this.length;e<n;e++)this[e]/=t;return this}),t.prototype.compare||(t.prototype.compare=function(t){for(var e=0,n=this.length;e<n;e++)if(t[e]-this[e]>1e-7)return!1;return!0}),t.prototype.move||(t.prototype.move=function(t,e){if(e===t)return this;for(var n=this[t],i=e<t?-1:1,r=t;r!=e;r+=i)this[r]=this[r+i];return this[e]=n,this}),t.prototype.sortIndices||(t.prototype.sortIndices=function(t){var e=t?function(t,e){return e[1]-t[1]}:function(t,e){return t[1]-e[1]},n=this.slice(0),i=new Array(this.length).fill();return i.map(function(t,e){return[e,n[e]]}).sort(e).map(function(t){return t[0]})})}),t.exports.range=function(t,e){if(t=void 0!==t?t:0,!Number.isInteger(t))throw Error("Error in range: Value must be an integer");var n;"Uint8"==e&&(n=new Uint8Array(t)),"Uint16"==e&&(n=new Uint16Array(t)),"Uint32"==e&&(n=new Uint32Array(t)),"Int8"==e&&(n=new Int8Array(t)),"Int16"==e&&(n=new Int16Array(t)),"Int32"==e&&(n=new Int32Array(t)),"Float32"==e&&(n=new Float32Array(t)),void 0!==e&&n||(n=new Array(t));for(var i=0;i<t;i++)n[i]=i;return n},t.exports.isFloat32Array=function(t){return"[object Float32Array]"===Object.prototype.toString.call(t)},t.exports.isUint32Array=function(t){return"[object Uint32Array]"===Object.prototype.toString.call(t)},t.exports.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.exports.humanFileSize=function(t){var e=Math.floor(Math.log(t)/Math.log(1024));return Math.round(t/Math.pow(1024,e)*100)/100+" "+["B","kB","MB","GB"][e]},t.exports.getFileExtension=function(t){return t.split(".").pop()},t.exports.debounce=function(t,e,n){var i;return function(){var r=this,o=arguments,s=n&&!i;clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(r,o)},e),s&&t.apply(r,o)}},t.exports.extend=function(t,e){for(var n in e)t[n]=e[n];return t},t.exports.hex2rgba=function(t){t=(t=(t=t.replace(/\s/g,"")).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,i){return e+e+n+n+i+i+"ff"})).replace(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,function(t,e,n,i){return e+n+i+"ff"});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:.01*Math.round(parseInt(e[4],16)/255*100)}:null},t.exports.rgb2hsv=function(t){var e,n,i,r,o,s=t.r/255,a=t.g/255,u=t.b/255,h=Math.max(s,a,u),c=h-Math.min(s,a,u),l=function(t){return(h-t)/6/c+.5};return 0==c?r=o=0:(o=c/h,e=l(s),n=l(a),i=l(u),s===h?r=i-n:a===h?r=1/3+e-i:u===h&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),{h:Math.round(360*r),s:.01*Math.round(100*o),v:.01*Math.round(100*h)}},t.exports.hsv2rgb=function(t){var e,n,i,r=t.h/360,o=t.s,s=t.v,a=Math.floor(6*r),u=6*r-a,h=s*(1-o),c=s*(1-u*o),l=s*(1-(1-u)*o);switch(a%6){case 0:e=s,n=l,i=h;break;case 1:e=c,n=s,i=h;break;case 2:e=h,n=s,i=l;break;case 3:e=h,n=c,i=s;break;case 4:e=l,n=h,i=s;break;case 5:e=s,n=h,i=c}return{r:Math.floor(255*e),g:Math.floor(255*n),b:Math.floor(255*i)}},t.exports.rgb2hex=function(t){var e=t.a?("0"+parseInt(Math.round(255*t.a),10).toString(16)).slice(-2):"";return"#"+("0"+parseInt(t.r,10).toString(16)).slice(-2)+("0"+parseInt(t.g,10).toString(16)).slice(-2)+("0"+parseInt(t.b,10).toString(16)).slice(-2)+e}}()},function(t,e,n){const{mat4:i,vec3:r}=n(36),o=function(t,e,n){const i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(i));return i};t.exports.createShader=o,t.exports.createProgram=function(t,e,n){const i=t.createProgram(),r=o(t,t.VERTEX_SHADER,e),s=o(t,t.FRAGMENT_SHADER,n);if(t.attachShader(i,r),t.attachShader(i,s),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(i));const a={program:i,attributes:{},uniforms:{},textures:{}},u=t.getProgramParameter(i,t.ACTIVE_ATTRIBUTES);for(let e=0;e<u;e++){const n=t.getActiveAttrib(i,e);a.attributes[n.name]=t.getAttribLocation(i,n.name)}const h=t.getProgramParameter(i,t.ACTIVE_UNIFORMS);for(let e=0;e<h;e++){const n=t.getActiveUniform(i,e);35678==n.type?a.textures[n.name]=t.getUniformLocation(i,n.name):a.uniforms[n.name]=t.getUniformLocation(i,n.name)}return a},t.exports.createTexture=function(t,e,n,i,r){const o=t.createTexture();return s(t,o,e,n,i,r)};const s=function(t,e,n,i,r,o){return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n),i instanceof Uint8Array?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,o,0,t.RGBA,t.UNSIGNED_BYTE,i):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i),t.bindTexture(t.TEXTURE_2D,null),e};t.exports.updateTexture=s;const a=function(t,e,n,i){t.activeTexture(t.TEXTURE0+i),t.bindTexture(t.TEXTURE_2D,n),t.uniform1i(e,i)};t.exports.bindTexture=a;const u=function(t,e,n){let i=0;for(let r in e.textures){if(!n[r])throw new Error(r+" Texture does not exist");a(t,e.textures[r],n[r].buffer,i),i++}};t.exports.bindTextures=u;const h=function(t){const e=t.gl,n=t.program,i=t.buffers,r=t.uniforms,o=t.textures;y(e,n,i),_(e,n,i),u(e,n,o),d(e,n,r)};t.exports.bindProgram=h;const c=function(t){const e=t.gl,n=t.program;m(e,n)};t.exports.unBindProgram=c,t.exports.draw=function(t){const e=t.gl,n=t.program,i=t.indices,r=t.npoints;e.useProgram(n.program),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),h(t),i?f(e,t,i):p(e,t,r),c(t),e.useProgram(null)},t.exports.drawQuad=function(t){const e=t.gl,n=t.program,i=t.fb;e.useProgram(n.program),M(e,i,t.fbtexture),h(t),e.viewport(0,0,t.fbtexture.width,t.fbtexture.height),e.drawArrays(e.TRIANGLES,0,6),l(e,t.fbtexture),e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,e.canvas.width,e.canvas.height),c(t),e.useProgram(null)};const l=function(t,e){e.values=new Uint8Array(e.width*e.height*4),t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,e.values)};t.exports.readPixels=l;const f=function(t,e,n){t.drawElements(t[e.mode],n.nindices,n.indiceType,0)};t.exports.drawElements=f;const p=function(t,e,n){t.drawArrays(t[e.mode],0,n)};t.exports.drawArrays=p;const d=function(t,e,n){for(let i in e.uniforms){if(!n[i])throw new Error(i+" is not defined");if("float"==n[i].type){switch(n[i].data.length){case 1:t.uniform1fv(e.uniforms[i],n[i].data);break;case 2:t.uniform2fv(e.uniforms[i],n[i].data);break;case 3:t.uniform3fv(e.uniforms[i],n[i].data);break;case 4:t.uniform4fv(e.uniforms[i],n[i].data);break;default:throw new Error("Error in array length "+i)}}else if("matrix"==n[i].type){switch(n[i].data.length){case 4:t.uniformMatrix2fv(e.uniforms[i],!1,n[i].data);break;case 9:t.uniformMatrix3fv(e.uniforms[i],!1,n[i].data);break;case 16:t.uniformMatrix4fv(e.uniforms[i],!1,n[i].data);break;default:throw new Error("Error in array length "+i)}}}};t.exports.bindUniforms=d,t.exports.createArrayBuffer=function(t,e){const n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),n},t.exports.createElementBuffer=function(t,e){const n=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),n},t.exports.updateElementBuffer=function(t,e,n){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,n),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),e};const g=function(t,e,n,i){t.bindBuffer(t.ARRAY_BUFFER,e),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,i,t.FLOAT,!1,0,0)};t.exports.bindArrayAttribute=g;const y=function(t,e,n){const i=e.attributes;for(let r in i){if(!n[r])throw new Error("Buffer does not exist");g(t,n[r].data,e.attributes[r],n[r].numComponents)}};t.exports.bindAttributes=y;const m=function(t,e){const n=e.attributes;for(let i in n)t.disableVertexAttribArray(e.attributes[i])};t.exports.unBindAttributes=m;const _=function(t,e,n){n.indices&&v(t,n.indices.data)};t.exports.bindElement=_;const v=function(t,e){t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e)};t.exports.bindElementAttribute=v,t.exports.createFrameBuffer=function(t){return t.createFramebuffer()};const M=function(t,e,n){t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n.buffer,0)};t.exports.bindFrameBuffer=M,t.exports.initialisedView=function(t,e){const n=i.create(),r=i.create();return i.translate(r,r,[e.x,e.y,e.z]),[n,r]},t.exports.changePView=function(t,e,n){const r=t.canvas;r.width=r.width!=r.clientWidth?r.clientWidth:r.width,r.height=r.height!=r.clientHeight?r.clientHeight:r.height,t.viewport(0,0,t.canvas.width,t.canvas.height),n.aspect=t.canvas.clientWidth/t.canvas.clientHeight,i.perspective(e,n.fieldOfView,n.aspect,n.zNear,n.zFar)},t.exports.changeMView=function(t,e,n,o){let s=o.x,a=o.y,u=o.z;const h=r.create();i.getTranslation(h,n);const c=i.create();i.invert(c,e);const l=h[2],f=-h[2],p=l*c[0]*2*s/t.canvas.clientWidth,d=l*c[5]*2*a/t.canvas.clientHeight;u=l+(u=l+(u*=Math.pow(f,2)/(Math.pow(f,2)+100)/10)<-1e3?0:u)>-.1?0:u,i.translate(n,n,[-p,d,u])},t.exports.clearRect=function(t){t.clearRect(0,0,t.canvas.width,t.canvas.height)},t.exports.clearScene=function(t){t.clearColor(0,0,0,1),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return c});var i=n(0),r=n(22),o=n(4),s=n(19),a=n.n(s),u=n(23),h=n(1);class c{constructor(t,e){e||(e={}),this.debug=e.debug||!1,this.fromProj=e.fromProj||"EPSG:4326",this.toProj=e.toProj||"EPSG:4326",this.keepframes=void 0===e.keepframes||e.keepframes,t?this.initialised(t):this.initialisedBlank()}initialisedBlank(){this.file={endian:">",float:["f",4]},this.TITLE="",this.NBV1=0,this.NBV2=0,this.NVAR=this.NBV1+this.NBV2,this.VARINDEX=Object(h.range)(this.NVAR),this.IPARAM=[],this.NELEM3=0,this.NPOIN3=0,this.NDP3=0,this.NPLAN=1,this.NELEM2=0,this.NPOIN2=0,this.NDP2=0,this.NBV1=0,this.VARNAMES=[],this.VARUNITS=[],this.NBV2=0,this.CLDNAMES=[],this.CLDUNITS=[],this.IKLE3=[],this.IKLE2=[],this.IPOB2=[],this.IPOB3=[],this.MESHX=[],this.MESHY=[],this.tags={cores:[],times:[]},this.NFRAME=0}initialised(t){let e=this.debug;e&&console.time("Initialised selafin object"),e&&console.time("Buffer to Uint8Array"),this.uint8array=new Uint8Array(t),e&&console.timeEnd("Buffer to Uint8Array"),this.file={},this.file.endian=this.getEndianFromChar(80);let n=this.getHeaderMetaDataSLF();e&&console.time("Get connectivity matrix");let i=this.getHeaderIntegersSLF(n);e&&console.timeEnd("Get connectivity matrix"),e&&console.time("Change connectivity matrix: id to index"),this.IKLE3.add(-1),e&&console.timeEnd("Change connectivity matrix: id to index"),e&&console.time("Reorder connectivity matrix"),this.IKLE3F=this.IKLE3,this.IKLE3=this.reshapeIKLE(),e&&console.timeEnd("Reorder connectivity matrix"),this.file.float=this.getFloatTypeFromFloat(i),e&&console.time("Get mesh XY");let r=this.getHeaderFloatsSLF(i);e&&console.timeEnd("Get mesh XY"),e&&console.time("Get frame tags"),this.tags=this.getTimeHistorySLF(r),e&&console.timeEnd("Get frame tags"),this.keepframes&&this.getFrames(),e&&console.time("Transform mesh XY"),this.transform(),e&&console.timeEnd("Transform mesh XY"),this.initializeProperties(),e&&(console.timeEnd("Initialised selafin object"),console.log("NELEM:%d,NPOIN:%d,NFRAME:%d",this.NELEM3,this.NPOIN3,this.NFRAME))}initializeProperties(){this._TRIXY=null,this._TRIAREA=null,this._CX=null,this._CY=null,this._EDGES=null,this._BEDGES=null,this._IEDGES=null}getEndianFromChar(t){let e,n,r,o=this.uint8array,s=">";if([e,n,r]=i.a.unpack(s+"i"+t+"si",o,0),r!=t&&(s="<",[e,n,r]=i.a.unpack(s+"i"+t+"si",o,0)),e!=r)throw Error("... Cannot read "+t+" characters from your binary file +> Maybe it is the wrong file format ?");return s}getHeaderMetaDataSLF(){let t,e,n=this.uint8array,r=this.file.endian,o=0;[t,this.TITLE,e]=i.a.unpack(r+"i80si",n,o),o+=88,[t,this.NBV1,this.NBV2,e]=i.a.unpack(r+"iiii",n,o),o+=16,this.NVAR=this.NBV1+this.NBV2,this.VARINDEX=Object(h.range)(this.NVAR,"Uint8Array"),this.VARNAMES=[],this.VARUNITS=[],this.CLDNAMES=[],this.CLDUNITS=[];for(let s=0;s<this.NBV1;s++){let s,a;[t,s,a,e]=i.a.unpack(r+"i16s16si",n,o),o+=40,this.VARNAMES.push(s),this.VARUNITS.push(a)}for(let s=0;s<this.NBV2;s++){let s,a;[t,s,a,e]=i.a.unpack(r+"i16s16si",n,o),o+=40,this.CLDNAMES.push(s),this.CLDUNITS.push(a)}let s=i.a.unpack(r+"12i",n,o);return o+=48,this.IPARAM=s.slice(1,11),this.PROJ=this.IPARAM[1],this.DATETIME=new Uint16Array([1972,7,13,17,15,13]),1==this.IPARAM[9]&&(s=i.a.unpack(r+"8i",o),o+=32,this.DATETIME=s.slice(1,9)),o}getHeaderIntegersSLF(t){let e,n,r=this.uint8array,o=this.file.endian;if([e,this.NELEM3,this.NPOIN3,this.NDP3,this.NPLAN,n]=i.a.unpack(o+"6i",r,t),t+=24,this.NELEM2=this.NELEM3,this.NPOIN2=this.NPOIN3,this.NDP2=this.NDP3,this.NPLAN=Math.max(1,this.NPLAN),this.IPARAM[6]>1&&(this.NPLAN=this.IPARAM[6],this.NELEM2=this.NELEM3/(this.NPLAN-1),this.NPOIN2=this.NPOIN3/this.NPLAN,this.NDP2=this.NDP3/2),t+=4,this.IKLE3=new Uint32Array(i.a.unpack(o+this.NELEM3*this.NDP3+"i",r,t)),t+=4*this.NELEM3*this.NDP3,t+=4,this.NPLAN>1)throw Error("Check Javascript for 3D");return t+=4,this.IPOB3=new Uint32Array(i.a.unpack(o+this.NPOIN3+"i",r,t)),t+=4*this.NPOIN3,t+=4}getFloatTypeFromFloat(t){let e=this.uint8array,n=this.file.endian,r=this.NPOIN3,o=4,s="f",a=i.a.unpack(n+"i",e,t);t+=4,a[0]!=o*r&&(o=8,s="d"),t+=o*r;let u=i.a.unpack(n+"i",e,t);if(a[0]!=u[0])throw Error("... Cannot read "+r+" floats from your binary file +> Maybe it is the wrong file format ?");return[s,o]}getHeaderFloatsSLF(t){let e=this.uint8array,n=this.file.endian,[r,o]=this.file.float;return t+=4,this.MESHX=new Float32Array(i.a.unpack(n+this.NPOIN3+r,e,t)),t+=o*this.NPOIN3,t+=4,t+=4,this.MESHY=new Float32Array(i.a.unpack(n+this.NPOIN3+r,e,t)),t+=o*this.NPOIN3,t+=4}getTimeHistorySLF(t){let e=this.uint8array,n=this.file.endian,[r,o]=this.file.float,s=[],a=[];for(;;)try{a.push(t),t+=4,s.push(i.a.unpack(n+r,e,t)[0]),t+=o,t+=4,t+=this.NVAR*(4+o*this.NPOIN3+4)}catch(t){a.pop(a.length-1);break}return this.NFRAME=s.length,{cores:a,times:new Float32Array(s)}}writeHeaderSLF(){let e=this.file.endian,[n,r]=this.file.float,o=new t(0);o=t.concat([o,i.a.pack(e+"i80si",[80,this.TITLE,80])]),o=t.concat([o,i.a.pack(e+"iiii",[8,this.NBV1,this.NBV2,8])]);for(let n=0;n<this.NBV1;n++)o=t.concat([o,i.a.pack(e+"i16s16si",[32,this.VARNAMES[n],this.VARUNITS[n],32])]);for(let n=0;n<this.NBV2;n++)o=t.concat([o,i.a.pack(e+"i16s16si",[32,this.CLDNAMES[n],this.CLDUNITS[n],32])]);o=t.concat([o,i.a.pack(e+"i",[40])]);for(let n=0;n<this.IPARAM.length;n++)o=t.concat([o,i.a.pack(e+"i",[this.IPARAM[n]])]);if(o=t.concat([o,i.a.pack(e+"i",[40])]),1==this.IPARAM[9]){o=t.concat([o,i.a.pack(e+"i",[24])]);for(let n=0;n<6;n++)o=t.concat([o,i.a.pack(e+"i",[this.DATETIME[n]])]);o=t.concat([o,i.a.pack(e+"i",[24])])}o=t.concat([o,i.a.pack(e+"6i",[16,this.NELEM3,this.NPOIN3,this.NDP3,1,16])]),o=t.concat([o,i.a.pack(e+"i",[4*this.NELEM3*this.NDP3])]),o=t.concat([o,i.a.pack(e+"{0}i".format(this.NELEM3*this.NDP3),this.IKLE3F.add(1))]),o=t.concat([o,i.a.pack(e+"i",[4*this.NELEM3*this.NDP3])]),o=t.concat([o,i.a.pack(e+"i",[4*this.NPOIN3])]),o=t.concat([o,i.a.pack(e+(this.NPOIN3+"i"),this.IPOB3)]),o=t.concat([o,i.a.pack(e+"i",[4*this.NPOIN3])]),o=t.concat([o,i.a.pack(e+"i",[r*this.NPOIN3])]);for(let r=0;r<this.NPLAN;r++)o=t.concat([o,i.a.pack(e+(this.NPOIN2+n),this.MESHX)]);o=t.concat([o,i.a.pack(e+"i",[r*this.NPOIN3])]),o=t.concat([o,i.a.pack(e+"i",[r*this.NPOIN3])]);for(let r=0;r<this.NPLAN;r++)o=t.concat([o,i.a.pack(e+(this.NPOIN2+n),this.MESHY)]);return o=t.concat([o,i.a.pack(e+"i",[r*this.NPOIN3])])}writeCoreTimeSLF(e,n){let r=this.file.endian,[o,s]=this.file.float;const a=0!=this.tags.times.length&&this.tags.times[n]?this.tags.times[n]:n;return e=t.concat([e,i.a.pack(r+"i"+o+"i",[s,a,s])])}writeCoreVarSLF(e,n){let r=this.file.endian,[o,s]=this.file.float;for(let a=0;a<this.NVAR;a++){const u=this.getFrame(n,a);e=t.concat([e,i.a.pack(r+"i",[s*this.NPOIN3])]),e=t.concat([e,i.a.pack(r+(this.NPOIN3+o),u)]),e=t.concat([e,i.a.pack(r+"i",[s*this.NPOIN3])])}return e}getBuffer(){let t=this.writeHeaderSLF();for(let e=0;e<this.NFRAME;e++)t=this.writeCoreTimeSLF(t,e),t=this.writeCoreVarSLF(t,e);return t}getFrames(){let t=this.uint8array,e=this.file.endian,[n,r]=this.file.float,o=this.FRAMES=new Float32Array(this.NFRAME*this.NVAR*this.NPOIN3);for(let s=0;s<this.NFRAME;s++){let a=this.tags.cores[s];a+=4+r+4;for(let u=0;u<this.NVAR;u++)a+=4,o.set(i.a.unpack(e+this.NPOIN3+n,t,a),s*this.NVAR*this.NPOIN3+u*this.NPOIN3),a+=r*this.NPOIN3,a+=4}}getFrame(t,e){if(!this.FRAMES)return console.warn("this.FRAMES is null. Add keepframes=true in options"),null;if(t=void 0!==t?t:0,e=void 0!==e?e:0,!(t>=0&&t<this.NFRAME))throw Error("Check frame({0}) id={1} ".format(this.NFRAME,t));if(!(e>=0&&e<this.NVAR))throw Error("Check variable id");return this.FRAMES.subarray(t*this.NVAR*this.NPOIN3+e*this.NPOIN3,t*this.NVAR*this.NPOIN3+e*this.NPOIN3+this.NPOIN3)}getMinMax(){let t=new Float32Array(2*this.NVAR);for(let e=0;e<this.NVAR;e++){let n=Number.MIN_VALUE,i=Number.MAX_VALUE;for(let t=0;t<this.NFRAME;t++){const e=this.getFrame(t);i=Math.min(i,e.min()),n=Math.max(n,e.max())}t[2*e]=i,t[2*e+1]=n}return t}getVarMinMax(t){return this.minmax.subarray(2*t,2*t+1)}getElements(t){if(!t)return this.IKLE3F;if(!Number.isInteger(t)&&!Array.isArray(t))return this.IKLE3F;t=Number.isInteger(t)?[t]:t,this.debug&&console.time("Get elements");let e=new Uint32Array(t.length*this.NDP3);for(let n=0,i=0,r=t.length;n<r;n++,i+=3)e[i+0]=this.IKLE3F[t[n]],e[i+1]=this.IKLE3F[t[n]+1],e[i+2]=this.IKLE3F[t[n]+2];return this.debug&&console.timeEnd("Get elements"),e}getElementsW(t){if(!t)return this.IKLE3F;if(!Number.isInteger(t)&&!Array.isArray(t))return this.IKLE3F;t=Number.isInteger(t)?[t]:t,this.debug&&console.time("Get elementsW");let e=new Uint32Array(t.length*this.NDP3*2);for(let n=0,i=0,r=0,o=t.length;n<o;n++,i+=6,r+3)e[i+0]=this.IKLE3F[t[n]],e[i+1]=this.IKLE3F[t[n]+1],e[i+2]=this.IKLE3F[t[n]+1],e[i+3]=this.IKLE3F[t[n]+2],e[i+4]=this.IKLE3F[t[n]+2],e[i+5]=this.IKLE3F[t[n]];return this.debug&&console.timeEnd("Get elementsW"),e}reshapeIKLE(){let t=new Uint32Array(this.NELEM3*this.NDP3);for(let e=0,n=0;e<this.NELEM3;e++,n+=3)t[e]=this.IKLE3[n],t[e+this.NELEM3]=this.IKLE3[n+1],t[e+2*this.NELEM3]=this.IKLE3[n+2];return t}changeProj(t,e){this.fromProj=t,this.toProj=e,t!==e&&(this.initializeProperties(),this.transform())}transform(){const t=this.fromProj,e=this.toProj;if(t!==e){const n=Object(r.a)(t,e);let i;for(let t=0;t<this.NPOIN3;t++)i=n.forward([this.MESHX[t],this.MESHY[t]]),this.MESHX[t]=i[0],this.MESHY[t]=i[1];this.fromProj=e}}get TRIXY(){return this._TRIXY||this.getTriXY(),this._TRIXY}get varnames(){return this.VARNAMES.map(t=>t.replace(/\s/g,"").toLowerCase())}getVarIndex(t){return this.varnames.findIndex(e=>e==t)}get XY(){return this._XY||this.getXY(),this._XY}get IKLEW(){return this._IKLEW||this.getIKLEW(),this._IKLEW}get EDGES(){return this._EDGES||this.getEDGES(),this._EDGES}get BEDGES(){return this._BEDGES||this.getBEDGES(),this._BEDGES}get IEDGES(){return this._IEDGES||this.getIEDGES(),this._IEDGES}get CX(){return this._CX||this.getTriAttributes(),this._CX}get CY(){return this._CY||this.getTriAttributes(),this._CY}get TRIAREA(){return this._TRIAREA||this.getTriAttributes(),this._TRIAREA}get TRIBBOX(){return this._TRIBBOX||this.getTriAttributes(),this._TRIBBOX}get BBOX(){return this.EXTENT}get EXTENT(){return this._EXTENT||this.getExtent(),this._EXTENT}get POLYGON(){return this._POLYGON||this.getPolygon(),this._POLYGON}get EXTERIOR(){return this._EXTERIOR||this.getExterior(),this._EXTERIOR}get INTERIORS(){return this._INTERIORS||this.getExterior(),this._INTERIORS}get POLYGONS(){return this._POLYGONS||this.getPolygons(),this._POLYGONS}getExtent(){this.debug&&console.time("Get extent"),this._EXTENT=new Float32Array([this.MESHX.min(),this.MESHY.min(),this.MESHX.max(),this.MESHY.max()]),this.debug&&console.timeEnd("Get extent")}getExterior(){this.debug&&console.time("Get exterior/interiors");const t=this.POLYGONS,e=t.map(t=>a()(t)),n=this._INTERIORS=e.sortIndices(!0).map(e=>t[e]);this._EXTERIOR=n.shift(),this.debug&&console.timeEnd("Get exterior/interiors")}getCoordinate(t){return[this.MESHX[t],this.MESHY[t]]}getPolygon(){this.debug&&console.time("Get polygon"),0==this.INTERIORS.length?this._POLYGON=this.EXTERIOR:this._POLYGON=Object(u.a)(Object(o.featureCollection)(this.INTERIORS),this.EXTERIOR),this.debug&&console.timeEnd("Get polygon")}getPolygons(){this.debug&&console.time("Get polygons");const t=this.BEDGES,e=this._POLYGONS=[];let n,i,r=-1,s=[];for(;t.length>0;)-1==(n=t.findIndex(t=>t.start==r||t.end==r))?(s.length>0&&(e.push(Object(o.polygon)([s])),s=[]),i=t[0].start,r=t[0].end,s.push(this.getCoordinate(i)),s.push(this.getCoordinate(r)),t.splice(0,1)):(r=t[n].start==r?t[n].end:t[n].start,s.push(this.getCoordinate(r)),t.splice(n,1),0==t.length&&s.length>0&&e.push(Object(o.polygon)([s])));this.debug&&console.timeEnd("Get polygons")}getIKLEW(){this.debug&&console.time("Get connectivity for wireframe");let t=this._IKLEW=new Uint32Array(this.NELEM3*this.NDP3*2);for(let e=0,n=0,i=0;e<this.NELEM3;e++,n+=6,i+=3)t[n]=this.IKLE3F[i],t[n+1]=this.IKLE3F[i+1],t[n+2]=this.IKLE3F[i+1],t[n+3]=this.IKLE3F[i+2],t[n+4]=this.IKLE3F[i+2],t[n+5]=this.IKLE3F[i];this.debug&&console.timeEnd("Get connectivity for wireframe")}getTriXY(){this.debug&&console.time("Get element xy");let t,e,n,i=this._TRIXY=new Float32Array(this.NELEM3*this.NDP3*3);for(let r=0,o=0,s=this.NELEM3;r<s;r++,o+=9)t=this.IKLE3[r],e=this.IKLE3[r+this.NELEM3],n=this.IKLE3[r+2*this.NELEM3],i[o]=this.MESHX[t],i[o+1]=this.MESHY[t],i[o+3]=this.MESHX[e],i[o+4]=this.MESHY[e],i[o+6]=this.MESHX[n],i[o+7]=this.MESHY[n];this.debug&&console.timeEnd("Get element xy")}getXY(){this.debug&&console.time("Get points xy");let t=this._XY=new Float32Array(3*this.NPOIN3);for(let e=0,n=0,i=this.NPOIN3;e<i;e++,n+=3)t[n]=this.MESHX[e],t[n+1]=this.MESHY[e];this.debug&&console.timeEnd("Get points xy")}getBEDGES(){this.debug&&console.time("Get bedges");const t=this.EDGES;this._BEDGES=Object.keys(t).filter(e=>!t[e].boundary).map(e=>t[e]),this.debug&&console.timeEnd("Get bedges")}getIEDGES(){this.debug&&console.time("Get iedges");const t=this.EDGES;this._IEDGES=Object.keys(t).filter(e=>t[e].boundary).map(e=>t[e]),this.debug&&console.timeEnd("Get iedges")}getEDGES(){this.debug&&console.time("Get edges");const t=this._EDGES={};let e,n,i,r,o,s;for(let a=0;a<this.NELEM3;a++)e=this.IKLE3[a],n=this.IKLE3[a+this.NELEM3],i=this.IKLE3[a+2*this.NELEM3],r="{0}-{1}".format(Math.min(e,n),Math.max(e,n)),o="{0}-{1}".format(Math.min(n,i),Math.max(n,i)),s="{0}-{1}".format(Math.min(i,e),Math.max(i,e)),void 0!==t[r]?t[r].boundary=!0:t[r]={boundary:!1,start:Math.min(e,n),end:Math.max(e,n)},void 0!==t[o]?t[o].boundary=!0:t[o]={boundary:!1,start:Math.min(n,i),end:Math.max(n,i)},void 0!==t[s]?t[s].boundary=!0:t[s]={boundary:!1,start:Math.min(i,e),end:Math.max(i,e)};this.debug&&console.timeEnd("Get edges")}getTriAttributes(){this.debug&&console.time("Get element attributes");let t,e,n,i=this._CX=new Float32Array(this.NELEM3),r=this._CY=new Float32Array(this.NELEM3),o=this._TRIAREA=new Float32Array(this.NELEM3),s=this._TRIBBOX=new Array(this.NELEM3);for(let a=0,u=this.NELEM3;a<u;a++)t=this.IKLE3[a],e=this.IKLE3[a+this.NELEM3],n=this.IKLE3[a+2*this.NELEM3],i[a]=(this.MESHX[t]+this.MESHX[e]+this.MESHX[n])/3,r[a]=(this.MESHY[t]+this.MESHY[e]+this.MESHY[n])/3,s[a]={minX:Math.min(this.MESHX[t],Math.min(this.MESHX[e],this.MESHX[n])),minY:Math.min(this.MESHY[t],Math.min(this.MESHY[e],this.MESHY[n])),maxX:Math.max(this.MESHX[t],Math.max(this.MESHX[e],this.MESHX[n])),maxY:Math.max(this.MESHY[t],Math.max(this.MESHY[e],this.MESHY[n])),index:a},o[a]=Math.abs(.5*((this.MESHX[e]-this.MESHX[t])*(this.MESHY[n]-this.MESHY[t])-(this.MESHX[n]-this.MESHX[t])*(this.MESHY[e]-this.MESHY[t])));this.debug&&console.timeEnd("Get element attributes")}addTITLE(t){this.TITLE="{0}".format(t.rpad(" ",80))}addVAR(t){t||(t={});const e=t.name||"NewVariable",n=t.unit||"NewUnit";this.NBV1+=1,this.NVAR=this.NBV1+this.NBV2,this.VARINDEX=Object(h.range)(this.NVAR),this.VARNAMES.push("{0}".format(e.rpad(" ",16))),this.VARUNITS.push("{0}".format(n.rpad(" ",16)))}addPOINTS(t,e){if(!t)throw new Error("Requires points");this.IPOB3=new Uint32Array(t.length).range(),this.IPOB2=this.IPOB3,this.IPARAM=new Uint8Array(10),this.IPARAM[0]=1,this.NPOIN2=t.length,this.NPOIN3=this.NPOIN2,e?this._addXY(t,e):this._addPoints(t)}_addXY(t,e){this.MESHX=t,this.MESHY=e}_addPoints(t){this.MESHX=new Float32Array(this.NPOIN3),this.MESHY=new Float32Array(this.NPOIN3);for(let e=0;e<this.NPOIN3;e++)this.MESHX[e]=t[e].x,this.MESHY[e]=t[e].y}addIKLE(t){this.NDP2=3,this.NDP3=3,this.NELEM3=t.length/this.NDP3,this.NELEM2=this.NELEM3,this.IKLE2=t,this.IKLE3=t,this.IKLE3F=this.IKLE3,this.IKLE3=this.reshapeIKLE()}addFrame(t){if(t.length!=this.NVAR*this.NPOIN3)throw new Error("Wrong array size");if(this.NFRAME+=1,!this.FRAMES)return this.FRAMES=t;const e=this.FRAMES;this.FRAMES=new Float32Array(this.NFRAME*this.NVAR*this.NPOIN3),this.FRAMES.set(e,0),this.FRAMES.set(t,(this.NFRAME-1)*this.NVAR*this.NPOIN3)}addMesh(t,e,n,i){this.empty=!1,this.addTITLE(t),this.addVAR(e),this.addPOINTS(n),this.addIKLE(i)}printAttributes(){const t={NFRAME:this.NFRAME,NVAR:this.NVAR,NPOIN3:this.NPOIN3,NELEM3:this.NELEM3,EXTENT:this.EXTENT};console.log(t)}}}).call(this,n(8).Buffer)},function(t,e,n){"use strict";function i(t,e,n){void 0===n&&(n={});var i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function r(t,e,n){return void 0===n&&(n={}),i({type:"Point",coordinates:t},e,n)}function o(t,e,n){void 0===n&&(n={});for(var r=0,o=t;r<o.length;r++){var s=o[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:t},e,n)}function s(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:t},e,n)}function a(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function u(t,e,n){return void 0===n&&(n={}),i({type:"MultiLineString",coordinates:t},e,n)}function h(t,e,n){return void 0===n&&(n={}),i({type:"MultiPoint",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),i({type:"MultiPolygon",coordinates:t},e,n)}function l(t,n){void 0===n&&(n="kilometers");var i=e.factors[n];if(!i)throw new Error(n+" units is invalid");return t*i}function f(t,n){void 0===n&&(n="kilometers");var i=e.factors[n];if(!i)throw new Error(n+" units is invalid");return t/i}function p(t){return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=i,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return s(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return h(e).geometry;case"MultiLineString":return u(e).geometry;case"MultiPolygon":return c(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return r(t,e)}),n)},e.polygon=o,e.polygons=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return o(t,e)}),n)},e.lineString=s,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return s(t,e)}),n)},e.featureCollection=a,e.multiLineString=u,e.multiPoint=h,e.multiPolygon=c,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),i({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=l,e.lengthToRadians=f,e.lengthToDegrees=function(t,e){return p(f(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=p,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return l(f(t,e),n)},e.convertArea=function(t,n,i){if(void 0===n&&(n="meters"),void 0===i&&(i="kilometers"),!(t>=0))throw new Error("area must be a positive number");var r=e.areaFactors[n];if(!r)throw new Error("invalid original units");var o=e.areaFactors[i];if(!o)throw new Error("invalid final units");return t/r*o},e.isNumber=d,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!d(t))throw new Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")},e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(t,e,n){"use strict";var i=Math.PI/180,r=180/Math.PI;function o(t){var e=s(t[0]+1,t[2]);return[s(t[0],t[2]),a(t[1]+1,t[2]),e,a(t[1],t[2])]}function s(t,e){return t/Math.pow(2,e)*360-180}function a(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return r*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function u(t,e,n){var i=d(t,e,n);return i[0]=Math.floor(i[0]),i[1]=Math.floor(i[1]),i}function h(t){return[[2*t[0],2*t[1],t[2]+1],[2*t[0]+1,2*t[1],t[2]+1],[2*t[0]+1,2*t[1]+1,t[2]+1],[2*t[0],2*t[1]+1,t[2]+1]]}function c(t){return t[0]%2==0&&t[1]%2==0?[t[0]/2,t[1]/2,t[2]-1]:t[0]%2==0&&!t[1]%2==0?[t[0]/2,(t[1]-1)/2,t[2]-1]:!t[0]%2==0&&t[1]%2==0?[(t[0]-1)/2,t[1]/2,t[2]-1]:[(t[0]-1)/2,(t[1]-1)/2,t[2]-1]}function l(t){return h(c(t))}function f(t,e){for(var n=0;n<t.length;n++)if(p(t[n],e))return!0;return!1}function p(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function d(t,e,n){var r=Math.sin(e*i),o=Math.pow(2,n);return[o*(t/360+.5),o*(.5-.25*Math.log((1+r)/(1-r))/Math.PI),n]}t.exports={tileToGeoJSON:function(t){var e=o(t);return{type:"Polygon",coordinates:[[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]],[e[0],e[1]]]]}},tileToBBOX:o,getChildren:h,getParent:c,getSiblings:l,hasTile:f,hasSiblings:function(t,e){for(var n=l(t),i=0;i<n.length;i++)if(!f(e,n[i]))return!1;return!0},tilesEqual:p,tileToQuadkey:function(t){for(var e="",n=t[2];n>0;n--){var i=0,r=1<<n-1;0!=(t[0]&r)&&i++,0!=(t[1]&r)&&(i+=2),e+=i.toString()}return e},quadkeyToTile:function(t){for(var e=0,n=0,i=t.length,r=i;r>0;r--){var o=1<<r-1,s=+t[i-r];1===s&&(e|=o),2===s&&(n|=o),3===s&&(e|=o,n|=o)}return[e,n,i]},pointToTile:u,bboxToTile:function(t){var e=u(t[0],t[1],32),n=u(t[2],t[3],32),i=[e[0],e[1],n[0],n[1]],r=function(t){for(var e=0;e<28;e++){var n=1<<32-(e+1);if((t[0]&n)!=(t[2]&n)||(t[1]&n)!=(t[3]&n))return e}return 28}(i);return 0===r?[0,0,0]:[i[0]>>>32-r,i[1]>>>32-r,r]},pointToTileFraction:d}},function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n(34);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=m(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],u(r,t.leaf?i(o):o);return r}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!y(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],y(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):g(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!y(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],y(t,s=e.leaf?n(o):o)){if(e.leaf||g(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,u=this.toBBox(t),h=[],c=[];a||h.length;){if(a||(a=h.pop(),i=h[h.length-1],n=c.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),h.push(a),this._condense(h),this;s||a.leaf||!g(a,u)?i?(n++,a=i.children[n],s=!1):a=null:(h.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:h,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=m(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=m([])).leaf=!1,r.height=i;var u,h,c,l,f=Math.ceil(o/a),p=f*Math.ceil(Math.sqrt(a));for(_(t,e,n,p,this.compareMinX),u=e;u<=n;u+=p)for(_(t,u,c=Math.min(u+p-1,n),f,this.compareMinY),h=u;h<=c;h+=f)l=Math.min(h+f-1,c),r.children.push(this._build(t,h,l,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,h,c,f;i.push(e),!e.leaf&&i.length-1!==n;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)u=l(s=e.children[r]),(h=p(t,s)-u)<f?(f=h,c=u<c?u:c,a=s):h===f&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),u(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=m(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,u,h,c,f;for(h=c=1/0,i=e;i<=n-e;i++)s=d(r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox)),u=l(r)+l(o),s<h?(h=s,f=i,c=u<c?u:c):s===h&&u<c&&(c=u,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:h,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,h=a(t,0,e,s),c=a(t,n-e,n,s),l=f(h)+f(c);for(r=e;r<n-e;r++)o=t.children[r],u(h,t.leaf?s(o):o),l+=f(h);for(r=n-e-1;r>=e;r--)o=t.children[r],u(c,t.leaf?s(o):o),l+=f(c);return l},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)u(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){!function(t){"use strict";function e(){}function n(t){this.message=t||""}function i(t){this.message=t||""}function r(t){this.message=t||""}function o(){}function s(t){return null===t?Ot:t.color}function a(t){return null===t?null:t.parent}function u(t,e){null!==t&&(t.color=e)}function h(t){return null===t?null:t.left}function c(t){return null===t?null:t.right}function l(){this.root_=null,this.size_=0}function f(){}function p(){this.array_=[],arguments[0]instanceof Mt&&this.addAll(arguments[0])}function d(){}function g(t){this.message=t||""}function y(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var m=function(){};m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var _=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),v=function(){},M={MAX_VALUE:{configurable:!0}};v.isNaN=function(t){return Number.isNaN(t)},v.doubleToLongBits=function(t){return t},v.longBitsToDouble=function(t){return t},v.isInfinite=function(t){return!Number.isFinite(t)},M.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(v,M);var b=function(){},x=function(){},E=function(){},I=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},w={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};I.prototype.setOrdinate=function(t,e){switch(t){case I.X:this.x=e;break;case I.Y:this.y=e;break;case I.Z:this.z=e;break;default:throw new _("Invalid ordinate index: "+t)}},I.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!m.equalsWithTolerance(this.x,e.x,n)&&!!m.equalsWithTolerance(this.y,e.y,n)}},I.prototype.getOrdinate=function(t){switch(t){case I.X:return this.x;case I.Y:return this.y;case I.Z:return this.z}throw new _("Invalid ordinate index: "+t)},I.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||v.isNaN(this.z))&&v.isNaN(t.z)},I.prototype.equals=function(t){return t instanceof I&&this.equals2D(t)},I.prototype.equalInZ=function(t,e){return m.equalsWithTolerance(this.z,t.z,e)},I.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},I.prototype.clone=function(){},I.prototype.copy=function(){return new I(this)},I.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},I.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},I.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},I.prototype.hashCode=function(){var t=17;return t=37*(t=37*t+I.hashCode(this.x))+I.hashCode(this.y)},I.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},I.prototype.interfaces_=function(){return[b,x,e]},I.prototype.getClass=function(){return I},I.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=v.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},w.DimensionalComparator.get=function(){return N},w.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},w.NULL_ORDINATE.get=function(){return v.NaN},w.X.get=function(){return 0},w.Y.get=function(){return 1},w.Z.get=function(){return 2},Object.defineProperties(I,w);var N=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new _("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};N.prototype.compare=function(t,e){var n=t,i=e,r=N.compare(n.x,i.x);if(0!==r)return r;var o=N.compare(n.y,i.y);return 0!==o?o:this._dimensionsToTest<=2?0:N.compare(n.z,i.z)},N.prototype.interfaces_=function(){return[E]},N.prototype.getClass=function(){return N},N.compare=function(t,e){return t<e?-1:t>e?1:v.isNaN(t)?v.isNaN(e)?0:-1:v.isNaN(e)?1:0};var C=function(){};C.prototype.create=function(){},C.prototype.interfaces_=function(){return[]},C.prototype.getClass=function(){return C};var S=function(){},A={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};S.prototype.interfaces_=function(){return[]},S.prototype.getClass=function(){return S},S.toLocationSymbol=function(t){switch(t){case S.EXTERIOR:return"e";case S.BOUNDARY:return"b";case S.INTERIOR:return"i";case S.NONE:return"-"}throw new _("Unknown location value: "+t)},A.INTERIOR.get=function(){return 0},A.BOUNDARY.get=function(){return 1},A.EXTERIOR.get=function(){return 2},A.NONE.get=function(){return-1},Object.defineProperties(S,A);var L=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},P=function(){},T={LOG_10:{configurable:!0}};P.prototype.interfaces_=function(){return[]},P.prototype.getClass=function(){return P},P.log10=function(t){var e=Math.log(t);return v.isInfinite(e)?e:v.isNaN(e)?e:e/P.LOG_10},P.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},P.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},P.wrap=function(t,e){return t<0?e- -t%e:t%e},P.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=r;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},P.average=function(t,e){return(t+e)/2},T.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(P,T);var R=function(t){this.str=t};R.prototype.append=function(t){this.str+=t},R.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},R.prototype.toString=function(t){return this.str};var O=function(t){this.value=t};O.prototype.intValue=function(){return this.value},O.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},O.isNaN=function(t){return Number.isNaN(t)};var D=function(){};D.isWhitespace=function(t){return t<=32&&t>=0||127===t},D.toUpperCase=function(t){return t.toUpperCase()};var F=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];t.call(this,t.parse(i))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},B={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};F.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},F.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=F.magnitude(n._hi),r=F.TEN.pow(i);(n=n.divide(r)).gt(F.TEN)?(n=n.divide(F.TEN),i+=1):n.lt(F.ONE)&&(n=n.multiply(F.TEN),i-=1);for(var o=i+1,s=new R,a=F.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var h=Math.trunc(n._hi);if(h<0)break;var c=!1,l=0;h>9?(c=!0,l="9"):l="0"+h,s.append(l),n=n.subtract(F.valueOf(h)).multiply(F.TEN),c&&n.selfAdd(F.TEN);var f=!0,p=F.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-u&&(f=!1),!f)break}return e[0]=i,s.toString()},F.prototype.sqr=function(){return this.multiply(this)},F.prototype.doubleValue=function(){return this._hi+this._lo},F.prototype.subtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},F.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},F.prototype.isZero=function(){return 0===this._hi&&0===this._lo},F.prototype.selfSubtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},F.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},F.prototype.min=function(t){return this.le(t)?this:t},F.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,h=null,c=null,l=null;return u=this._hi/n,l=(r=(h=F.SPLIT*u)-(r=h-u))*(s=(l=F.SPLIT*n)-(s=l-n))-(c=u*n)+r*(a=n-s)+(o=u-r)*s+o*a,h=(this._hi-c-l+this._lo-u*i)/n,l=u+h,this._hi=l,this._lo=u-l+h,this}},F.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},F.prototype.divide=function(){if(arguments[0]instanceof F){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,s=null,a=null,u=null;return n=(o=this._hi/t._hi)-(e=(s=F.SPLIT*o)-(e=s-o)),u=e*(i=(u=F.SPLIT*t._hi)-(i=u-t._hi))-(a=o*t._hi)+e*(r=t._hi-i)+n*i+n*r,s=(this._hi-a-u+this._lo-o*t._lo)/t._hi,new F(u=o+s,o-u+s)}if("number"==typeof arguments[0]){var h=arguments[0];return v.isNaN(h)?F.createNaN():F.copy(this).selfDivide(h,0)}},F.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},F.prototype.pow=function(t){if(0===t)return F.valueOf(1);var e=new F(this),n=F.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},F.prototype.ceil=function(){if(this.isNaN())return F.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new F(t,e)},F.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},F.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},F.prototype.setValue=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},F.prototype.max=function(t){return this.ge(t)?this:t},F.prototype.sqrt=function(){if(this.isZero())return F.valueOf(0);if(this.isNegative())return F.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=F.valueOf(e),i=this.subtract(n.sqr())._hi*(.5*t);return n.add(i)},F.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return r=this._hi+e,s=r-this._hi,o=r-s,o=e-s+(this._hi-o),a=o+this._lo,i=a+(r-(n=r+a)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],h=arguments[1],c=null,l=null,f=null,p=null,d=null,g=null,y=null;p=this._hi+u,l=this._lo+h,d=p-(g=p-this._hi),f=l-(y=l-this._lo);var m=(c=p+(g=(d=u-g+(this._hi-d))+l))+(g=(f=h-y+(this._lo-f))+(g+(p-c))),_=g+(c-m);return this._hi=m,this._lo=_,this}},F.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,h=null;r=(u=F.SPLIT*this._hi)-this._hi,h=F.SPLIT*n,r=u-r,o=this._hi-r,s=h-n;var c=(u=this._hi*n)+(h=r*(s=h-s)-u+r*(a=n-s)+o*s+o*a+(this._hi*i+this._lo*n)),l=h+(r=u-c);return this._hi=c,this._lo=l,this}},F.prototype.selfSqr=function(){return this.selfMultiply(this)},F.prototype.floor=function(){if(this.isNaN())return F.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new F(t,e)},F.prototype.negate=function(){return this.isNaN()?this:new F(-this._hi,-this._lo)},F.prototype.clone=function(){},F.prototype.multiply=function(){if(arguments[0]instanceof F){var t=arguments[0];return t.isNaN()?F.createNaN():F.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return v.isNaN(e)?F.createNaN():F.copy(this).selfMultiply(e,0)}},F.prototype.isNaN=function(){return v.isNaN(this._hi)},F.prototype.intValue=function(){return Math.trunc(this._hi)},F.prototype.toString=function(){var t=F.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},F.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(i<0)r="0."+F.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length;r=n+F.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+r:r},F.prototype.reciprocal=function(){var t=null,e=null,n=null,i=null,r=null,o=null,s=null,a=null;e=(r=1/this._hi)-(t=(o=F.SPLIT*r)-(t=o-r)),n=(a=F.SPLIT*this._hi)-this._hi;var u=r+(o=(1-(s=r*this._hi)-(a=t*(n=a-n)-s+t*(i=this._hi-n)+e*n+e*i)-r*this._lo)/this._hi);return new F(u,r-u+o)},F.prototype.toSciNotation=function(){if(this.isZero())return F.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=F.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},F.prototype.abs=function(){return this.isNaN()?F.NaN:this.isNegative()?this.negate():new F(this)},F.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},F.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},F.prototype.add=function(){if(arguments[0]instanceof F){var t=arguments[0];return F.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return F.copy(this).selfAdd(e)}},F.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof F){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},F.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},F.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},F.prototype.trunc=function(){return this.isNaN()?F.NaN:this.isPositive()?this.floor():this.ceil()},F.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},F.prototype.interfaces_=function(){return[e,b,x]},F.prototype.getClass=function(){return F},F.sqr=function(t){return F.valueOf(t).selfMultiply(t)},F.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return F.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new F(e)}},F.sqrt=function(t){return F.valueOf(t).sqrt()},F.parse=function(t){for(var e=0,n=t.length;D.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new F,s=0,a=0,u=0;!(e>=n);){var h=t.charAt(e);if(e++,D.isDigit(h)){var c=h-"0";o.selfMultiply(F.TEN),o.selfAdd(c),s++}else{if("."!==h){if("e"===h||"E"===h){var l=t.substring(e);try{u=O.parseInt(l)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+l+" in string "+t):e}break}throw new Error("Unexpected character '"+h+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-u;if(0===p)f=o;else if(p>0){var d=F.TEN.pow(p);f=o.divide(d)}else if(p<0){var g=F.TEN.pow(-p);f=o.multiply(g)}return i?f.negate():f},F.createNaN=function(){return new F(v.NaN,v.NaN)},F.copy=function(t){return new F(t)},F.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},F.stringOfChar=function(t,e){for(var n=new R,i=0;i<e;i++)n.append(t);return n.toString()},B.PI.get=function(){return new F(3.141592653589793,1.2246467991473532e-16)},B.TWO_PI.get=function(){return new F(6.283185307179586,2.4492935982947064e-16)},B.PI_2.get=function(){return new F(1.5707963267948966,6.123233995736766e-17)},B.E.get=function(){return new F(2.718281828459045,1.4456468917292502e-16)},B.NaN.get=function(){return new F(v.NaN,v.NaN)},B.EPS.get=function(){return 1.23259516440783e-32},B.SPLIT.get=function(){return 134217729},B.MAX_PRINT_DIGITS.get=function(){return 32},B.TEN.get=function(){return F.valueOf(10)},B.ONE.get=function(){return F.valueOf(1)},B.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},B.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(F,B);var G=function(){},k={DP_SAFE_EPSILON:{configurable:!0}};G.prototype.interfaces_=function(){return[]},G.prototype.getClass=function(){return G},G.orientationIndex=function(t,e,n){var i=G.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=F.valueOf(e.x).selfAdd(-t.x),o=F.valueOf(e.y).selfAdd(-t.y),s=F.valueOf(n.x).selfAdd(-e.x),a=F.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},G.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},G.intersection=function(t,e,n,i){var r=F.valueOf(i.y).selfSubtract(n.y).selfMultiply(F.valueOf(e.x).selfSubtract(t.x)),o=F.valueOf(i.x).selfSubtract(n.x).selfMultiply(F.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=F.valueOf(i.x).selfSubtract(n.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),u=F.valueOf(i.y).selfSubtract(n.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),h=a.subtract(u).selfDivide(s).doubleValue(),c=F.valueOf(t.x).selfAdd(F.valueOf(e.x).selfSubtract(t.x).selfMultiply(h)).doubleValue(),l=F.valueOf(e.x).selfSubtract(t.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),f=F.valueOf(e.y).selfSubtract(t.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),p=l.subtract(f).selfDivide(s).doubleValue(),d=F.valueOf(n.y).selfAdd(F.valueOf(i.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new I(c,d)},G.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(o<=0)return G.signum(s);i=r+o}else{if(!(r<0))return G.signum(s);if(o>=0)return G.signum(s);i=-r-o}var a=G.DP_SAFE_EPSILON*i;return s>=a||-s>=a?G.signum(s):2},G.signum=function(t){return t>0?1:t<0?-1:0},k.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(G,k);var q=function(){},U={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};U.X.get=function(){return 0},U.Y.get=function(){return 1},U.Z.get=function(){return 2},U.M.get=function(){return 3},q.prototype.setOrdinate=function(t,e,n){},q.prototype.size=function(){},q.prototype.getOrdinate=function(t,e){},q.prototype.getCoordinate=function(){},q.prototype.getCoordinateCopy=function(t){},q.prototype.getDimension=function(){},q.prototype.getX=function(t){},q.prototype.clone=function(){},q.prototype.expandEnvelope=function(t){},q.prototype.copy=function(){},q.prototype.getY=function(t){},q.prototype.toCoordinateArray=function(){},q.prototype.interfaces_=function(){return[x]},q.prototype.getClass=function(){return q},Object.defineProperties(q,U);var z=function(){},V=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(z),j=function(){};j.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},j.getProperty=function(t){return{"line.separator":"\n"}[t]};var Y=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof I&&arguments[1]instanceof I){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],h=arguments[1],c=arguments[2];this.x=u,this.y=h,this.w=c}else if(4===arguments.length){var l=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],g=l.y-f.y,y=f.x-l.x,m=l.x*f.y-f.x*l.y,_=p.y-d.y,v=d.x-p.x,M=p.x*d.y-d.x*p.y;this.x=y*M-v*m,this.y=_*m-g*M,this.w=g*v-_*y}};Y.prototype.getY=function(){var t=this.y/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new V;return t},Y.prototype.getX=function(){var t=this.x/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new V;return t},Y.prototype.getCoordinate=function(){var t=new I;return t.x=this.getX(),t.y=this.getY(),t},Y.prototype.interfaces_=function(){return[]},Y.prototype.getClass=function(){return Y},Y.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,u=i.x-n.x,h=n.x*i.y-i.x*n.y,c=r*u-a*o,l=(o*h-u*s)/c,f=(a*s-r*h)/c;if(v.isNaN(l)||v.isInfinite(l)||v.isNaN(f)||v.isInfinite(f))throw new V;return new I(l,f)};var X=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof I){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},H={serialVersionUID:{configurable:!0}};X.prototype.getArea=function(){return this.getWidth()*this.getHeight()},X.prototype.equals=function(t){if(!(t instanceof X))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},X.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new X;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new X(e,i,n,r)},X.prototype.isNull=function(){return this._maxx<this._minx},X.prototype.getMaxX=function(){return this._maxx},X.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof X){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}},X.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof X){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof I){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},X.prototype.getMinY=function(){return this._miny},X.prototype.getMinX=function(){return this._minx},X.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof X){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},X.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},X.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},X.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},X.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},X.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},X.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},X.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},X.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},X.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},X.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof X){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof I){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},X.prototype.centre=function(){return this.isNull()?null:new I((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},X.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof X){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},X.prototype.getMaxY=function(){return this._maxy},X.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},X.prototype.hashCode=function(){var t=17;return t=37*(t=37*(t=37*(t=37*t+I.hashCode(this._minx))+I.hashCode(this._maxx))+I.hashCode(this._miny))+I.hashCode(this._maxy)},X.prototype.interfaces_=function(){return[b,e]},X.prototype.getClass=function(){return X},X.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),h=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(h>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),h=Math.min(i.y,r.y),c=Math.max(i.y,r.y),h>u||c<a))}},H.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(X,H);var W={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},K=function(t){this.geometryFactory=t||new me};K.prototype.read=function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=W.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=W.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Q[n]&&(e=Q[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},K.prototype.write=function(t){return this.extractGeometry(t)},K.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!J[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+J[e].apply(this,[t])+")"};var J={coordinate:function(t){return t.x+" "+t.y},point:function(t){return J.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(J.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(J.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+J.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+J.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+J.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Q={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(W.spaces);return this.geometryFactory.createPoint(new I(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(W.spaces),i.push(new I(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(W.spaces),i.push(new I(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(W.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(W.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(W.trimParens,"$1"),n=Q.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(W.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(W.trimParens,"$1"),i.push(Q.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Z=function(t){this.parser=new K(t)};Z.prototype.write=function(t){return this.parser.write(t)},Z.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var $=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new I,this._intPt[1]=new I,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},it={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new R;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return Z.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Z.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},it.DONT_INTERSECT.get=function(){return 0},it.DO_INTERSECT.get=function(){return 1},it.COLLINEAR.get=function(){return 2},it.NO_INTERSECTION.get=function(){return 0},it.POINT_INTERSECTION.get=function(){return 1},it.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,it);var rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new X(this._inputLines[0][0],this._inputLines[0][1]),n=new X(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,X.intersects(n,i,e)&&0===at.orientationIndex(n,i,e)&&0===at.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=Y.intersection(t,n,i,r)}catch(s){if(!(s instanceof V))throw s;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new I(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=G.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);j.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&j.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new I(t),o=new I(e),s=new I(n),a=new I(i),u=new I;this.normalizeToEnvCentre(r,o,s,a,u);var h=this.safeHCoordinateIntersection(r,o,s,a);return h.x+=u.x,h.y+=u.y,h},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=X.intersects(e,n,i),s=X.intersects(e,n,r),a=X.intersects(i,r,e),u=X.intersects(i,r,n);return o&&s?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,h=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,l=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,p=((o>h?o:h)+(a<l?a:l))/2,d=((s>c?s:c)+(u<f?u:f))/2;r.x=p,r.y=d,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!X.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=at.orientationIndex(e,n,i),s=at.orientationIndex(e,n,r);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(i,r,e),u=at.orientationIndex(i,r,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,i,r):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new I(i):0===s?this._intPt[0]=new I(r):0===a?this._intPt[0]=new I(e):0===u&&(this._intPt[0]=new I(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=at.distancePointLine(t,n,i),s=at.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=at.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=at.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ot.signOfDet2x2(i,r,o,s)},ot.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(s=Math.floor(n/t),n-=s*t,(i-=s*e)<0)return-r;if(i>e)return r;if(t>n+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(s=Math.floor(t/n),t-=s*n,(e-=s*i)<0)return r;if(e>i)return-r;if(n>t+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ot.signOfDet2x2(r,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==S.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?S.BOUNDARY:this._crossingCount%2==1?S.INTERIOR:S.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof I&&L(arguments[1],q)){for(var t=arguments[0],e=arguments[1],n=new st(t),i=new I,r=new I,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof I&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new st(s),h=1;h<a.length;h++){var c=a[h],l=a[h-1];if(u.countSegment(c,l),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var at=function(){},ut={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return G.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(L(arguments[0],q)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new I,h=new I,c=new I;s.getCoordinate(0,h),s.getCoordinate(1,c);var l=h.x;c.x-=l;for(var f=0,p=1;p<a-1;p++)u.y=h.y,h.x=c.x,h.y=c.y,s.getCoordinate(p+1,c),c.x-=l,f+=h.x*(u.y-c.y);return f/2}},at.distanceLineLine=function(t,e,n,i){if(t.equals(e))return at.distancePointLine(t,n,i);if(n.equals(i))return at.distancePointLine(i,t,e);var r=!1;if(X.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?P.min(at.distancePointLine(t,n,i),at.distancePointLine(e,n,i),at.distancePointLine(n,t,e),at.distancePointLine(i,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==S.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new I;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,h=a-r,c=u-o;n+=Math.sqrt(h*h+c*c),r=a,o=u}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new _("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==i);var a=i;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==i);var u=t[s],h=t[a];if(u.equals2D(n)||h.equals2D(n)||u.equals2D(h))return!1;var c=at.computeOrientation(u,n,h);return 0===c?u.x>h.x:c>0},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new _("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=at.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),h=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(h<=0)return o.distance(s);if(h>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},at.isOnLine=function(t,e){for(var n=new rt,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},ut.CLOCKWISE.get=function(){return-1},ut.RIGHT.get=function(){return at.CLOCKWISE},ut.COUNTERCLOCKWISE.get=function(){return 1},ut.LEFT.get=function(){return at.COUNTERCLOCKWISE},ut.COLLINEAR.get=function(){return 0},ut.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ut);var ht=function(){};ht.prototype.filter=function(t){},ht.prototype.interfaces_=function(){return[]},ht.prototype.getClass=function(){return ht};var ct=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},lt={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ct.prototype.isGeometryCollection=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION},ct.prototype.getFactory=function(){return this._factory},ct.prototype.getGeometryN=function(t){return this},ct.prototype.getArea=function(){return 0},ct.prototype.isRectangle=function(){return!1},ct.prototype.equals=function(){if(arguments[0]instanceof ct){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ct))return!1;var n=e;return this.equalsExact(n)}},ct.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ct.prototype.geometryChanged=function(){this.apply(ct.geometryChangedFilter)},ct.prototype.geometryChangedAction=function(){this._envelope=null},ct.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ct.prototype.getLength=function(){return 0},ct.prototype.getNumGeometries=function(){return 1},ct.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},ct.prototype.getUserData=function(){return this._userData},ct.prototype.getSRID=function(){return this._SRID},ct.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ct.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION)throw new _("This method does not support GeometryCollection arguments")},ct.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ct.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ct.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ct.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new X(this._envelope)},ct.prototype.setSRID=function(t){this._SRID=t},ct.prototype.setUserData=function(t){this._userData=t},ct.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},ct.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ct.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ct.SORTINDEX_MULTIPOINT||this.getSortIndex()===ct.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ct.SORTINDEX_MULTIPOLYGON},ct.prototype.interfaces_=function(){return[x,b,e]},ct.prototype.getClass=function(){return ct},ct.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ct.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},lt.serialVersionUID.get=function(){return 0x799ea46522854c00},lt.SORTINDEX_POINT.get=function(){return 0},lt.SORTINDEX_MULTIPOINT.get=function(){return 1},lt.SORTINDEX_LINESTRING.get=function(){return 2},lt.SORTINDEX_LINEARRING.get=function(){return 3},lt.SORTINDEX_MULTILINESTRING.get=function(){return 4},lt.SORTINDEX_POLYGON.get=function(){return 5},lt.SORTINDEX_MULTIPOLYGON.get=function(){return 6},lt.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},lt.geometryChangedFilter.get=function(){return ft},Object.defineProperties(ct,lt);var ft=function(){};ft.interfaces_=function(){return[ht]},ft.filter=function(t){t.geometryChangedAction()};var pt=function(){};pt.prototype.filter=function(t){},pt.prototype.interfaces_=function(){return[]},pt.prototype.getClass=function(){return pt};var dt=function(){},gt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};dt.prototype.isInBoundary=function(t){},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt},gt.Mod2BoundaryNodeRule.get=function(){return yt},gt.EndPointBoundaryNodeRule.get=function(){return mt},gt.MultiValentEndPointBoundaryNodeRule.get=function(){return _t},gt.MonoValentEndPointBoundaryNodeRule.get=function(){return vt},gt.MOD2_BOUNDARY_RULE.get=function(){return new yt},gt.ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},gt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},gt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},gt.OGC_SFS_BOUNDARY_RULE.get=function(){return dt.MOD2_BOUNDARY_RULE},Object.defineProperties(dt,gt);var yt=function(){};yt.prototype.isInBoundary=function(t){return t%2==1},yt.prototype.interfaces_=function(){return[dt]},yt.prototype.getClass=function(){return yt};var mt=function(){};mt.prototype.isInBoundary=function(t){return t>0},mt.prototype.interfaces_=function(){return[dt]},mt.prototype.getClass=function(){return mt};var _t=function(){};_t.prototype.isInBoundary=function(t){return t>1},_t.prototype.interfaces_=function(){return[dt]},_t.prototype.getClass=function(){return _t};var vt=function(){};vt.prototype.isInBoundary=function(t){return 1===t},vt.prototype.interfaces_=function(){return[dt]},vt.prototype.getClass=function(){return vt};var Mt=function(){};Mt.prototype.add=function(){},Mt.prototype.addAll=function(){},Mt.prototype.isEmpty=function(){},Mt.prototype.iterator=function(){},Mt.prototype.size=function(){},Mt.prototype.toArray=function(){},Mt.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var bt=function(){};bt.prototype.hasNext=function(){},bt.prototype.next=function(){},bt.prototype.remove=function(){};var xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Mt);(i.prototype=new Error).name="NoSuchElementException";var Et=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Mt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Mt]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new It(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(xt),It=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new i;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(bt),wt=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=!1,r=e.iterator();r.hasNext();)this.add(r.next(),n),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return this.add(n,i,!0),!0}if(arguments[0]instanceof I&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var h=0;h<a.length;h++)this.add(a[h],u);else for(var c=a.length-1;c>=0;c--)this.add(a[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof I){var l=arguments[0],f=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(l>0&&this.get(l-1).equals2D(f))return null;if(l<p&&this.get(l).equals2D(f))return null}}t.prototype.add.call(this,l,f)}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2],m=arguments[3],_=1;y>m&&(_=-1);for(var v=y;v!==m;v+=_)this.add(d[v],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new I(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Et),Nt=function(){},Ct={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ct.ForwardComparator.get=function(){return St},Ct.BidirectionalComparator.get=function(){return At},Ct.coordArrayType.get=function(){return new Array(0).fill(null)},Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt},Nt.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Nt.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(Nt.indexOf(i,e)<0)return i}return null},Nt.scroll=function(t,e){var n=Nt.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);j.arraycopy(t,n,i,0,t.length-n),j.arraycopy(t,0,i,t.length-n,n),j.arraycopy(i,0,t,0,t.length)},Nt.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1;return!0}},Nt.intersection=function(t,e){for(var n=new wt,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},Nt.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Nt.removeRepeatedPoints=function(t){return Nt.hasRepeatedPoints(t)?new wt(t,!1).toCoordinateArray():t},Nt.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},Nt.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},Nt.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new I(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new I(i[r+u])},Nt.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},Nt.envelope=function(t){for(var e=new X,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Nt.toCoordinateArray=function(t){return t.toArray(Nt.coordArrayType)},Nt.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Nt.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Nt.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},Nt.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},Nt.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Nt.extract=function(t,e,n){e=P.clamp(e,0,t.length);var i=(n=P.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},Object.defineProperties(Nt,Ct);var St=function(){};St.prototype.compare=function(t,e){return Nt.compare(t,e)},St.prototype.interfaces_=function(){return[E]},St.prototype.getClass=function(){return St};var At=function(){};At.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Nt.compare(n,i);return Nt.isEqualReversed(n,i)?0:r},At.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Nt.increasingDirection(n),o=Nt.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var h=n[s].compareTo(i[a]);if(0!==h)return h;s+=r,a+=o}return 0},At.prototype.interfaces_=function(){return[E]},At.prototype.getClass=function(){return At};var Lt=function(){};Lt.prototype.get=function(){},Lt.prototype.put=function(){},Lt.prototype.size=function(){},Lt.prototype.values=function(){},Lt.prototype.entrySet=function(){};var Pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Lt);(r.prototype=new Error).name="OperationNotSupported",(o.prototype=new Mt).contains=function(){};var Tt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Mt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Rt(this)},e}(o),Rt=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new i;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new r},e}(bt),Ot=0;(l.prototype=new Pt).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},l.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Ot,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:Ot,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},l.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===h(a(a(t)))){var e=c(a(a(t)));1===s(e)?(u(a(t),Ot),u(e,Ot),u(a(a(t)),1),t=a(a(t))):(t===c(a(t))&&(t=a(t),this.rotateLeft(t)),u(a(t),Ot),u(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=h(a(a(t)));1===s(n)?(u(a(t),Ot),u(n,Ot),u(a(a(t)),1),t=a(a(t))):(t===h(a(t))&&(t=a(t),this.rotateRight(t)),u(a(t),Ot),u(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=Ot},l.prototype.values=function(){var t=new Et,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=l.successor(e));)t.add(e.value);return t},l.prototype.entrySet=function(){var t=new Tt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=l.successor(e));)t.add(e);return t},l.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},l.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},l.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},l.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},l.prototype.size=function(){return this.size_};var Dt=function(){};Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},f.prototype=new o,(p.prototype=new f).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},p.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},p.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},p.prototype.remove=function(t){throw new r},p.prototype.size=function(){return this.array_.length},p.prototype.isEmpty=function(){return 0===this.array_.length},p.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},p.prototype.iterator=function(){return new Ft(this)};var Ft=function(t){this.treeSet_=t,this.position_=0};Ft.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new i;return this.treeSet_.array_[this.position_++]},Ft.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ft.prototype.remove=function(){throw new r};var Bt=function(){};Bt.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)i=function(t,e){return t.compareTo(e)},r.sort(i);else if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])},Bt.asList=function(t){for(var e=new Et,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var Gt=function(){},kt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};kt.P.get=function(){return 0},kt.L.get=function(){return 1},kt.A.get=function(){return 2},kt.FALSE.get=function(){return-1},kt.TRUE.get=function(){return-2},kt.DONTCARE.get=function(){return-3},kt.SYM_FALSE.get=function(){return"F"},kt.SYM_TRUE.get=function(){return"T"},kt.SYM_DONTCARE.get=function(){return"*"},kt.SYM_P.get=function(){return"0"},kt.SYM_L.get=function(){return"1"},kt.SYM_A.get=function(){return"2"},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt},Gt.toDimensionSymbol=function(t){switch(t){case Gt.FALSE:return Gt.SYM_FALSE;case Gt.TRUE:return Gt.SYM_TRUE;case Gt.DONTCARE:return Gt.SYM_DONTCARE;case Gt.P:return Gt.SYM_P;case Gt.L:return Gt.SYM_L;case Gt.A:return Gt.SYM_A}throw new _("Unknown dimension value: "+t)},Gt.toDimensionValue=function(t){switch(D.toUpperCase(t)){case Gt.SYM_FALSE:return Gt.FALSE;case Gt.SYM_TRUE:return Gt.TRUE;case Gt.SYM_DONTCARE:return Gt.DONTCARE;case Gt.SYM_P:return Gt.P;case Gt.SYM_L:return Gt.L;case Gt.SYM_A:return Gt.A}throw new _("Unknown dimension symbol: "+t)},Object.defineProperties(Gt,kt);var qt=function(){};qt.prototype.filter=function(t){},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt};var Ut=function(){};Ut.prototype.filter=function(t,e){},Ut.prototype.isDone=function(){},Ut.prototype.isGeometryChanged=function(){},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var zt=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new _("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new X,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Bt.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Gt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Gt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new p(Bt.asList(this._geometries)),n=new p(Bt.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var h=this.getGeometryN(u),c=o.getGeometryN(u),l=h.compareToSameClass(c,r);if(0!==l)return l;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){if(L(arguments[0],pt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(L(arguments[0],Ut)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(L(arguments[0],qt)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(L(arguments[0],ht)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ct),Vt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Gt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new jt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Dt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(zt),jt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=dt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};jt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},jt.prototype.getBoundary=function(){return this._geom instanceof Kt?this.boundaryLineString(this._geom):this._geom instanceof Vt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},jt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},jt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},jt.prototype.computeBoundaryCoordinates=function(t){var e=new Et;this._endpointMap=new l;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Nt.toCoordinateArray(e)},jt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Yt,this._endpointMap.put(t,e)),e.count++},jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new jt(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new jt(e,n).getBoundary()}};var Yt=function(){this.count=null};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt};var Xt=function(){},Ht={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt},Xt.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},Xt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",s=new function(){}(new function(){}(Xt.getStackTrace(i))),a=0;a<r;a++)try{o+=s.readLine()+Xt.NEWLINE}catch(t){if(!(t instanceof d))throw t;et.shouldNeverReachHere()}return o}},Xt.split=function(t,e){for(var n=e.length,i=new Et,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},Xt.toString=function(){if(1===arguments.length){var t=arguments[0];return Xt.SIMPLE_ORDINATE_FORMAT.format(t)}},Xt.spaces=function(t){return Xt.chars(" ",t)},Ht.NEWLINE.get=function(){return j.getProperty("line.separator")},Ht.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Xt,Ht);var Wt=function(){};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Wt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,q.X)===t.getOrdinate(e-1,q.X)&&t.getOrdinate(0,q.Y)===t.getOrdinate(e-1,q.Y)},Wt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||v.isNaN(s)&&v.isNaN(a)))return!1}return!0},Wt.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Wt.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Wt.copy(e,r-1,i,o,1);return i},Wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Wt.swap(t,i,e-i)},Wt.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Wt.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Wt.copyCoord(t,e+o,n,i+o)},Wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new R;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(Xt.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Wt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Wt.createClosedRing(t,e,4):e.getOrdinate(0,q.X)===e.getOrdinate(n-1,q.X)&&e.getOrdinate(0,q.Y)===e.getOrdinate(n-1,q.Y)?e:Wt.createClosedRing(t,e,n+1)},Wt.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Wt.copy(e,0,i,0,r);for(var o=r;o<n;o++)Wt.copy(e,0,i,o,1);return i};var Kt=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new X:this._points.expandEnvelope(new X)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Wt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Gt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Wt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if(L(arguments[0],pt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(L(arguments[0],Ut)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else L(arguments[0],qt)?arguments[0].filter(this):L(arguments[0],ht)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new jt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new _("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Dt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ct),Jt=function(){};Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt};var Qt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new X;var t=new X;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Gt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(L(arguments[0],pt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(L(arguments[0],Ut)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else L(arguments[0],qt)?arguments[0].filter(this):L(arguments[0],ht)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ct),Zt=function(){};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var $t=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new _("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new _("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),h=t.getY(a);if(u!==o==(h!==s))return!1;o=u,s=h}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e,r=this._shell,o=i._shell;if(!r.equalsExact(o,n))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(i._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Bt.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);j.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=Nt.minCoordinate(e.getCoordinates());Nt.scroll(i,r),j.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],at.isCCW(e.getCoordinates())===n&&Nt.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,s=this._shell,a=o._shell,u=s.compareToSameClass(a,r);if(0!==u)return u;for(var h=this.getNumInteriorRing(),c=o.getNumInteriorRing(),l=0;l<h&&l<c;){var f=this.getInteriorRingN(l),p=o.getInteriorRingN(l),d=f.compareToSameClass(p,r);if(0!==d)return d;l++}return l<h?1:l<c?-1:0}},e.prototype.apply=function(t){if(L(t,pt)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(L(t,Ut)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(L(t,qt))t.filter(this);else if(L(t,ht)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ct),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Gt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Jt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(zt),ee=function(t){function e(e,n){e instanceof I&&n instanceof me&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Gt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Wt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new _("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new _("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Kt),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Et,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(zt),ie=function(t){this._factory=t||null,this._isUserDataCopied=!1},re={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ie.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},ie.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},ie.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof zt?this.editGeometryCollection(t,e):t instanceof $t?this.editPolygon(t,e):t instanceof Qt?e.edit(t,this._factory):t instanceof Kt?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},ie.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new Et,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===te?this._factory.createMultiPoint(i.toArray([])):n.getClass()===Vt?this._factory.createMultiLineString(i.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},ie.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new Et,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},ie.prototype.interfaces_=function(){return[]},ie.prototype.getClass=function(){return ie},ie.GeometryEditorOperation=function(){},re.NoOpGeometryOperation.get=function(){return oe},re.CoordinateOperation.get=function(){return se},re.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(ie,re);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Kt?e.createLineString(n):t instanceof Qt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Kt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Qt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[ie.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var ue=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new I}else if(L(arguments[0],q)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new I}},he={serialVersionUID:{configurable:!0}};ue.prototype.setOrdinate=function(t,e,n){switch(e){case q.X:this._coordinates[t].x=n;break;case q.Y:this._coordinates[t].y=n;break;case q.Z:this._coordinates[t].z=n;break;default:throw new _("invalid ordinateIndex")}},ue.prototype.size=function(){return this._coordinates.length},ue.prototype.getOrdinate=function(t,e){switch(e){case q.X:return this._coordinates[t].x;case q.Y:return this._coordinates[t].y;case q.Z:return this._coordinates[t].z}return v.NaN},ue.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ue.prototype.getCoordinateCopy=function(t){return new I(this._coordinates[t])},ue.prototype.getDimension=function(){return this._dimension},ue.prototype.getX=function(t){return this._coordinates[t].x},ue.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ue(t,this._dimension)},ue.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ue.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ue(t,this._dimension)},ue.prototype.toString=function(){if(this._coordinates.length>0){var t=new R(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ue.prototype.getY=function(t){return this._coordinates[t].y},ue.prototype.toCoordinateArray=function(){return this._coordinates},ue.prototype.interfaces_=function(){return[q,e]},ue.prototype.getClass=function(){return ue},he.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ue,he);var ce=function(){},le={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ce.prototype.readResolve=function(){return ce.instance()},ce.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new ue(t)}if(L(arguments[0],q)){var e=arguments[0];return new ue(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new ue(n):new ue(n,i)}},ce.prototype.interfaces_=function(){return[C,e]},ce.prototype.getClass=function(){return ce},ce.instance=function(){return ce.instanceObject},le.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},le.instanceObject.get=function(){return new ce},Object.defineProperties(ce,le);var fe=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Et,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Tt;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(Lt),pe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ge){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},de={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};pe.prototype.equals=function(t){if(!(t instanceof pe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},pe.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new O(n).compareTo(new O(i))},pe.prototype.getScale=function(){return this._scale},pe.prototype.isFloating=function(){return this._modelType===pe.FLOATING||this._modelType===pe.FLOATING_SINGLE},pe.prototype.getType=function(){return this._modelType},pe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===pe.FLOATING?t="Floating":this._modelType===pe.FLOATING_SINGLE?t="Floating-Single":this._modelType===pe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},pe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return v.isNaN(t)?t:this._modelType===pe.FLOATING_SINGLE?t:this._modelType===pe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof I){var e=arguments[0];if(this._modelType===pe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},pe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===pe.FLOATING?t=16:this._modelType===pe.FLOATING_SINGLE?t=6:this._modelType===pe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},pe.prototype.setScale=function(t){this._scale=Math.abs(t)},pe.prototype.interfaces_=function(){return[e,b]},pe.prototype.getClass=function(){return pe},pe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},de.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},de.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(pe,de);var ge=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ye={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ge.prototype.readResolve=function(){return ge.nameToTypeMap.get(this._name)},ge.prototype.toString=function(){return this._name},ge.prototype.interfaces_=function(){return[e]},ge.prototype.getClass=function(){return ge},ye.serialVersionUID.get=function(){return-552860263173159e4},ye.nameToTypeMap.get=function(){return new fe},Object.defineProperties(ge,ye),pe.Type=ge,pe.FIXED=new ge("FIXED"),pe.FLOATING=new ge("FLOATING"),pe.FLOATING_SINGLE=new ge("FLOATING SINGLE");var me=function t(){this._precisionModel=new pe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?L(arguments[0],C)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof pe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},_e={serialVersionUID:{configurable:!0}};me.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new I(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new I(t.getMinX(),t.getMinY()),new I(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new I(t.getMinX(),t.getMinY()),new I(t.getMinX(),t.getMaxY()),new I(t.getMaxX(),t.getMaxY()),new I(t.getMaxX(),t.getMinY()),new I(t.getMinX(),t.getMinY())]),null)},me.prototype.createLineString=function(t){return t?t instanceof Array?new Kt(this.getCoordinateSequenceFactory().create(t),this):L(t,q)?new Kt(t,this):void 0:new Kt(this.getCoordinateSequenceFactory().create([]),this)},me.prototype.createMultiLineString=function(){if(0===arguments.length)return new Vt(null,this);if(1===arguments.length){var t=arguments[0];return new Vt(t,this)}},me.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(me.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $t)return this.createMultiPolygon(me.toPolygonArray(t));if(a instanceof Kt)return this.createMultiLineString(me.toLineStringArray(t));if(a instanceof Qt)return this.createMultiPoint(me.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},me.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},me.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof I){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(L(arguments[0],q)){var e=arguments[0];return new Qt(e,this)}}},me.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},me.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(L(arguments[0],q)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new $t(i,r,this)}},me.prototype.getSRID=function(){return this._SRID},me.prototype.createGeometryCollection=function(){if(0===arguments.length)return new zt(null,this);if(1===arguments.length){var t=arguments[0];return new zt(t,this)}},me.prototype.createGeometry=function(t){return new ie(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},me.prototype.getPrecisionModel=function(){return this._precisionModel},me.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(L(arguments[0],q)){var e=arguments[0];return new ee(e,this)}}},me.prototype.createMultiPolygon=function(){if(0===arguments.length)return new ne(null,this);if(1===arguments.length){var t=arguments[0];return new ne(t,this)}},me.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new te(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(L(arguments[0],q)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Wt.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},me.prototype.interfaces_=function(){return[e]},me.prototype.getClass=function(){return me},me.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},me.getDefaultCoordinateSequenceFactory=function(){return ce.instance()},me.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},_e.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(me,_e);var ve=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Me=function(t){this.geometryFactory=t||new me};Me.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!be[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ve.indexOf(n)?be[n].apply(this,[e.coordinates]):"GeometryCollection"===n?be[n].apply(this,[e.geometries]):be[n].apply(this,[e])},Me.prototype.write=function(t){var e=t.getGeometryType();if(!xe[e])throw new Error("Geometry is not supported");return xe[e].apply(this,[t])};var be={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!be[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=be.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new I(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new I(t[0],t[1]),new I(t[2],t[1]),new I(t[2],t[3]),new I(t[0],t[3]),new I(t[0],t[1])])},Point:function(t){var e=new I(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(be.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=be.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(be.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=be.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=be.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(be.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},xe={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:xe.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(xe.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=xe.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=xe.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=xe.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(xe[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},Ee=function(t){this.geometryFactory=t||new me,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Me(this.geometryFactory)};Ee.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===pe.FIXED&&this.reducePrecision(e),e},Ee.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ie=function(){this.parser=new Me(this.geometryFactory)};Ie.prototype.write=function(t){return this.parser.write(t)};var we=function(){},Ne={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};we.prototype.interfaces_=function(){return[]},we.prototype.getClass=function(){return we},we.opposite=function(t){return t===we.LEFT?we.RIGHT:t===we.RIGHT?we.LEFT:t},Ne.ON.get=function(){return 0},Ne.LEFT.get=function(){return 1},Ne.RIGHT.get=function(){return 2},Object.defineProperties(we,Ne),(g.prototype=new Error).name="EmptyStackException",(y.prototype=new xt).add=function(t){return this.array_.push(t),!0},y.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},y.prototype.push=function(t){return this.array_.push(t),t},y.prototype.pop=function(t){if(0===this.array_.length)throw new g;return this.array_.pop()},y.prototype.peek=function(){if(0===this.array_.length)throw new g;return this.array_[this.array_.length-1]},y.prototype.empty=function(){return 0===this.array_.length},y.prototype.isEmpty=function(){return this.empty()},y.prototype.search=function(t){return this.array_.indexOf(t)},y.prototype.size=function(){return this.array_.length},y.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Ce=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ce.prototype.getCoordinate=function(){return this._minCoord},Ce.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Ce.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=at.computeOrientation(this._minCoord,n,e),r=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===at.COUNTERCLOCKWISE?r=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===at.CLOCKWISE&&(r=!0),r&&(this._minIndex=this._minIndex-1)},Ce.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=we.LEFT;return n[e].y<n[e+1].y&&(i=we.RIGHT),i},Ce.prototype.getEdge=function(){return this._orientedDe},Ce.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Ce.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ce.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===we.LEFT&&(this._orientedDe=this._minDe.getSym())},Ce.prototype.interfaces_=function(){return[]},Ce.prototype.getClass=function(){return Ce};var Se=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new I(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}($),Ae=function(){this.array_=[]};Ae.prototype.addLast=function(t){this.array_.push(t)},Ae.prototype.removeFirst=function(){return this.array_.shift()},Ae.prototype.isEmpty=function(){return 0===this.array_.length};var Le=function(){this._finder=null,this._dirEdgeList=new Et,this._nodes=new Et,this._rightMostCoord=null,this._env=null,this._finder=new Ce};Le.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Le.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Le.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new Se("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},Le.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(we.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Le.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Le.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(we.RIGHT)>=1&&e.getDepth(we.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Le.prototype.computeDepths=function(t){var e=new Tt,n=new Ae,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Le.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Le.prototype.getEnvelope=function(){if(null===this._env){for(var t=new X,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},Le.prototype.addReachable=function(t){var e=new y;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Le.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(we.LEFT,t.getDepth(we.RIGHT)),e.setDepth(we.RIGHT,t.getDepth(we.LEFT))},Le.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},Le.prototype.getNodes=function(){return this._nodes},Le.prototype.getDirectedEdges=function(){return this._dirEdgeList},Le.prototype.interfaces_=function(){return[b]},Le.prototype.getClass=function(){return Le};var Pe=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[we.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[we.ON]=o,this.location[we.LEFT]=s,this.location[we.RIGHT]=a}};Pe.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Pe.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==S.NONE)return!1;return!0},Pe.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===S.NONE&&(this.location[e]=t)},Pe.prototype.isLine=function(){return 1===this.location.length},Pe.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[we.ON]=this.location[we.ON],e[we.LEFT]=S.NONE,e[we.RIGHT]=S.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===S.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Pe.prototype.getLocations=function(){return this.location},Pe.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[we.LEFT];this.location[we.LEFT]=this.location[we.RIGHT],this.location[we.RIGHT]=t},Pe.prototype.toString=function(){var t=new R;return this.location.length>1&&t.append(S.toLocationSymbol(this.location[we.LEFT])),t.append(S.toLocationSymbol(this.location[we.ON])),this.location.length>1&&t.append(S.toLocationSymbol(this.location[we.RIGHT])),t.toString()},Pe.prototype.setLocations=function(t,e,n){this.location[we.ON]=t,this.location[we.LEFT]=e,this.location[we.RIGHT]=n},Pe.prototype.get=function(t){return t<this.location.length?this.location[t]:S.NONE},Pe.prototype.isArea=function(){return this.location.length>1},Pe.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===S.NONE)return!0;return!1},Pe.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(we.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Pe.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(S.NONE)},Pe.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Pe.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe};var Te=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Pe(e),this.elt[1]=new Pe(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Pe(n.elt[0]),this.elt[1]=new Pe(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Pe(S.NONE),this.elt[1]=new Pe(S.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Pe(o,s,a),this.elt[1]=new Pe(o,s,a)}else if(4===arguments.length){var u=arguments[0],h=arguments[1],c=arguments[2],l=arguments[3];this.elt[0]=new Pe(S.NONE,S.NONE,S.NONE),this.elt[1]=new Pe(S.NONE,S.NONE,S.NONE),this.elt[u].setLocations(h,c,l)}};Te.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Te.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Te.prototype.isNull=function(t){return this.elt[t].isNull()},Te.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Te.prototype.isLine=function(t){return this.elt[t].isLine()},Te.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Pe(t.elt[e]):this.elt[e].merge(t.elt[e])},Te.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Te.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(we.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Te.prototype.toString=function(){var t=new R;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Te.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Te.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Te.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(we.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},Te.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Te.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Te.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Pe(this.elt[t].location[0]))},Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te},Te.toLineLabel=function(t){for(var e=new Te(S.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Re=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Et,this._pts=new Et,this._label=new Te(S.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Et,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Re.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},Re.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Re.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Se("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Se("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();et.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Re.prototype.getLinearRing=function(){return this._ring},Re.prototype.getCoordinate=function(t){return this._pts.get(t)},Re.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Re.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}},Re.prototype.isHole=function(){return this._isHole},Re.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Re.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Re.prototype.addHole=function(t){this._holes.add(t)},Re.prototype.isShell=function(){return null===this._shell},Re.prototype.getLabel=function(){return this._label},Re.prototype.getEdges=function(){return this._edges},Re.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Re.prototype.getShell=function(){return this._shell},Re.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,we.RIGHT);if(i===S.NONE)return null;if(this._label.getLocation(n)===S.NONE)return this._label.setLocation(n,i),null}},Re.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Re.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re};var Oe=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Re),De=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Et,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Oe(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Re),Fe=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Fe.prototype.setVisited=function(t){this._isVisited=t},Fe.prototype.setInResult=function(t){this._isInResult=t},Fe.prototype.isCovered=function(){return this._isCovered},Fe.prototype.isCoveredSet=function(){return this._isCoveredSet},Fe.prototype.setLabel=function(t){this._label=t},Fe.prototype.getLabel=function(){return this._label},Fe.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Fe.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Fe.prototype.isInResult=function(){return this._isInResult},Fe.prototype.isVisited=function(){return this._isVisited},Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe};var Be=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Te(0,S.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=S.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==S.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Te(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Te)for(var n=arguments[0],i=0;i<2;i++){var r=this.computeMergedLocation(n,i);this._label.getLocation(i)===S.NONE&&this._label.setLocation(i,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=S.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case S.BOUNDARY:n=S.INTERIOR;break;case S.INTERIOR:default:n=S.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fe),Ge=function(){this.nodeMap=new l,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Ge.prototype.find=function(t){return this.nodeMap.get(t)},Ge.prototype.addNode=function(){if(arguments[0]instanceof I){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Be){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},Ge.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Ge.prototype.iterator=function(){return this.nodeMap.values().iterator()},Ge.prototype.values=function(){return this.nodeMap.values()},Ge.prototype.getBoundaryNodes=function(t){for(var e=new Et,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===S.BOUNDARY&&e.add(i)}return e},Ge.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge};var ke=function(){},qe={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke},ke.isNorthern=function(t){return t===ke.NE||t===ke.NW},ke.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},ke.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},ke.isInHalfPlane=function(t,e){return e===ke.SE?t===ke.SE||t===ke.SW:t===e||t===e+1},ke.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new _("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?ke.NE:ke.SE:e>=0?ke.NW:ke.SW}if(arguments[0]instanceof I&&arguments[1]instanceof I){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new _("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?ke.NE:ke.SE:i.y>=n.y?ke.NW:ke.SW}},qe.NE.get=function(){return 0},qe.NW.get=function(){return 1},qe.SW.get=function(){return 2},qe.SE.get=function(){return 3},Object.defineProperties(ke,qe);var Ue=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._edge=e,this.init(n,i),this._label=null}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=r,this.init(o,s),this._label=a}};Ue.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},Ue.prototype.getDy=function(){return this._dy},Ue.prototype.getCoordinate=function(){return this._p0},Ue.prototype.setNode=function(t){this._node=t},Ue.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ue.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ue.prototype.getDirectedCoordinate=function(){return this._p1},Ue.prototype.getDx=function(){return this._dx},Ue.prototype.getLabel=function(){return this._label},Ue.prototype.getEdge=function(){return this._edge},Ue.prototype.getQuadrant=function(){return this._quadrant},Ue.prototype.getNode=function(){return this._node},Ue.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ue.prototype.computeLabel=function(t){},Ue.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=ke.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ue.prototype.interfaces_=function(){return[b]},Ue.prototype.getClass=function(){return Ue};var ze=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Te(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Se("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,we.LEFT)===S.INTERIOR&&this._label.getLocation(e,we.RIGHT)===S.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[we.LEFT]+"/"+this._depth[we.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,S.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,S.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===we.LEFT&&(i=-1);var r=we.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===S.EXTERIOR&&e===S.INTERIOR?1:t===S.INTERIOR&&e===S.EXTERIOR?-1:0},e}(Ue),Ve=function(){};Ve.prototype.createNode=function(t){return new Be(t,null)},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve};var je=function(){if(this._edges=new Et,this._nodes=null,this._edgeEndList=new Et,0===arguments.length)this._nodes=new Ge(new Ve);else if(1===arguments.length){var t=arguments[0];this._nodes=new Ge(t)}};je.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},je.prototype.find=function(t){return this._nodes.find(t)},je.prototype.addNode=function(){if(arguments[0]instanceof Be){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof I){var e=arguments[0];return this._nodes.addNode(e)}},je.prototype.getNodeIterator=function(){return this._nodes.iterator()},je.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},je.prototype.debugPrintln=function(t){j.out.println(t)},je.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===S.BOUNDARY},je.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},je.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&at.computeOrientation(t,e,i)===at.COLLINEAR&&ke.quadrant(t,e)===ke.quadrant(n,i)},je.prototype.getEdgeEnds=function(){return this._edgeEndList},je.prototype.debugPrint=function(t){j.out.print(t)},je.prototype.getEdgeIterator=function(){return this._edges.iterator()},je.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},je.prototype.insertEdge=function(t){this._edges.add(t)},je.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},je.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new ze(n,!0),r=new ze(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},je.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},je.prototype.getNodes=function(){return this._nodes.values()},je.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je},je.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Ye=function(){this._geometryFactory=null,this._shellList=new Et;var t=arguments[0];this._geometryFactory=t};Ye.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},Ye.prototype.computePolygons=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},Ye.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new Se("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},Ye.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new Et,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},Ye.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Ye.prototype.buildMaximalEdgeRings=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new De(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},Ye.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},Ye.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Ye.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),h=u.getLinearRing(),c=h.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var l=!1;c.contains(i)&&at.isPointInRing(r,h.getCoordinates())&&(l=!0),l&&(null===o||s.contains(c))&&(o=u)}return o},Ye.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Ye.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];je.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new Et,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var Xe=function(){};Xe.prototype.getBounds=function(){},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var He=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};He.prototype.getItem=function(){return this._item},He.prototype.getBounds=function(){return this._bounds},He.prototype.interfaces_=function(){return[Xe,e]},He.prototype.getClass=function(){return He};var We=function(){this._size=null,this._items=null,this._size=0,this._items=new Et,this._items.add(null)};We.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},We.prototype.size=function(){return this._size},We.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},We.prototype.clear=function(){this._size=0,this._items.clear()},We.prototype.isEmpty=function(){return 0===this._size},We.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Ke=function(){};Ke.prototype.visitItem=function(t){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Je=function(){};Je.prototype.insert=function(t,e){},Je.prototype.remove=function(t,e){},Je.prototype.query=function(){},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Qe=function(){if(this._childBoundables=new Et,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Ze={serialVersionUID:{configurable:!0}};Qe.prototype.getLevel=function(){return this._level},Qe.prototype.size=function(){return this._childBoundables.size()},Qe.prototype.getChildBoundables=function(){return this._childBoundables},Qe.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Qe.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qe.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Qe.prototype.interfaces_=function(){return[Xe,e]},Qe.prototype.getClass=function(){return Qe},Ze.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Qe,Ze);var $e=function(){};$e.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$e.min=function(t){return $e.sort(t),t.get(0)},$e.sort=function(t,e){var n=t.toArray();e?Bt.sort(n,e):Bt.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},$e.singletonList=function(t){var e=new Et;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),i=tn.isComposite(this._boundable2);if(n&&i)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new _("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),s=new tn(o,e,this._itemDistance);s.getDistance()<i&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[b]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Qe};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Et,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Qe?t+=this.size(n):n instanceof He&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof He&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Et:t}if(1===arguments.length){for(var e=arguments[0],n=new Et,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Qe){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof He?n.add(r.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new He(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Et;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(et.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Qe?this.boundablesAtLevel(n,s,r):(et.isTrue(s instanceof He),-1===n&&r.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Et;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(L(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),u=0;u<a.size();u++){var h=a.get(u);this.getIntersectsOp().intersects(h.getBounds(),r)&&(h instanceof Qe?this.query(r,h,s):h instanceof He?s.visitItem(h.getItem()):et.shouldNeverReachHere())}else if(L(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe)for(var c=arguments[0],l=arguments[1],f=arguments[2],p=l.getChildBoundables(),d=0;d<p.size();d++){var g=p.get(d);this.getIntersectsOp().intersects(g.getBounds(),c)&&(g instanceof Qe?this.query(c,g,f):g instanceof He?f.add(g.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Qe&&(o=this.remove(n,u,r))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Qe){var i=this.depth(n);i>t&&(t=i)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new Et;n.add(this.createNode(e));var i=new Et(t);$e.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var i={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new Et,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new Et;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];t.prototype.query.call(this,n,i)}else if(3===arguments.length)if(L(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var r=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,r,o,s)}else if(L(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qe){var a=arguments[0],u=arguments[1],h=arguments[2];t.prototype.query.call(this,a,u,h)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new Et(t);$e.sort(r,n.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(L(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var i=arguments[0];return this.nearestNeighbour(i,v.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&L(arguments[1],on)){var r=arguments[0],o=arguments[1],s=new tn(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],h=null,c=new We;for(c.add(a);!c.isEmpty()&&u>0;){var l=c.poll(),f=l.getDistance();if(f>=u)break;l.isLeaves()?(u=f,h=l):l.expandToQueue(c,u)}return[h.getBoundable(0).getItem(),h.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],d=arguments[1],g=arguments[2],y=new He(p,d),m=new tn(this.getRoot(),y,g);return this.nearestNeighbour(m)[0]}},n.prototype.interfaces_=function(){return[Je,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},i.STRtreeNode.get=function(){return an},i.serialVersionUID.get=function(){return 0x39920f7d5f261e0},i.xComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(e,i){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(i.getBounds()))}}},i.yComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(e,i){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(i.getBounds()))}}},i.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},i.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,i),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new X(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qe),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(t,e){return t<e?-1:t>e?1:0},un.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=un.relativeSign(e.x,n.x),r=un.relativeSign(e.y,n.y);switch(t){case 0:return un.compareValue(i,r);case 1:return un.compareValue(r,i);case 2:return un.compareValue(r,-i);case 3:return un.compareValue(-i,r);case 4:return un.compareValue(-i,-r);case 5:return un.compareValue(-r,-i);case 6:return un.compareValue(-r,i);case 7:return un.compareValue(i,-r)}return et.shouldNeverReachHere("invalid octant value"),0},un.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var hn=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new I(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};hn.prototype.getCoordinate=function(){return this.coord},hn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},hn.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:un.compare(this._segmentOctant,this.coord,e.coord)},hn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},hn.prototype.isInterior=function(){return this._isInterior},hn.prototype.interfaces_=function(){return[b]},hn.prototype.getClass=function(){return hn};var cn=function(){this._nodeMap=new l,this._edge=null;var t=arguments[0];this._edge=t};cn.prototype.getSplitCoordinates=function(){var t=new wt;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},cn.prototype.addCollapsedNodes=function(){var t=new Et;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},cn.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new O(e+1))}},cn.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new I(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new I(e.coord))},cn.prototype.iterator=function(){return this._nodeMap.values().iterator()},cn.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},cn.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},cn.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new O(e[0])),i=r}},cn.prototype.getEdge=function(){return this._edge},cn.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new I(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new I(e.coord)),new dn(o,this._edge.getData())},cn.prototype.add=function(t,e){var n=new hn(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(et.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},cn.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new $("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new $("bad split edge end point at "+r)},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var ln=function(){};ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln},ln.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new _("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof I&&arguments[1]instanceof I){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0===s&&0===a)throw new _("Cannot compute the octant for two identical points "+r);return ln.octant(s,a)}};var fn=function(){};fn.prototype.getCoordinates=function(){},fn.prototype.size=function(){},fn.prototype.getCoordinate=function(t){},fn.prototype.isClosed=function(){},fn.prototype.setData=function(t){},fn.prototype.getData=function(){},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn};var pn=function(){};pn.prototype.addIntersection=function(t,e){},pn.prototype.interfaces_=function(){return[fn]},pn.prototype.getClass=function(){return pn};var dn=function(){this._nodeList=new cn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};dn.prototype.getCoordinates=function(){return this._pts},dn.prototype.size=function(){return this._pts.length},dn.prototype.getCoordinate=function(t){return this._pts[t]},dn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},dn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},dn.prototype.setData=function(t){this._data=t},dn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:ln.octant(t,e)},dn.prototype.getData=function(){return this._data},dn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[3],o=new I(n.getIntersection(r));this.addIntersection(o,i)}},dn.prototype.toString=function(){return Z.toLineString(new ue(this._pts))},dn.prototype.getNodeList=function(){return this._nodeList},dn.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},dn.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},dn.prototype.interfaces_=function(){return[pn]},dn.prototype.getClass=function(){return dn},dn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Et;return dn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)};var gn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new I,this.p1=new I;else if(1===arguments.length){var t=arguments[0];this.p0=new I(t.p0),this.p1=new I(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this.p0=new I(e,n),this.p1=new I(i,r)}},yn={serialVersionUID:{configurable:!0}};gn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},gn.prototype.orientationIndex=function(){if(arguments[0]instanceof gn){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof I){var i=arguments[0];return at.orientationIndex(this.p0,this.p1,i)}},gn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},gn.prototype.isVertical=function(){return this.p0.x===this.p1.x},gn.prototype.equals=function(t){if(!(t instanceof gn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},gn.prototype.intersection=function(t){var e=new rt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},gn.prototype.project=function(){if(arguments[0]instanceof I){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new I(t);var e=this.projectionFactor(t),n=new I;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof gn){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new gn(s,a)}},gn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},gn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},gn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},gn.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},gn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},gn.prototype.midPoint=function(){return gn.midPoint(this.p0,this.p1)},gn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?v.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},gn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=v.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n},gn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},gn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},gn.prototype.getLength=function(){return this.p0.distance(this.p1)},gn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},gn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},gn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},gn.prototype.lineIntersection=function(t){try{return Y.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof V))throw t}return null},gn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},gn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}return new I(n-u,i+a)},gn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},gn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||v.isNaN(e))&&(e=1),e},gn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},gn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},gn.prototype.distance=function(){if(arguments[0]instanceof gn){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof I){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},gn.prototype.pointAlong=function(t){var e=new I;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},gn.prototype.hashCode=function(){var t=v.doubleToLongBits(this.p0.x);t^=31*v.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=v.doubleToLongBits(this.p1.x);return n^=31*v.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},gn.prototype.interfaces_=function(){return[b,e]},gn.prototype.getClass=function(){return gn},gn.midPoint=function(t,e){return new I((t.x+e.x)/2,(t.y+e.y)/2)},yn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(gn,yn);var mn=function(){this.tempEnv1=new X,this.tempEnv2=new X,this._overlapSeg1=new gn,this._overlapSeg2=new gn};mn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var _n=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};_n.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},_n.prototype.computeSelect=function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},_n.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},_n.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},_n.prototype.setId=function(t){this._id=t},_n.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},_n.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new X(t,e)}return this._env},_n.prototype.getEndIndex=function(){return this._end},_n.prototype.getStartIndex=function(){return this._start},_n.prototype.getContext=function(){return this._context},_n.prototype.getId=function(){return this._id},_n.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],u=n._pts[i],h=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,h),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),l=Math.trunc((i+r)/2);t<c&&(i<l&&this.computeOverlapsInternal(t,c,n,i,l,o),l<r&&this.computeOverlapsInternal(t,c,n,l,r,o)),c<e&&(i<l&&this.computeOverlapsInternal(c,e,n,i,l,o),l<r&&this.computeOverlapsInternal(c,e,n,l,r,o))},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var vn=function(){};vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.getChainStartIndices=function(t){var e=0,n=new Et;n.add(new O(e));do{var i=vn.findChainEnd(t,e);n.add(new O(i)),e=i}while(e<t.length-1);return vn.toIntArray(n)},vn.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=ke.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||ke.quadrant(t[r-1],t[r])===i);)r++;return r-1},vn.getChains=function(){if(1===arguments.length){var t=arguments[0];return vn.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new Et,r=vn.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new _n(e,r[o],r[o+1],n);i.add(s)}return i}},vn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Mn=function(){};Mn.prototype.computeNodes=function(t){},Mn.prototype.getNodedSubstrings=function(){},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn};var bn=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};bn.prototype.setSegmentIntersector=function(t){this._segInt=t},bn.prototype.interfaces_=function(){return[Mn]},bn.prototype.getClass=function(){return bn};var xn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Et,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=vn.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new En(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return En},Object.defineProperties(e,n),e}(bn),En=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3],o=e.getContext(),s=i.getContext();this._si.processIntersections(o,n,s,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mn),In=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},wn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};In.prototype.getEndCapStyle=function(){return this._endCapStyle},In.prototype.isSingleSided=function(){return this._isSingleSided},In.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=In.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=In.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==In.JOIN_ROUND&&(this._quadrantSegments=In.DEFAULT_QUADRANT_SEGMENTS)},In.prototype.getJoinStyle=function(){return this._joinStyle},In.prototype.setJoinStyle=function(t){this._joinStyle=t},In.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},In.prototype.getSimplifyFactor=function(){return this._simplifyFactor},In.prototype.getQuadrantSegments=function(){return this._quadrantSegments},In.prototype.setEndCapStyle=function(t){this._endCapStyle=t},In.prototype.getMitreLimit=function(){return this._mitreLimit},In.prototype.setMitreLimit=function(t){this._mitreLimit=t},In.prototype.setSingleSided=function(t){this._isSingleSided=t},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},wn.CAP_ROUND.get=function(){return 1},wn.CAP_FLAT.get=function(){return 2},wn.CAP_SQUARE.get=function(){return 3},wn.JOIN_ROUND.get=function(){return 1},wn.JOIN_MITRE.get=function(){return 2},wn.JOIN_BEVEL.get=function(){return 3},wn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},wn.DEFAULT_MITRE_LIMIT.get=function(){return 5},wn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(In,wn);var Nn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},Cn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Nn.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},Nn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Nn.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},Nn.prototype.isShallowConcavity=function(t,e,n,i){return at.computeOrientation(t,e,n)===this._angleOrientation&&at.distancePointLine(e,t,n)<i},Nn.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/Nn.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},Nn.prototype.isConcave=function(t,e,n){var i=at.computeOrientation(t,e,n)===this._angleOrientation;return i},Nn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Nn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Nn.DELETE;)e++;return e},Nn.prototype.isShallow=function(t,e,n,i){return at.distancePointLine(e,t,n)<i},Nn.prototype.collapseLine=function(){for(var t=new wt,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Nn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.simplify=function(t,e){return new Nn(t).simplify(e)},Cn.INIT.get=function(){return 0},Cn.DELETE.get=function(){return 1},Cn.KEEP.get=function(){return 1},Cn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Nn,Cn);var Sn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Et},An={COORDINATE_ARRAY_TYPE:{configurable:!0}};Sn.prototype.getCoordinates=function(){return this._ptList.toArray(Sn.COORDINATE_ARRAY_TYPE)},Sn.prototype.setPrecisionModel=function(t){this._precisionModel=t},Sn.prototype.addPt=function(t){var e=new I(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Sn.prototype.revere=function(){},Sn.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},Sn.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Sn.prototype.toString=function(){return(new me).createLineString(this.getCoordinates()).toString()},Sn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new I(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Sn.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn},An.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Sn,An);var Ln=function(){},Pn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.toDegrees=function(t){return 180*t/Math.PI},Ln.normalize=function(t){for(;t>Math.PI;)t-=Ln.PI_TIMES_2;for(;t<=-Math.PI;)t+=Ln.PI_TIMES_2;return t},Ln.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},Ln.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},Ln.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},Ln.interiorAngle=function(t,e,n){var i=Ln.angle(e,t),r=Ln.angle(e,n);return Math.abs(r-i)},Ln.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Ln.PI_TIMES_2;t>=Ln.PI_TIMES_2&&(t=0)}else{for(;t>=Ln.PI_TIMES_2;)t-=Ln.PI_TIMES_2;t<0&&(t=0)}return t},Ln.angleBetween=function(t,e,n){var i=Ln.angle(e,t),r=Ln.angle(e,n);return Ln.diff(i,r)},Ln.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Ln.toRadians=function(t){return t*Math.PI/180},Ln.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Ln.COUNTERCLOCKWISE:n<0?Ln.CLOCKWISE:Ln.NONE},Ln.angleBetweenOriented=function(t,e,n){var i=Ln.angle(e,t),r=Ln.angle(e,n)-i;return r<=-Math.PI?r+Ln.PI_TIMES_2:r>Math.PI?r-Ln.PI_TIMES_2:r},Pn.PI_TIMES_2.get=function(){return 2*Math.PI},Pn.PI_OVER_2.get=function(){return Math.PI/2},Pn.PI_OVER_4.get=function(){return Math.PI/4},Pn.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},Pn.CLOCKWISE.get=function(){return at.CLOCKWISE},Pn.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(Ln,Pn);var Tn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new gn,this._seg1=new gn,this._offset0=new gn,this._offset1=new gn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new rt,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===In.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},Rn={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Tn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),i=n===at.CLOCKWISE&&this._side===we.LEFT||n===at.COUNTERCLOCKWISE&&this._side===we.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Tn.prototype.addLineEndCap=function(t,e){var n=new gn(t,e),i=new gn;this.computeOffsetSegment(n,we.LEFT,this._distance,i);var r=new gn;this.computeOffsetSegment(n,we.RIGHT,this._distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case In.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case In.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case In.CAP_SQUARE:var u=new I;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var h=new I(i.p1.x+u.x,i.p1.y+u.y),c=new I(r.p1.x+u.x,r.p1.y+u.y);this._segList.addPt(h),this._segList.addPt(c)}},Tn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Tn.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=Y.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof V))throw t;o=new I(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},Tn.prototype.addFilletCorner=function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,h=n.y-t.y,c=Math.atan2(h,u);i===at.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,r),this._segList.addPt(n)},Tn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Tn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===In.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===In.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Tn.prototype.createSquare=function(t){this._segList.addPt(new I(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new I(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new I(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new I(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Tn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Tn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Tn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Tn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Tn.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=Ln.angle(r,this._seg0.p0),s=Ln.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=Ln.normalize(o+s),u=Ln.normalize(a+Math.PI),h=i*n,c=n-h*Math.abs(Math.sin(s)),l=r.x+h*Math.cos(u),f=r.y+h*Math.sin(u),p=new I(l,f),d=new gn(r,p),g=d.pointAlongOffset(1,c),y=d.pointAlongOffset(1,-c);this._side===we.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))},Tn.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===we.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,h=r*n*s/a;i.p0.x=t.p0.x-h,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-h,i.p1.y=t.p1.y+u},Tn.prototype.addFilletArc=function(t,e,n,i,r){var o=i===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,h=0,c=new I;h<s;){var l=e+o*h;c.x=t.x+r*Math.cos(l),c.y=t.y+r*Math.sin(l),this._segList.addPt(c),h+=u}},Tn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Tn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new I((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new I((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Tn.prototype.createCircle=function(t){var e=new I(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Tn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Tn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Sn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Tn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Tn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===In.JOIN_BEVEL||this._bufParams.getJoinStyle()===In.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Tn.prototype.closeRing=function(){this._segList.closeRing()},Tn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Rn.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Rn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Rn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Rn.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Tn,Rn);var On=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};On.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&Nt.reverse(o),o},On.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=Nn.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],we.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=Nn.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],we.LEFT),n.addFirstSegment();for(var h=2;h<=u;h++)n.addNextSegment(a[h],!0)}n.addLastSegment(),n.closeRing()},On.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===we.RIGHT&&(i=-i);var r=Nn.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},On.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=Nn.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],we.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=Nn.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],we.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},On.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case In.CAP_ROUND:e.createCircle(t);break;case In.CAP_SQUARE:e.createSquare(t)}},On.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},On.prototype.getBufferParameters=function(){return this._bufParams},On.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},On.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return On.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},On.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=Nn.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],we.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=Nn.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],we.LEFT),n.addFirstSegment();for(var h=2;h<=u;h++)n.addNextSegment(a[h],!0)}n.addLastSegment()},On.prototype.getSegGen=function(t){return new Tn(this._precisionModel,this._bufParams,t)},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new I(t[n]);return e};var Dn=function(){this._subgraphs=null,this._seg=new gn,this._cga=new at;var t=arguments[0];this._subgraphs=t},Fn={DepthSegment:{configurable:!0}};Dn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Et,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(L(arguments[2],xt)&&arguments[0]instanceof I&&arguments[1]instanceof ze){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),h=0;h<u.length-1;h++)if(this._seg.p0=u[h],this._seg.p1=u[h+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var c=s.getDepth(we.LEFT);this._seg.p0.equals(u[h])||(c=s.getDepth(we.RIGHT));var l=new Bn(this._seg,c);a.add(l)}}else if(L(arguments[2],xt)&&arguments[0]instanceof I&&L(arguments[1],xt))for(var f=arguments[0],p=arguments[1],d=arguments[2],g=p.iterator();g.hasNext();){var y=g.next();y.isForward()&&this.findStabbedSegments(f,y,d)}},Dn.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$e.min(e)._leftDepth},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Fn.DepthSegment.get=function(){return Bn},Object.defineProperties(Dn,Fn);var Bn=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new gn(t),this._leftDepth=e};Bn.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Bn.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Bn.prototype.toString=function(){return this._upwardSeg.toString()},Bn.prototype.interfaces_=function(){return[b]},Bn.prototype.getClass=function(){return Bn};var Gn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Gn.prototype.area=function(){return Gn.area(this.p0,this.p1,this.p2)},Gn.prototype.signedArea=function(){return Gn.signedArea(this.p0,this.p1,this.p2)},Gn.prototype.interpolateZ=function(t){if(null===t)throw new _("Supplied point is null.");return Gn.interpolateZ(t,this.p0,this.p1,this.p2)},Gn.prototype.longestSideLength=function(){return Gn.longestSideLength(this.p0,this.p1,this.p2)},Gn.prototype.isAcute=function(){return Gn.isAcute(this.p0,this.p1,this.p2)},Gn.prototype.circumcentre=function(){return Gn.circumcentre(this.p0,this.p1,this.p2)},Gn.prototype.area3D=function(){return Gn.area3D(this.p0,this.p1,this.p2)},Gn.prototype.centroid=function(){return Gn.centroid(this.p0,this.p1,this.p2)},Gn.prototype.inCentre=function(){return Gn.inCentre(this.p0,this.p1,this.p2)},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Gn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Gn.det=function(t,e,n,i){return t*i-e*n},Gn.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,h=i.y-o,c=s*h-a*u,l=t.x-r,f=t.y-o,p=(h*l-a*f)/c,d=(-u*l+s*f)/c;return e.z+p*(n.z-e.z)+d*(i.z-e.z)},Gn.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},Gn.isAcute=function(t,e,n){return!!Ln.isAcute(t,e,n)&&!!Ln.isAcute(e,n,t)&&!!Ln.isAcute(n,t,e)},Gn.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,h=2*Gn.det(o,s,a,u),c=Gn.det(s,o*o+s*s,u,a*a+u*u),l=Gn.det(o,o*o+s*s,a,a*a+u*u);return new I(i-c/h,r+l/h)},Gn.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new Y(t.x+n/2,t.y+i/2,1),o=new Y(t.x-i+n/2,t.y+n+i/2,1);return new Y(r,o)},Gn.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new I(t.x+r*o,t.y+r*s)},Gn.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,h=r*u-o*a,c=o*s-i*u,l=i*a-r*s,f=h*h+c*c+l*l,p=Math.sqrt(f)/2;return p},Gn.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new I(i,r)},Gn.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,u=(i*t.y+r*e.y+o*n.y)/s;return new I(a,u)};var kn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Et;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};kn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,S.EXTERIOR,S.INTERIOR)},kn.prototype.addPolygon=function(t){var e=this._distance,n=we.LEFT;this._distance<0&&(e=-this._distance,n=we.RIGHT);var i=t.getExteriorRing(),r=Nt.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,S.EXTERIOR,S.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Nt.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,we.opposite(n),S.INTERIOR,S.EXTERIOR)}},kn.prototype.isTriangleErodedCompletely=function(t,e){var n=new Gn(t[0],t[1],t[2]),i=n.inCentre();return at.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},kn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Nt.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,S.EXTERIOR,S.INTERIOR)},kn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new dn(t,new Te(0,S.BOUNDARY,e,n));this._curveList.add(i)},kn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},kn.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=r,s=i,n=we.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},kn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Kt?this.addLineString(t):t instanceof Qt?this.addPoint(t):t instanceof te?this.addCollection(t):t instanceof Vt?this.addCollection(t):t instanceof ne?this.addCollection(t):t instanceof zt&&this.addCollection(t)},kn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},kn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn};var qn=function(){};qn.prototype.locate=function(t){},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn};var Un=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Un.prototype.next=function(){if(this._atStart)return this._atStart=!1,Un.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new i;var t=this._parent.getGeometryN(this._index++);return t instanceof zt?(this._subcollectionIterator=new Un(t),this._subcollectionIterator.next()):t},Un.prototype.remove=function(){throw new Error(this.getClass().getName())},Un.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Un.prototype.interfaces_=function(){return[bt]},Un.prototype.getClass=function(){return Un},Un.isAtomic=function(t){return!(t instanceof zt)};var zn=function(){this._geom=null;var t=arguments[0];this._geom=t};zn.prototype.locate=function(t){return zn.locate(t,this._geom)},zn.prototype.interfaces_=function(){return[qn]},zn.prototype.getClass=function(){return zn},zn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},zn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!zn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(zn.isPointInRing(t,r))return!1}return!0},zn.containsPoint=function(t,e){if(e instanceof $t)return zn.containsPointInPolygon(t,e);if(e instanceof zt)for(var n=new Un(e);n.hasNext();){var i=n.next();if(i!==e&&zn.containsPoint(t,i))return!0}return!1},zn.locate=function(t,e){return e.isEmpty()?S.EXTERIOR:zn.containsPoint(t,e)?S.INTERIOR:S.EXTERIOR};var Vn=function(){this._edgeMap=new l,this._edgeList=null,this._ptInAreaLocation=[S.NONE,S.NONE]};Vn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Vn.prototype.propagateSideLabels=function(t){for(var e=S.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,we.LEFT)!==S.NONE&&(e=i.getLocation(t,we.LEFT))}if(e===S.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,we.ON)===S.NONE&&a.setLocation(t,we.ON,r),a.isArea(t)){var u=a.getLocation(t,we.LEFT),h=a.getLocation(t,we.RIGHT);if(h!==S.NONE){if(h!==r)throw new Se("side location conflict",s.getCoordinate());u===S.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=u}else et.isTrue(a.getLocation(t,we.LEFT)===S.NONE,"found single null side"),a.setLocation(t,we.RIGHT,r),a.setLocation(t,we.LEFT,r)}}},Vn.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Vn.prototype.print=function(t){j.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Vn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Vn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,we.LEFT);et.isTrue(i!==S.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,we.LEFT),u=s.getLocation(t,we.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0},Vn.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Vn.prototype.iterator=function(){return this.getEdges().iterator()},Vn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Et(this._edgeMap.values())),this._edgeList},Vn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===S.NONE&&(this._ptInAreaLocation[t]=zn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Vn.prototype.toString=function(){var t=new R;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Vn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Vn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===S.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var h=S.NONE;if(e[u])h=S.EXTERIOR;else{var c=s.getCoordinate();h=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,h)}},Vn.prototype.getDegree=function(){return this._edgeMap.size()},Vn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn};var jn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Se("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return ke.isNorthern(r)&&ke.isNorthern(o)?n:ke.isNorthern(r)||ke.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){j.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Et;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(we.LEFT),i=t.getDepth(we.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new Se("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=o;u<s;u++){var h=this._edgeList.get(u);h.setEdgeDepths(we.RIGHT,a),a=h.getDepth(we.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=S.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=S.INTERIOR;break}if(i.isInResult()){t=S.EXTERIOR;break}}}if(t===S.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===S.INTERIOR):(s.isInResult()&&(r=S.EXTERIOR),a.isInResult()&&(r=S.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Te(S.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==S.INTERIOR&&o!==S.BOUNDARY||this._label.setLocation(r,S.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vn),Yn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Be(t,new jn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ve),Xn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Xn.prototype.compareTo=function(t){var e=t;return Xn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Xn.prototype.interfaces_=function(){return[b]},Xn.prototype.getClass=function(){return Xn},Xn.orientation=function(t){return 1===Nt.increasingDirection(t)},Xn.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,h=i?0:n.length-1;;){var c=t[u].compareTo(n[h]);if(0!==c)return c;var l=(u+=r)===s,f=(h+=o)===a;if(l&&!f)return-1;if(!l&&f)return 1;if(l&&f)return 0}};var Hn=function(){this._edges=new Et,this._ocaMap=new l};Hn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},Hn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Hn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Hn.prototype.iterator=function(){return this._edges.iterator()},Hn.prototype.getEdges=function(){return this._edges},Hn.prototype.get=function(t){return this._edges.get(t)},Hn.prototype.findEqualEdge=function(t){var e=new Xn(t.getCoordinates());return this._ocaMap.get(e)},Hn.prototype.add=function(t){this._edges.add(t);var e=new Xn(t.getCoordinates());this._ocaMap.put(e,t)},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var Wn=function(){};Wn.prototype.processIntersections=function(t,e,n,i){},Wn.prototype.isDone=function(){},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var Kn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Kn.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Kn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Kn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Kn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Kn.prototype.getLineIntersector=function(){return this._li},Kn.prototype.hasProperIntersection=function(){return this._hasProper},Kn.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Kn.prototype.hasIntersection=function(){return this._hasIntersection},Kn.prototype.isDone=function(){return!1},Kn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Kn.prototype.interfaces_=function(){return[Wn]},Kn.prototype.getClass=function(){return Kn},Kn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Jn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new I(t),this.segmentIndex=e,this.dist=n};Jn.prototype.getSegmentIndex=function(){return this.segmentIndex},Jn.prototype.getCoordinate=function(){return this.coord},Jn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Jn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Jn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Jn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Jn.prototype.getDistance=function(){return this.dist},Jn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Jn.prototype.interfaces_=function(){return[b]},Jn.prototype.getClass=function(){return Jn};var Qn=function(){this._nodeMap=new l,this.edge=null;var t=arguments[0];this.edge=t};Qn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Qn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Qn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Qn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Qn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new I(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new ni(o,new Te(this.edge._label))},Qn.prototype.add=function(t,e,n){var i=new Jn(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},Qn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var Zn=function(){};Zn.prototype.getChainStartIndices=function(t){var e=0,n=new Et;n.add(new O(e));do{var i=this.findChainEnd(t,e);n.add(new O(i)),e=i}while(e<t.length-1);return Zn.toIntArray(n)},Zn.prototype.findChainEnd=function(t,e){for(var n=ke.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&ke.quadrant(t[i-1],t[i])===n;)i++;return i-1},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new X,this.env2=new X;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Zn;this.startIndex=e.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},$n.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],h=arguments[5],c=this.pts[r],l=this.pts[o],f=s.pts[a],p=s.pts[u];if(o-r==1&&u-a==1)return h.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,l),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+o)/2),g=Math.trunc((a+u)/2);r<d&&(a<g&&this.computeIntersectsForChain(r,d,s,a,g,h),g<u&&this.computeIntersectsForChain(r,d,s,g,u,h)),d<o&&(a<g&&this.computeIntersectsForChain(d,o,s,a,g,h),g<u&&this.computeIntersectsForChain(d,o,s,g,u,h))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var ti=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},ei={NULL_VALUE:{configurable:!0}};ti.prototype.getDepth=function(t,e){return this._depth[t][e]},ti.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},ti.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==ti.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===ti.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._depth[i][r]===ti.NULL_VALUE}},ti.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},ti.prototype.getDelta=function(t){return this._depth[t][we.RIGHT]-this._depth[t][we.LEFT]},ti.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?S.EXTERIOR:S.INTERIOR},ti.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ti.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==S.EXTERIOR&&i!==S.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=ti.depthAtLocation(i):this._depth[e][n]+=ti.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1];arguments[2]===S.INTERIOR&&this._depth[r][o]++}},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.depthAtLocation=function(t){return t===S.EXTERIOR?0:t===S.INTERIOR?1:ti.NULL_VALUE},ei.NULL_VALUE.get=function(){return-1},Object.defineProperties(ti,ei);var ni=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Qn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ti,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Te.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(i=!1),this.pts[s].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new X;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new I(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},e.prototype.toString=function(){var t=new R;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,we.ON),e.getLocation(1,we.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,we.LEFT),e.getLocation(1,we.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,we.RIGHT),e.getLocation(1,we.RIGHT),2))},e}(Fe),ii=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hn,this._bufParams=t||null};ii.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},ii.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Te(t.getLabel())).flip(),n.merge(i);var r=ii.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(ii.depthDelta(t.getLabel()))},ii.prototype.buildSubgraphs=function(t,e){for(var n=new Et,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new Dn(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},ii.prototype.createSubgraphs=function(t){for(var e=new Et,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Le;r.create(i),e.add(r)}}return $e.sort(e,$e.reverseOrder()),e},ii.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ii.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new xn,n=new rt;return n.setPrecisionModel(t),e.setSegmentIntersector(new Kn(n)),e},ii.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new On(n,this._bufParams),r=new kn(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new je(new Yn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Ye(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},ii.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new ni(r.getCoordinates(),new Te(s));this.insertUniqueEdge(a)}}},ii.prototype.setNoder=function(t){this._workingNoder=t},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.depthDelta=function(t){var e=t.getLocation(0,we.LEFT),n=t.getLocation(0,we.RIGHT);return e===S.INTERIOR&&n===S.EXTERIOR?1:e===S.EXTERIOR&&n===S.INTERIOR?-1:0},ii.convertSegStrings=function(t){for(var e=new me,n=new Et;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var ri=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=r,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ri.prototype.rescale=function(){if(L(arguments[0],Mt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&j.out.println(n)}},ri.prototype.scale=function(){if(L(arguments[0],Mt)){for(var t=arguments[0],e=new Et,n=t.iterator();n.hasNext();){var i=n.next();e.add(new dn(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new I(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return Nt.removeRepeatedPoints(o)}},ri.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ri.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ri.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ri.prototype.interfaces_=function(){return[Mn]},ri.prototype.getClass=function(){return ri};var oi=function(){this._li=new rt,this._segStrings=null;var t=arguments[0];this._segStrings=t},si={fact:{configurable:!0}};oi.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new $("found endpt/interior pt intersection at index "+o+" :pt "+n)},oi.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var h=0;h<a.length-1;h++)this.checkInteriorIntersections(r,u,o,h);else if(4===arguments.length){var c=arguments[0],l=arguments[1],f=arguments[2],p=arguments[3];if(c===f&&l===p)return null;var d=c.getCoordinates()[l],g=c.getCoordinates()[l+1],y=f.getCoordinates()[p],m=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,g,y,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,g)||this.hasInteriorIntersection(this._li,y,m)))throw new $("found non-noded intersection at "+d+"-"+g+" and "+y+"-"+m)}},oi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},oi.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},oi.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},oi.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new $("found non-noded collapse at "+oi.fact.createLineString([t,e,n]))},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},si.fact.get=function(){return new me},Object.defineProperties(oi,si);var ai=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new _("Scale factor must be non-zero");1!==e&&(this._pt=new I(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new I,this._p1Scaled=new I),this.initCorners(this._pt)},ui={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ai.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},ai.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new I(this._maxx,this._maxy),this._corner[1]=new I(this._minx,this._maxy),this._corner[2]=new I(this._minx,this._miny),this._corner[3]=new I(this._maxx,this._miny)},ai.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ai.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ai.prototype.getCoordinate=function(){return this._originalPt},ai.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ai.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ai.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new X(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ai.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ai.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))},ai.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ui.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ai,ui);var hi=function(){this.tempEnv1=new X,this.selectedSegment=new gn};hi.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi};var ci=function(){this._index=null;var t=arguments[0];this._index=t},li={HotPixelSnapAction:{configurable:!0}};ci.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new fi(e,n,i);return this._index.query(r,{interfaces_:function(){return[Ke]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},li.HotPixelSnapAction.get=function(){return fi},Object.defineProperties(ci,li);var fi=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],i=e.getContext();if(null!==this._parentEdge&&i===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hi),pi=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Et};pi.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},pi.prototype.isDone=function(){return!1},pi.prototype.getInteriorIntersections=function(){return this._interiorIntersections},pi.prototype.interfaces_=function(){return[Wn]},pi.prototype.getClass=function(){return pi};var di=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new rt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};di.prototype.checkCorrectness=function(t){var e=dn.getNodedSubstrings(t),n=new oi(e);try{n.checkValid()}catch(t){if(!(t instanceof z))throw t;t.printStackTrace()}},di.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},di.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},di.prototype.findInteriorIntersections=function(t,e){var n=new pi(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},di.prototype.computeVertexSnaps=function(){if(L(arguments[0],Mt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof dn)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new ai(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},di.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new xn,this._pointSnapper=new ci(this._noder.getIndex()),this.snapRound(t,this._li)},di.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new ai(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},di.prototype.interfaces_=function(){return[Mn]},di.prototype.getClass=function(){return di};var gi=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new In,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},yi={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gi.prototype.bufferFixedPrecision=function(t){var e=new ri(new di(new pe(1)),t.getScale()),n=new ii(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},gi.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=gi.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Se))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=gi.precisionScaleFactor(this._argGeom,this._distance,n),r=new pe(i);this.bufferFixedPrecision(r)}},gi.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===pe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},gi.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},gi.prototype.bufferOriginalPrecision=function(){try{var t=new ii(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},gi.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},gi.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},gi.prototype.interfaces_=function(){return[]},gi.prototype.getClass=function(){return gi},gi.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new gi(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1],r=arguments[2],o=new gi(n);return o.setQuadrantSegments(r),o.getResultGeometry(i)}if(arguments[2]instanceof In&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=arguments[2];return new gi(s,u).getResultGeometry(a)}}else if(4===arguments.length){var h=arguments[0],c=arguments[1],l=arguments[2],f=arguments[3],p=new gi(h);return p.setQuadrantSegments(l),p.setEndCapStyle(f),p.getResultGeometry(c)}},gi.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=P.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},yi.CAP_ROUND.get=function(){return In.CAP_ROUND},yi.CAP_BUTT.get=function(){return In.CAP_FLAT},yi.CAP_FLAT.get=function(){return In.CAP_FLAT},yi.CAP_SQUARE.get=function(){return In.CAP_SQUARE},yi.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gi,yi);var mi=function(){this._pt=[new I,new I],this._distance=v.NaN,this._isNull=!0};mi.prototype.getCoordinates=function(){return this._pt},mi.prototype.getCoordinate=function(t){return this._pt[t]},mi.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},mi.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},mi.prototype.getDistance=function(){return this._distance},mi.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi};var _i=function(){};_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i},_i.computeDistance=function(){if(arguments[2]instanceof mi&&arguments[0]instanceof Kt&&arguments[1]instanceof I)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getCoordinates(),r=new gn,o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof mi&&arguments[0]instanceof $t&&arguments[1]instanceof I){var a=arguments[0],u=arguments[1],h=arguments[2];_i.computeDistance(a.getExteriorRing(),u,h);for(var c=0;c<a.getNumInteriorRing();c++)_i.computeDistance(a.getInteriorRingN(c),u,h)}else if(arguments[2]instanceof mi&&arguments[0]instanceof ct&&arguments[1]instanceof I){var l=arguments[0],f=arguments[1],p=arguments[2];if(l instanceof Kt)_i.computeDistance(l,f,p);else if(l instanceof $t)_i.computeDistance(l,f,p);else if(l instanceof zt)for(var d=l,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);_i.computeDistance(y,f,p)}else p.setMinimum(l.getCoordinate(),f)}else if(arguments[2]instanceof mi&&arguments[0]instanceof gn&&arguments[1]instanceof I){var m=arguments[0],_=arguments[1],v=arguments[2],M=m.closestPoint(_);v.setMinimum(M,_)}};var vi=function(t){this._maxPtDist=new mi,this._inputGeom=t||null},Mi={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vi.prototype.computeMaxMidpointDistance=function(t){var e=new xi(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vi.prototype.computeMaxVertexDistance=function(t){var e=new bi(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vi.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vi.prototype.getDistancePoints=function(){return this._maxPtDist},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},Mi.MaxPointDistanceFilter.get=function(){return bi},Mi.MaxMidpointDistanceFilter.get=function(){return xi},Object.defineProperties(vi,Mi);var bi=function(t){this._maxPtDist=new mi,this._minPtDist=new mi,this._geom=t||null};bi.prototype.filter=function(t){this._minPtDist.initialize(),_i.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},bi.prototype.getMaxPointDistance=function(){return this._maxPtDist},bi.prototype.interfaces_=function(){return[pt]},bi.prototype.getClass=function(){return bi};var xi=function(t){this._maxPtDist=new mi,this._minPtDist=new mi,this._geom=t||null};xi.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new I((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),_i.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xi.prototype.isDone=function(){return!1},xi.prototype.isGeometryChanged=function(){return!1},xi.prototype.getMaxPointDistance=function(){return this._maxPtDist},xi.prototype.interfaces_=function(){return[Ut]},xi.prototype.getClass=function(){return xi};var Ei=function(t){this._comps=t||null};Ei.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},Ei.prototype.interfaces_=function(){return[qt]},Ei.prototype.getClass=function(){return Ei},Ei.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Ei.getPolygons(t,new Et)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $t?n.add(e):e instanceof zt&&e.apply(new Ei(n)),n}};var Ii=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Ii.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Kt&&this._lines.add(t)},Ii.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Ii.prototype.interfaces_=function(){return[ht]},Ii.prototype.getClass=function(){return Ii},Ii.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Ii.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Ii.getLines(e,n))}},Ii.getLines=function(){if(1===arguments.length){var t=arguments[0];return Ii.getLines(t,!1)}if(2===arguments.length){if(L(arguments[0],Mt)&&L(arguments[1],Mt)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();Ii.getLines(r,n)}return n}if(arguments[0]instanceof ct&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new Et;return o.apply(new Ii(a,s)),a}if(arguments[0]instanceof ct&&L(arguments[1],Mt)){var u=arguments[0],h=arguments[1];return u instanceof Kt?h.add(u):u.apply(new Ii(h)),h}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&L(arguments[0],Mt)&&L(arguments[1],Mt)){for(var c=arguments[0],l=arguments[1],f=arguments[2],p=c.iterator();p.hasNext();){var d=p.next();Ii.getLines(d,l,f)}return l}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ct&&L(arguments[1],Mt)){var g=arguments[0],y=arguments[1],m=arguments[2];return g.apply(new Ii(y,m)),y}}};var wi=function(){if(this._boundaryRule=dt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new _("Rule must be non-null");this._boundaryRule=t}};wi.prototype.locateInternal=function(){if(arguments[0]instanceof I&&arguments[1]instanceof $t){var t=arguments[0],e=arguments[1];if(e.isEmpty())return S.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===S.EXTERIOR)return S.EXTERIOR;if(i===S.BOUNDARY)return S.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===S.INTERIOR)return S.EXTERIOR;if(s===S.BOUNDARY)return S.BOUNDARY}return S.INTERIOR}if(arguments[0]instanceof I&&arguments[1]instanceof Kt){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return S.EXTERIOR;var h=u.getCoordinates();return u.isClosed()||!a.equals(h[0])&&!a.equals(h[h.length-1])?at.isOnLine(a,h)?S.INTERIOR:S.EXTERIOR:S.BOUNDARY}if(arguments[0]instanceof I&&arguments[1]instanceof Qt){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?S.INTERIOR:S.EXTERIOR}},wi.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):S.EXTERIOR},wi.prototype.intersects=function(t,e){return this.locate(t,e)!==S.EXTERIOR},wi.prototype.updateLocationInfo=function(t){t===S.INTERIOR&&(this._isIn=!0),t===S.BOUNDARY&&this._numBoundaries++},wi.prototype.computeLocation=function(t,e){if(e instanceof Qt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Kt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Vt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof ne)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof zt)for(var u=new Un(e);u.hasNext();){var h=u.next();h!==e&&this.computeLocation(t,h)}},wi.prototype.locate=function(t,e){return e.isEmpty()?S.EXTERIOR:e instanceof Kt?this.locateInternal(t,e):e instanceof $t?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?S.BOUNDARY:this._numBoundaries>0||this._isIn?S.INTERIOR:S.EXTERIOR)},wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi};var Ni=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._component=i,this._segIndex=r,this._pt=o}},Ci={INSIDE_AREA:{configurable:!0}};Ni.prototype.isInsideArea=function(){return this._segIndex===Ni.INSIDE_AREA},Ni.prototype.getCoordinate=function(){return this._pt},Ni.prototype.getGeometryComponent=function(){return this._component},Ni.prototype.getSegmentIndex=function(){return this._segIndex},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ci.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Ni,Ci);var Si=function(t){this._pts=t||null};Si.prototype.filter=function(t){t instanceof Qt&&this._pts.add(t)},Si.prototype.interfaces_=function(){return[qt]},Si.prototype.getClass=function(){return Si},Si.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Qt?$e.singletonList(t):Si.getPoints(t,new Et)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Qt?n.add(e):e instanceof zt&&e.apply(new Si(n)),n}};var Ai=function(){this._locations=null;var t=arguments[0];this._locations=t};Ai.prototype.filter=function(t){(t instanceof Qt||t instanceof Kt||t instanceof $t)&&this._locations.add(new Ni(t,0,t.getCoordinate()))},Ai.prototype.interfaces_=function(){return[qt]},Ai.prototype.getClass=function(){return Ai},Ai.getLocations=function(t){var e=new Et;return t.apply(new Ai(e)),e};var Li=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new wi,this._minDistanceLocation=null,this._minDistance=v.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=r}};Li.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=Ei.getPolygons(this._geom[e]);if(r.size()>0){var o=Ai.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&L(arguments[0],xt)&&L(arguments[1],xt)){for(var s=arguments[0],a=arguments[1],u=arguments[2],h=0;h<s.size();h++)for(var c=s.get(h),l=0;l<a.size();l++)if(this.computeContainmentDistance(c,a.get(l),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ni&&arguments[1]instanceof $t){var f=arguments[0],p=arguments[1],d=arguments[2],g=f.getCoordinate();if(S.EXTERIOR!==this._ptLocator.locate(g,p))return this._minDistance=0,d[0]=f,d[1]=new Ni(p,g),null}},Li.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},Li.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Ii.getLines(this._geom[0]),n=Ii.getLines(this._geom[1]),i=Si.getPoints(this._geom[0]),r=Si.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},Li.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Li.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Li.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Li.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Qt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=at.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new gn(i[o],i[o+1]).closestPoint(r);n[0]=new Ni(t,o,a),n[1]=new Ni(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Kt){var u=arguments[0],h=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var l=u.getCoordinates(),f=h.getCoordinates(),p=0;p<l.length-1;p++)for(var d=0;d<f.length-1;d++){var g=at.distanceLineLine(l[p],l[p+1],f[d],f[d+1]);if(g<this._minDistance){this._minDistance=g;var y=new gn(l[p],l[p+1]),m=new gn(f[d],f[d+1]),_=y.closestPoints(m);c[0]=new Ni(u,p,_[0]),c[1]=new Ni(h,d,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},Li.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Ni(r,0,r.getCoordinate()),n[1]=new Ni(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Li.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new _("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Li.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.distance=function(t,e){return new Li(t,e).distance()},Li.isWithinDistance=function(t,e,n){return new Li(t,e,n).distance()<=n},Li.nearestPoints=function(t,e){return new Li(t,e).nearestPoints()};var Pi=function(){this._pt=[new I,new I],this._distance=v.NaN,this._isNull=!0};Pi.prototype.getCoordinates=function(){return this._pt},Pi.prototype.getCoordinate=function(t){return this._pt[t]},Pi.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Pi.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},Pi.prototype.toString=function(){return Z.toLineString(this._pt[0],this._pt[1])},Pi.prototype.getDistance=function(){return this._distance},Pi.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi};var Ti=function(){};Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.computeDistance=function(){if(arguments[2]instanceof Pi&&arguments[0]instanceof Kt&&arguments[1]instanceof I)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new gn,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Pi&&arguments[0]instanceof $t&&arguments[1]instanceof I){var a=arguments[0],u=arguments[1],h=arguments[2];Ti.computeDistance(a.getExteriorRing(),u,h);for(var c=0;c<a.getNumInteriorRing();c++)Ti.computeDistance(a.getInteriorRingN(c),u,h)}else if(arguments[2]instanceof Pi&&arguments[0]instanceof ct&&arguments[1]instanceof I){var l=arguments[0],f=arguments[1],p=arguments[2];if(l instanceof Kt)Ti.computeDistance(l,f,p);else if(l instanceof $t)Ti.computeDistance(l,f,p);else if(l instanceof zt)for(var d=l,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);Ti.computeDistance(y,f,p)}else p.setMinimum(l.getCoordinate(),f)}else if(arguments[2]instanceof Pi&&arguments[0]instanceof gn&&arguments[1]instanceof I){var m=arguments[0],_=arguments[1],v=arguments[2],M=m.closestPoint(_);v.setMinimum(M,_)}};var Ri=function(){this._g0=null,this._g1=null,this._ptDist=new Pi,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Oi={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ri.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Ri.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new _("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Ri.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Ri.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Ri.prototype.computeOrientedDistance=function(t,e,n){var i=new Di(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new Fi(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},Ri.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Ri(t,e).distance()}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new Ri(n,i);return o.setDensifyFraction(r),o.distance()}},Oi.MaxPointDistanceFilter.get=function(){return Di},Oi.MaxDensifiedByFractionDistanceFilter.get=function(){return Fi},Object.defineProperties(Ri,Oi);var Di=function(){this._maxPtDist=new Pi,this._minPtDist=new Pi,this._euclideanDist=new Ti,this._geom=null;var t=arguments[0];this._geom=t};Di.prototype.filter=function(t){this._minPtDist.initialize(),Ti.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Di.prototype.getMaxPointDistance=function(){return this._maxPtDist},Di.prototype.interfaces_=function(){return[pt]},Di.prototype.getClass=function(){return Di};var Fi=function(){this._maxPtDist=new Pi,this._minPtDist=new Pi,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Fi.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=(i.x-n.x)/this._numSubSegs,o=(i.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*r,u=n.y+s*o,h=new I(a,u);this._minPtDist.initialize(),Ti.computeDistance(this._geom,h,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Fi.prototype.isDone=function(){return!1},Fi.prototype.isGeometryChanged=function(){return!1},Fi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fi.prototype.interfaces_=function(){return[Ut]},Fi.prototype.getClass=function(){return Fi};var Bi=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Gi={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Bi.prototype.checkMaximumDistance=function(t,e,n){var i=new Ri(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Z.toLineString(r[0],r[1])+")"}},Bi.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Bi.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Bi.VERBOSE&&j.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Bi.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof ne||this._input instanceof zt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Bi.prototype.getErrorIndicator=function(){return this._errorIndicator},Bi.prototype.checkMinimumDistance=function(t,e,n){var i=new Li(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Z.toLineString(r[0],r[1])+" )"}},Bi.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Bi.prototype.getErrorLocation=function(){return this._errorLocation},Bi.prototype.getPolygonLines=function(t){for(var e=new Et,n=new Ii(e),i=Ei.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},Bi.prototype.getErrorMessage=function(){return this._errMsg},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Gi.VERBOSE.get=function(){return!1},Gi.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Bi,Gi);var ki=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},qi={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};ki.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},ki.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*ki.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new X(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new X(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},ki.prototype.checkDistance=function(){var t=new Bi(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},ki.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},ki.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},ki.prototype.getErrorIndicator=function(){return this._errorIndicator},ki.prototype.getErrorLocation=function(){return this._errorLocation},ki.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},ki.prototype.report=function(t){if(!ki.VERBOSE)return null;j.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},ki.prototype.getErrorMessage=function(){return this._errorMsg},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki},ki.isValidMsg=function(t,e,n){var i=new ki(t,e,n);return i.isValid()?null:i.getErrorMessage()},ki.isValid=function(t,e,n){return!!new ki(t,e,n).isValid()},qi.VERBOSE.get=function(){return!1},qi.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(ki,qi);var Ui=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Ui.prototype.getCoordinates=function(){return this._pts},Ui.prototype.size=function(){return this._pts.length},Ui.prototype.getCoordinate=function(t){return this._pts[t]},Ui.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ui.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:ln.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Ui.prototype.setData=function(t){this._data=t},Ui.prototype.getData=function(){return this._data},Ui.prototype.toString=function(){return Z.toLineString(new ue(this._pts))},Ui.prototype.interfaces_=function(){return[fn]},Ui.prototype.getClass=function(){return Ui};var zi=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Et,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};zi.prototype.getInteriorIntersection=function(){return this._interiorIntersection},zi.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},zi.prototype.getIntersectionSegments=function(){return this._intSegments},zi.prototype.count=function(){return this._intersectionCount},zi.prototype.getIntersections=function(){return this._intersections},zi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},zi.prototype.setKeepIntersections=function(t){this._keepIntersections=t},zi.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},zi.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},zi.prototype.hasIntersection=function(){return null!==this._interiorIntersection},zi.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},zi.prototype.interfaces_=function(){return[Wn]},zi.prototype.getClass=function(){return zi},zi.createAllIntersectionsFinder=function(t){var e=new zi(t);return e.setFindAllIntersections(!0),e},zi.createAnyIntersectionFinder=function(t){return new zi(t)},zi.createIntersectionCounter=function(t){var e=new zi(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Vi=function(){this._li=new rt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Vi.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Vi.prototype.getIntersections=function(){return this._segInt.getIntersections()},Vi.prototype.isValid=function(){return this.execute(),this._isValid},Vi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Vi.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new zi(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new xn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Vi.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Se(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Vi.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Z.toLineString(t[0],t[1])+" and "+Z.toLineString(t[2],t[3])},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi},Vi.computeIntersections=function(t){var e=new Vi(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var ji=function t(){this._nv=null;var e=arguments[0];this._nv=new Vi(t.toSegmentStrings(e))};ji.prototype.checkValid=function(){this._nv.checkValid()},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji},ji.toSegmentStrings=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Ui(i.getCoordinates(),i))}return e},ji.checkValid=function(t){new ji(t).checkValid()};var Yi=function(t){this._mapOp=t};Yi.prototype.map=function(t){for(var e=new Et,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(me.toGeometryArray(e))},Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.map=function(t,e){return new Yi(e).map(t)};var Xi=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Et,this._resultLineList=new Et;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Xi.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Xi.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Xi.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Xi.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Nr.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},Xi.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},Xi.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Xi.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},Xi.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Nr.isResultOfOp(i,e)&&e===Nr.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Xi.prototype.interfaces_=function(){return[]},Xi.prototype.getClass=function(){return Xi};var Hi=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Et;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Hi.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Hi.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Nr.INTERSECTION)){var i=n.getLabel();Nr.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Hi.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi};var Wi=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Wi.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Wi.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof ee&&!i.isEmpty()||(n=!1);for(var r=new Et,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new Et;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},Wi.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Wi.prototype.getInputGeometry=function(){return this._inputGeom},Wi.prototype.transformMultiLineString=function(t,e){for(var n=new Et,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.transformCoordinates=function(t,e){return this.copy(t)},Wi.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Wi.prototype.transformMultiPoint=function(t,e){for(var n=new Et,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.transformMultiPolygon=function(t,e){for(var n=new Et,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Wi.prototype.copy=function(t){return t.copy()},Wi.prototype.transformGeometryCollection=function(t,e){for(var n=new Et,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(me.toGeometryArray(n)):this._factory.buildGeometry(n)},Wi.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Qt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Kt)return this.transformLineString(t,null);if(t instanceof Vt)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof zt)return this.transformGeometryCollection(t,null);throw new _("Unknown Geometry subtype: "+t.getClass().getName())},Wi.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi};var Ki=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new gn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Kt&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=t.isClosed(i),this._snapTolerance=r}};Ki.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new I(o)),0===i&&this._isClosed&&t.set(t.size()-1,new I(o)))}},Ki.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Ki.prototype.snapTo=function(t){var e=new wt(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Ki.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new I(r),!1)}},Ki.prototype.findSegmentIndexToSnap=function(t,e){for(var n=v.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},Ki.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki},Ki.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Ji=function(t){this._srcGeom=t||null},Qi={SNAP_PRECISION_FACTOR:{configurable:!0}};Ji.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Zi(e,n).transform(this._srcGeom)},Ji.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Zi(t,n,!0).transform(this._srcGeom),r=i;return e&&L(r,Zt)&&(r=i.buffer(0)),r},Ji.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Ji.prototype.extractTargetCoordinates=function(t){for(var e=new p,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Ji.prototype.computeMinimumSegmentLength=function(t){for(var e=v.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Ji(t);i[0]=r.snapTo(e,n);var o=new Ji(e);return i[1]=o.snapTo(i[0],n),i},Ji.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Ji.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===pe.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(Ji.computeOverlaySnapTolerance(r),Ji.computeOverlaySnapTolerance(o))}},Ji.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Ji.SNAP_PRECISION_FACTOR},Ji.snapToSelf=function(t,e,n){return new Ji(t).snapToSelf(e,n)},Qi.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ji,Qi);var Zi=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Ki(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wi),$i=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$i.prototype.getCommon=function(){return v.longBitsToDouble(this._commonBits)},$i.prototype.add=function(t){var e=v.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=$i.signExpBits(this._commonBits),this._isFirst=!1,null):$i.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$i.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=$i.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$i.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=v.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+v.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},$i.getBit=function(t,e){return 0!=(t&1<<e)?1:0},$i.signExpBits=function(t){return t>>52},$i.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},$i.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if($i.getBit(t,i)!==$i.getBit(e,i))return n;n++}return 52};var tr=function(){this._commonCoord=null,this._ccFilter=new nr},er={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};tr.prototype.addCommonBits=function(t){var e=new ir(this._commonCoord);t.apply(e),t.geometryChanged()},tr.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new I(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ir(e);return t.apply(n),t.geometryChanged(),t},tr.prototype.getCommonCoordinate=function(){return this._commonCoord},tr.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},er.CommonCoordinateFilter.get=function(){return nr},er.Translater.get=function(){return ir},Object.defineProperties(tr,er);var nr=function(){this._commonBitsX=new $i,this._commonBitsY=new $i};nr.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},nr.prototype.getCommonCoordinate=function(){return new I(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},nr.prototype.interfaces_=function(){return[pt]},nr.prototype.getClass=function(){return nr};var ir=function(){this.trans=null;var t=arguments[0];this.trans=t};ir.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},ir.prototype.isDone=function(){return!1},ir.prototype.isGeometryChanged=function(){return!0},ir.prototype.interfaces_=function(){return[Ut]},ir.prototype.getClass=function(){return ir};var rr=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};rr.prototype.selfSnap=function(t){return new Ji(t).snapTo(t,this._snapTolerance)},rr.prototype.removeCommonBits=function(t){this._cbr=new tr,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},rr.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},rr.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Nr.overlayOp(e[0],e[1],t);return this.prepareResult(n)},rr.prototype.checkValid=function(t){t.isValid()||j.out.println("Snapped geometry is invalid")},rr.prototype.computeSnapTolerance=function(){this._snapTolerance=Ji.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rr.prototype.snap=function(t){var e=this.removeCommonBits(t);return Ji.snap(e[0],e[1],this._snapTolerance)},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.overlayOp=function(t,e,n){return new rr(t,e).getResultGeometry(n)},rr.union=function(t,e){return rr.overlayOp(t,e,Nr.UNION)},rr.intersection=function(t,e){return rr.overlayOp(t,e,Nr.INTERSECTION)},rr.symDifference=function(t,e){return rr.overlayOp(t,e,Nr.SYMDIFFERENCE)},rr.difference=function(t,e){return rr.overlayOp(t,e,Nr.DIFFERENCE)};var or=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};or.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=Nr.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof $))throw t;i=t}if(!n)try{e=rr.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?i:t}return e},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.overlayOp=function(t,e,n){return new or(t,e).getResultGeometry(n)},or.union=function(t,e){return or.overlayOp(t,e,Nr.UNION)},or.intersection=function(t,e){return or.overlayOp(t,e,Nr.INTERSECTION)},or.symDifference=function(t,e){return or.overlayOp(t,e,Nr.SYMDIFFERENCE)},or.difference=function(t,e){return or.overlayOp(t,e,Nr.DIFFERENCE)};var sr=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};sr.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr};var ar=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},ur={INSERT:{configurable:!0},DELETE:{configurable:!0}};ar.prototype.isDelete=function(){return this._eventType===ar.DELETE},ar.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ar.prototype.getObject=function(){return this._obj},ar.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ar.prototype.getInsertEvent=function(){return this._insertEvent},ar.prototype.isInsert=function(){return this._eventType===ar.INSERT},ar.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ar.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ar.prototype.interfaces_=function(){return[b]},ar.prototype.getClass=function(){return ar},ur.INSERT.get=function(){return 1},ur.DELETE.get=function(){return 2},Object.defineProperties(ar,ur);var hr=function(){};hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr};var cr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};cr.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(cr.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},cr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},cr.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},cr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},cr.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},cr.prototype.hasProperIntersection=function(){return this._hasProper},cr.prototype.hasIntersection=function(){return this._hasIntersection},cr.prototype.isDone=function(){return this._isDone},cr.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},cr.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},cr.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},cr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var lr=function(t){function e(){t.call(this),this.events=new Et,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$e.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof cr&&L(arguments[0],xt)&&L(arguments[1],xt)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&L(arguments[0],xt)&&arguments[1]instanceof cr){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new sr(n,r),s=new ar(e,n.getMinX(r),o);this.events.add(s),this.events.add(new ar(n.getMaxX(r),s))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();this.addEdge(o,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hr),fr=function(){this._min=v.POSITIVE_INFINITY,this._max=v.NEGATIVE_INFINITY},pr={NodeComparator:{configurable:!0}};fr.prototype.getMin=function(){return this._min},fr.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},fr.prototype.getMax=function(){return this._max},fr.prototype.toString=function(){return Z.toLineString(new I(this._min,0),new I(this._max,0))},fr.prototype.interfaces_=function(){return[]},fr.prototype.getClass=function(){return fr},pr.NodeComparator.get=function(){return dr},Object.defineProperties(fr,pr);var dr=function(){};dr.prototype.compare=function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},dr.prototype.interfaces_=function(){return[E]},dr.prototype.getClass=function(){return dr};var gr=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fr),yr=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fr),mr=function(){this._leaves=new Et,this._root=null,this._level=0};mr.prototype.buildTree=function(){$e.sort(this._leaves,new fr.NodeComparator);for(var t=this._leaves,e=null,n=new Et;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},mr.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new gr(t,e,n))},mr.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},mr.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},mr.prototype.printNode=function(t){j.out.println(Z.toLineString(new I(t._min,this._level),new I(t._max,this._level)))},mr.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},mr.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new yr(t.get(n),t.get(n+1));e.add(r)}}},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr};var _r=function(){this._items=new Et};_r.prototype.visitItem=function(t){this._items.add(t)},_r.prototype.getItems=function(){return this._items},_r.prototype.interfaces_=function(){return[Ke]},_r.prototype.getClass=function(){return _r};var vr=function(){this._index=null;var t=arguments[0];if(!L(t,Zt))throw new _("Argument must be Polygonal");this._index=new xr(t)},Mr={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};vr.prototype.locate=function(t){var e=new st(t),n=new br(e);return this._index.query(t.y,t.y,n),e.getLocation()},vr.prototype.interfaces_=function(){return[qn]},vr.prototype.getClass=function(){return vr},Mr.SegmentVisitor.get=function(){return br},Mr.IntervalIndexedGeometry.get=function(){return xr},Object.defineProperties(vr,Mr);var br=function(){this._counter=null;var t=arguments[0];this._counter=t};br.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},br.prototype.interfaces_=function(){return[Ke]},br.prototype.getClass=function(){return br};var xr=function(){this._index=new mr;var t=arguments[0];this.init(t)};xr.prototype.init=function(t){for(var e=Ii.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},xr.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new gn(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},xr.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new _r;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr};var Er=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new fe,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new wi,2===arguments.length){var e=arguments[0],n=arguments[1],i=dt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,null!==n&&this.add(n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=r,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;S.NONE,i.getLocation(t,we.ON)===S.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new cr(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof ee||this._parentGeom instanceof $t||this._parentGeom instanceof ne,u=i||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new cr(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Qt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,S.INTERIOR)}else if(arguments[0]instanceof I){var e=arguments[0];this.insertPoint(this._argIndex,e,S.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),S.EXTERIOR,S.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,S.INTERIOR,S.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],S.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],S.BOUNDARY)},e.prototype.addLineString=function(t){var e=Nt.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new ni(e,new Te(this._argIndex,S.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===S.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=Nt.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;at.isCCW(i)&&(r=n,o=e);var s=new ni(i,new Te(this._argIndex,S.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],S.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new Te(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new lr},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof $t)this.addPolygon(e);else if(e instanceof Kt)this.addLineString(e);else if(e instanceof Qt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Vt)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof zt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return L(this._parentGeom,Zt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new vr(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?S.BOUNDARY:S.INTERIOR},e}(je),Ir=function(){if(this._li=new rt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Er(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=dt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Er(0,e,i),this._arg[1]=new Er(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Er(0,r,s),this._arg[1]=new Er(1,o,s)}};Ir.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Ir.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir};var wr=function(){};wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},wr.map=function(){if(arguments[0]instanceof ct&&L(arguments[1],wr.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Et,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(L(arguments[0],Mt)&&L(arguments[1],wr.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Et,u=o.iterator();u.hasNext();){var h=u.next(),c=s.map(h);null!==c&&a.add(c)}return a}},wr.MapOp=function(){};var Nr=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new wi,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Hn,this._resultPolyList=new Et,this._resultLineList=new Et,this._resultPointList=new Et,this._graph=new je(new Yn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Te(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new Et;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==S.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Et,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Et;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ji.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Ye(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new Xi(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new Hi(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,we.RIGHT),r.getLocation(1,we.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(et.isTrue(!i.isNull(r,we.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,we.LEFT,i.getLocation(r,we.LEFT)),et.isTrue(!i.isNull(r,we.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,we.RIGHT,i.getLocation(r,we.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ir);Nr.overlayOp=function(t,e,n){return new Nr(t,e).getResultGeometry(n)},Nr.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Nr.createEmptyResult(Nr.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Yi.map(t,{interfaces_:function(){return[wr.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Nr.INTERSECTION)},Nr.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Nr.createEmptyResult(Nr.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Nr.SYMDIFFERENCE)},Nr.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case Nr.INTERSECTION:o=Math.min(i,r);break;case Nr.UNION:o=Math.max(i,r);break;case Nr.DIFFERENCE:o=i;break;case Nr.SYMDIFFERENCE:o=Math.max(i,r)}return o},Nr.createEmptyResult=function(t,e,n,i){var r=null;switch(Nr.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},Nr.difference=function(t,e){return t.isEmpty()?Nr.createEmptyResult(Nr.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Nr.DIFFERENCE))},Nr.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return Nr.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===S.BOUNDARY&&(r=S.INTERIOR),o===S.BOUNDARY&&(o=S.INTERIOR),s){case Nr.INTERSECTION:return r===S.INTERIOR&&o===S.INTERIOR;case Nr.UNION:return r===S.INTERIOR||o===S.INTERIOR;case Nr.DIFFERENCE:return r===S.INTERIOR&&o!==S.INTERIOR;case Nr.SYMDIFFERENCE:return r===S.INTERIOR&&o!==S.INTERIOR||r!==S.INTERIOR&&o===S.INTERIOR}return!1}},Nr.INTERSECTION=1,Nr.UNION=2,Nr.DIFFERENCE=3,Nr.SYMDIFFERENCE=4;var Cr=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new wi,this._seg=new gn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Cr.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Cr.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?S.BOUNDARY:this._ptLocator.locate(t,this._g)},Cr.prototype.extractLinework=function(t){var e=new Sr;t.apply(e);var n=e.getLinework(),i=me.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr};var Sr=function(){this._linework=null,this._linework=new Et};Sr.prototype.getLinework=function(){return this._linework},Sr.prototype.filter=function(t){if(t instanceof $t){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Sr.prototype.interfaces_=function(){return[qt]},Sr.prototype.getClass=function(){return Sr};var Ar=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Ar.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},Ar.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Ar.prototype.getPoints=function(t){for(var e=new Et,n=Ii.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},Ar.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),a=n*r/s,u=n*o/s,h=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var l=new I(h-u,c+a);i.add(l)}if(this._doRight){var f=new I(h+u,c-a);i.add(f)}},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar};var Lr=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Et;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new Cr(this._geom[0],this._boundaryDistanceTolerance),new Cr(this._geom[1],this._boundaryDistanceTolerance),new Cr(this._geom[2],this._boundaryDistanceTolerance)]},Pr={TOLERANCE:{configurable:!0}};Lr.prototype.reportResult=function(t,e,n){j.out.println("Overlay result invalid - A:"+S.toLocationSymbol(e[0])+" B:"+S.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+S.toLocationSymbol(e[2]))},Lr.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e},Lr.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!Lr.hasLocation(this._location,S.BOUNDARY)||this.isValidResult(i,this._location)}},Lr.prototype.addTestPts=function(t){var e=new Ar(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Lr.prototype.isValidResult=function(t,e){var n=Nr.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===S.INTERIOR);return i||this.reportResult(t,e,n),i},Lr.prototype.getInvalidLocation=function(){return this._invalidLocation},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Lr.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Ji.computeSizeBasedSnapTolerance(t),Ji.computeSizeBasedSnapTolerance(e))},Lr.isValid=function(t,e,n,i){return new Lr(t,e,i).isValid(n)},Pr.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Lr,Pr);var Tr=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Tr.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},Tr.prototype.combine=function(){for(var t=new Et,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.combine=function(){if(1===arguments.length){var t=arguments[0];return new Tr(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Tr(Tr.createList(e,n)).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return new Tr(Tr.createList(i,r,o)).combine()}},Tr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Tr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Et;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=new Et;return s.add(i),s.add(r),s.add(o),s}};var Rr=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Et)},Or={STRTREE_NODE_CAPACITY:{configurable:!0}};Rr.prototype.reduceToGeometries=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var i=n.next(),r=null;L(i,xt)?r=this.unionTree(i):i instanceof ct&&(r=i),e.add(r)}return e},Rr.prototype.extractByEnvelope=function(t,e,n){for(var i=new Et,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},Rr.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return Tr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},Rr.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Rr.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},Rr.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=Rr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Rr.getGeometry(e,n),Rr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,i);return this.unionSafe(s,a)}},Rr.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},Rr.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Rr.prototype.unionActual=function(t,e){return Rr.restrictToPolygons(t.union(e))},Rr.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Rr.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new Et,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),Tr.combine(i)},Rr.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.restrictToPolygons=function(t){if(L(t,Zt))return t;var e=Ei.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(me.toPolygonArray(e))},Rr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Rr.union=function(t){return new Rr(t).union()},Or.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Rr,Or);var Dr=function(){};Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Nr.createEmptyResult(Nr.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Nr.UNION)},t.GeoJSONReader=Ee,t.GeoJSONWriter=Ie,t.OverlayOp=Nr,t.UnionOp=Dr,t.BufferOp=gi,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(30),r=n(31),o=n(32);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return h(this,t,e,n)}function h(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(c(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(i)return q(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function y(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,r){var o,s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var c=-1;for(o=n;o<a;o++)if(h(t,o)===h(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var l=!0,f=0;f<u;f++)if(h(t,o+f)!==h(e,f)){l=!1;break}if(l)return o}return-1}function _(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function v(t,e,n,i){return z(q(e,t.length-n),t,n,i)}function M(t,e,n,i){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function b(t,e,n,i){return M(t,e,n,i)}function x(t,e,n,i){return z(U(e),t,n,i)}function E(t,e,n,i){return z(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function I(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function w(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,u,h=t[r],c=null,l=h>239?4:h>223?3:h>191?2:1;if(r+l<=n)switch(l){case 1:h<128&&(c=h);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&h)<<6|63&o)>127&&(c=u);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(u=(15&h)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,l=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=l}return function(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=N));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return h(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?w(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return I(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,s=n-e,a=Math.min(o,s),h=this.slice(i,r),c=t.slice(e,n),l=0;l<a;++l)if(h[l]!==c[l]){o=h[l],s=c[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return M(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function C(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function S(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function A(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=k(t[o]);return r}function L(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function R(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function O(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function D(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,i,o){return o||D(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function B(t,e,n,i,o){return o||D(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||T(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);T(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);T(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:q(new u(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function k(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(29))},function(t){t.exports={a:"2.5.0"}},function(t,e){t.exports="precision mediump float;\nattribute vec3 position;\nattribute float values;\nuniform mat4 u_matrix;\nuniform mat4 v_matrix;\nvarying float fvalue;\n  \nvoid main() {\n  gl_Position = u_matrix * v_matrix *vec4(position, 1);\n  fvalue = values;\n  gl_PointSize = 10.0;\n}"},function(t,e){t.exports="precision mediump float;\nattribute vec2 position;\nvarying vec2 tex_pos;\n  \nvoid main() {\n  tex_pos = position;\n  gl_Position = vec4(1.0 - 2.0 * position, 0, 1);\n  gl_PointSize = 10.0;\n}"},function(t,e){t.exports="precision mediump float;\n\nattribute vec3 position;\nattribute float vindices;\n\nuniform mat4 u_matrix;\nuniform mat4 v_matrix;\nuniform float u_res;\n\n\n// varying float fvindices;\nuniform sampler2D fbtexture;\nvarying float fvalue;\n\nuniform vec2 minmax;\n// float divider = 1.0 / abs(minmax[1]-minmax[0]);\nfloat decode(vec2 pair){\n    float y = pair[0] * 255.0; //0-1 x 255\n    float x = pair[1] * 255.0 * 255.0;\n    return ((y+x) / 255.0 / 255.0 * (minmax[1]-minmax[0])) + minmax[0];\n}\n\n\n\nvoid main() {\n  gl_Position = u_matrix * v_matrix *vec4(position, 1);\n  gl_PointSize = 10.0;\n  float x = (fract(vindices / u_res) * u_res) + 0.5; // We want the middle of pixel\n  float y = floor(vindices / u_res) + 0.5; // We want the middle of pixel\n  vec2 pos    = vec2(x,y);\n  vec4 color = texture2D(fbtexture, pos / u_res);\n  fvalue = decode(color.rg);\n\n  \n}"},function(t,e){t.exports="precision mediump float;\n\n#define PI 3.1415926535897932384626433832795\n\nattribute vec3 position;\nattribute float value;\nattribute float triarea;\n\nuniform mat4 u_matrix;\nuniform float worldSize;\nuniform float zoom;\nuniform float u_pointsize;\n\n\nvarying float fvalue;\n\nfloat lngX(float lng) {\n  return  (180.0 + lng) * worldSize / 360.0;\n}\nfloat latY(float lat) {\n  float y = 180.0 / PI * log(tan(PI / 4.0 + lat * PI / 360.0));\n  return (180.0 -y) * worldSize / 360.0;\n}\n// float scale = pow(2.0,22.0-zoom) * 0.000000001;\n\n\nvoid main() {\n  // if(triarea > scale) {\n  gl_Position = u_matrix * vec4(lngX(position[0]),latY(position[1]),position[2], 1.0);  \n  // } else {\n  // gl_Position = vec4(2,2,2,1.0);\n  // }\n  \n  gl_PointSize = u_pointsize;\n  fvalue = value;\n}"},function(t,e){t.exports="precision mediump float;\n\n#define PI 3.1415926535897932384626433832795\n\nattribute vec3 position;\nattribute float vindices;\nattribute float triarea;\nuniform mat4 u_matrix;\nuniform float u_pointsize;\nuniform float u_res;\n// uniform mat4 v_matrix;\nuniform float worldSize;\nuniform float zoom;\n// varying float fvindices;\nuniform sampler2D fbtexture;\nvarying float fvalue;\nfloat lngX(float lng) {\n  return  (180.0 + lng) * worldSize / 360.0;\n}\nfloat latY(float lat) {\n  float y = 180.0 / PI * log(tan(PI / 4.0 + lat * PI / 360.0));\n  return (180.0 -y) * worldSize / 360.0;\n}\n// float scale = pow(2.0,22.0-zoom) * 0.000000001;\n\nuniform vec2 minmax;\n// float divider = 1.0 / abs(minmax[1]-minmax[0]);\nfloat decode(vec2 pair){\n    float y = pair[0] * 255.0; //0-1 x 255\n    float x = pair[1] * 255.0 * 255.0;\n    return ((y+x) / 255.0 / 255.0 * (minmax[1]-minmax[0])) + minmax[0];\n}\n\n\n\nvoid main() {\n  // if(triarea > scale) {\n  gl_Position = u_matrix * vec4(lngX(position[0]),latY(position[1]),position[2], 1.0);\n  // } else {\n    // gl_Position = vec4(2,2,2,1.0);\n  // }\n  // fvindices = vindices;\n  gl_PointSize = u_pointsize;\n  float x = (fract(vindices / u_res) * u_res) + 0.5; // We want the middle of pixel\n  float y = floor(vindices / u_res) + 0.5; // We want the middle of pixel\n  vec2 pos    = vec2(x,y);\n  vec4 color = texture2D(fbtexture, pos / u_res);\n  // vec4 color = vec4(0,0.5,0,1);\n  fvalue = decode(color.rg);\n  // fvalue = minmax[1];\n  \n  \n}"},function(t,e){t.exports="precision mediump float;\nuniform sampler2D t_color;\nuniform vec2 minmax;\nuniform float base;\nvarying float fvalue;\n\nfloat c_min  = minmax[0];\nfloat c_max  = minmax[1];\nfloat c_dif = max(0.000001,abs(c_max-c_min)); \nfloat c_div  = 1.0 / c_dif;\n\n  \nvoid main() {\n  \n  float value   = clamp(pow((fvalue-c_min) * c_div,base),0.0,1.0);\n  vec2 ramp_pos = vec2(1.0,value);\n  vec4 color    =  texture2D(t_color, ramp_pos);\n  gl_FragColor  = color;\n}"},function(t,e){t.exports="#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\nuniform sampler2D t_color;\nuniform vec2 minmax;\nuniform float base;\nvarying float fvalue;\n\nfloat c_min  = minmax[0];\nfloat c_max  = minmax[1];\nfloat c_dif = max(0.000001,abs(c_max-c_min)); \nfloat c_div  = 1.0 / c_dif;\n\nvoid main()\n{\n    vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n    float r = dot(cxy, cxy);\n    float delta = fwidth(r);\n    float alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n\n    \n    float value   = clamp(pow((fvalue-c_min) * c_div,base),0.0,1.0);\n    vec2 ramp_pos = vec2(1.0,value);\n    vec4 color    =  texture2D(t_color, ramp_pos);\n    // float edge = 1.0 - 1.0 / 10.0;\n    // float stroke = 1.0 - smoothstep(edge - delta, edge + delta, r);\n    gl_FragColor  = color * alpha;\n  \n\n}"},function(t,e){t.exports="precision mediump float;\n\nuniform sampler2D value;\nuniform vec2 valueminmax;\n// uniform vec4 valuesatt; \n\n\n// uniform sampler2D dtexture;\nuniform float u_res;\n\n\nfloat fValue;\nfloat fConstrain;\n  \nfloat normalize(float data,vec4 att){\n  float _bottom = att[0];\n  float _top = att[1];\n  float _p = att[2];\n  \n  float _dir = sign(_top - _bottom);\n  \n  float _min = min(_bottom,_top);\n  float _max = max(_bottom,_top);\n  float _data = clamp(data,_min,_max);\n  float _norm = (_data - _min)/(_max - _min);\n  float _norm2 = clamp(_norm,0.0,1.0);\n  float _value = max(_norm2*_dir,(_dir*-1.0) - _norm2);\n  return pow(_value, _p);\n  // return att[1];\n  // return data;\n}\nvec4 encode(float _value,vec2 minmax) {   \n    float value = (_value - minmax[0])/max(abs(minmax[1] - minmax[0]),0.0001) * 255.0 * 255.0;\n    vec4 color = vec4(fract(value / 255.0),floor(value / 255.0),0.0,255.0) / 255.0 ;\n    return color;\n}  \nfloat decode(vec2 pair,vec2 minmax){\n    float y = pair[0];\n    float x = pair[1] * 255.0;\n    return ((y+x) / 255.0 * (minmax[1]-minmax[0])) + minmax[0];\n}\nfloat compute(sampler2D _texture,vec2 minmax){\n  vec4 color = texture2D(_texture, (gl_FragCoord.xy) / (u_res));\n  float value = decode(color.rg,minmax);\n  return value;\n}\n\nvoid main() {\n  gl_FragColor = encode(compute(value,valueminmax),vec2(0.0,1.0));\n  \n}"},function(t,e){t.exports="precision mediump float;\n\n//VARIABLESVAR\n//VARIABLESMINMAX\n//VARIABLESATT\n\n\nuniform float u_res;\n\n\nfloat fValue;\nfloat fConstrain;\n  \nfloat normalize(float data,vec4 att){\n  float _bottom = att[0];\n  float _top = att[1];\n  float _p = att[2];\n  \n  float _dir = sign(_top - _bottom);\n  \n  float _min = min(_bottom,_top);\n  float _max = max(_bottom,_top);\n  // float _data = clamp(data,_min,_max);\n  \n  float divider = max(_max - _min, 0.001);\n  float _norm = (data - _min)/divider;\n  float _norm2 = clamp(_norm,0.0,1.0);\n  \n  float _value = max(_norm2*_dir,(_dir*-1.0) - _norm2);\n  \n  return pow(_value, _p);\n  // return att[1];\n  // return data;\n}\nvec4 encode(float _value,vec2 minmax) {   \n    float value = (_value - minmax[0])/max(abs(minmax[1] - minmax[0]),0.0001) * 255.0 * 255.0;\n    vec4 color = vec4(fract(value / 255.0),floor(value / 255.0),0.0,255.0) / 255.0 ;\n    return color;\n}  \nfloat decode(vec2 pair,vec2 minmax){\n    float y = pair[0];\n    float x = pair[1] * 255.0;\n    return ((y+x) / 255.0 * (minmax[1]-minmax[0])) + minmax[0];\n}\nfloat compute(sampler2D _texture,vec2 minmax,vec4 att){\n  vec4 color = texture2D(_texture, (gl_FragCoord.xy) / (u_res));\n  float value = decode(color.rg,minmax);\n  return normalize(value,att);\n}\n\nvoid main() {\n  fValue = 0.0;\n  fConstrain = 1.0;\n  //VARIABLESCOMPUTE\n  //VARIABLESCONSTRAIN\n\n  fValue *= fConstrain;  \n  gl_FragColor = encode(fValue,vec2(0.0,1.0));\n  // gl_FragColor = vec4(1,1,1,1);\n  // gl_FragColor = encode(compute(values,valuesminmax),vec2(0.0,1.0));\n  \n}"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(33),r=6378137;function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,i,o,s,u,h=0,c=t.length;if(c>2){for(u=0;u<c;u++)u===c-2?(i=c-2,o=c-1,s=0):u===c-1?(i=c-1,o=0,s=1):(i=u,o=u+1,s=u+2),e=t[i],n=t[o],h+=(a(t[s][0])-a(e[0]))*Math.sin(a(n[1]));h=h*r*r/2}return h}function a(t){return t*Math.PI/180}e.default=function(t){return i.geomReduce(t,function(t,e){return t+function(t){var e,n=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=o(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)},0)}},function(t,e,n){"use strict";var i=n(5);function r(t){return{type:"Feature",geometry:i.tileToGeoJSON(t),properties:{}}}function o(t,e){var n,r,o=t.coordinates,a=e.max_zoom,l={},f=[];if("Point"===t.type)return[i.pointToTile(o[0],o[1],a)];if("MultiPoint"===t.type)for(n=0;n<o.length;n++)l[c((r=i.pointToTile(o[n][0],o[n][1],a))[0],r[1],r[2])]=!0;else if("LineString"===t.type)u(l,o,a);else if("MultiLineString"===t.type)for(n=0;n<o.length;n++)u(l,o[n],a);else if("Polygon"===t.type)s(l,f,o,a);else{if("MultiPolygon"!==t.type)throw new Error("Geometry type not implemented");for(n=0;n<o.length;n++)s(l,f,o[n],a)}if(e.min_zoom!==a){var p=f.length;for(h(l,f),n=0;n<p;n++){var d=f[n];l[c(d[0],d[1],d[2])]=!0}return function(t,e,n){for(var i=[],r=n.max_zoom;r>n.min_zoom;r--){for(var o={},s=[],a=0;a<e.length;a++){var u=e[a];if(u[0]%2==0&&u[1]%2==0){var h=c(u[0]+1,u[1],r),l=c(u[0],u[1]+1,r),f=c(u[0]+1,u[1]+1,r);if(t[h]&&t[l]&&t[f]){t[c(u[0],u[1],u[2])]=!1,t[h]=!1,t[l]=!1,t[f]=!1;var p=[u[0]/2,u[1]/2,r-1];r-1===n.min_zoom?i.push(p):(o[c(u[0]/2,u[1]/2,r-1)]=!0,s.push(p))}}}for(a=0;a<e.length;a++)u=e[a],t[c(u[0],u[1],u[2])]&&i.push(u);t=o,e=s}return i}(l,f,e)}return h(l,f),f}function s(t,e,n,i){for(var r=[],o=0;o<n.length;o++){var s=[];u(t,n[o],i,s);for(var h=0,l=s.length,f=l-1;h<l;f=h++){var p=(h+1)%l,d=s[h][1];(d>s[f][1]||d>s[p][1])&&(d<s[f][1]||d<s[p][1])&&d!==s[p][1]&&r.push(s[h])}}for(r.sort(a),o=0;o<r.length;o+=2){d=r[o][1];for(var g=r[o][0]+1;g<r[o+1][0];g++){t[c(g,d,i)]||e.push([g,d,i])}}}function a(t,e){return t[1]-e[1]||t[0]-e[0]}function u(t,e,n,r){for(var o,s,a=0;a<e.length-1;a++){var u=i.pointToTileFraction(e[a][0],e[a][1],n),h=i.pointToTileFraction(e[a+1][0],e[a+1][1],n),l=u[0],f=u[1],p=h[0]-l,d=h[1]-f;if(0!==d||0!==p){var g=p>0?1:-1,y=d>0?1:-1,m=Math.floor(l),_=Math.floor(f),v=0===p?1/0:Math.abs(((p>0?1:0)+m-l)/p),M=0===d?1/0:Math.abs(((d>0?1:0)+_-f)/d),b=Math.abs(g/p),x=Math.abs(y/d);for(m===o&&_===s||(t[c(m,_,n)]=!0,r&&_!==s&&r.push([m,_]),o=m,s=_);v<1||M<1;)v<M?(v+=b,m+=g):(M+=x,_+=y),t[c(m,_,n)]=!0,r&&_!==s&&r.push([m,_]),o=m,s=_}}r&&_===r[0][1]&&r.pop()}function h(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++)e.push(l(+n[i]))}function c(t,e,n){return 32*(2*(1<<n)*e+t)+n}function l(t){var e=t%32,n=2*(1<<e),i=(t-e)/32,r=i%n;return[r,(i-r)/n%n,e]}e.geojson=function(t,e){return{type:"FeatureCollection",features:o(t,e).map(r)}},e.tiles=o,e.indexes=function(t,e){return o(t,e).map(i.tileToQuadkey)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);e.default=function(t,e){void 0===e&&(e={});var n=Number(t[0]),r=Number(t[1]),o=Number(t[2]),s=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,r],u=[n,s],h=[o,s],c=[o,r];return i.polygon([[a,c,h,u,a]],e.properties,{bbox:t,id:e.id})}},function(t,e,n){"use strict";var i=1,r=2,o=4,s=5,a=484813681109536e-20,u=Math.PI/2,h=.16666666666666666,c=.04722222222222222,l=.022156084656084655,f=1e-10,p=.017453292519943295,d=57.29577951308232,g=Math.PI/4,y=2*Math.PI,m=3.14159265359,_={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},v={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},M=/[\s_\-\/\(\)]/g;function b(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(M,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(M,"")===r)return t[n]}var x=function(t){var e,n,i,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*p},lat_1:function(t){r.lat1=t*p},lat_2:function(t){r.lat2=t*p},lat_ts:function(t){r.lat_ts=t*p},lon_0:function(t){r.long0=t*p},lon_1:function(t){r.long1=t*p},lon_2:function(t){r.long2=t*p},alpha:function(t){r.alpha=parseFloat(t)*p},lonc:function(t){r.longc=t*p},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=b(v,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*p},pm:function(t){var e=b(_,t);r.from_greenwich=(e||parseFloat(t))*p},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in o)n=o[e],e in s?"function"==typeof(i=s[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},E=function(t){return new L(t).output()},I=1,w=/\s/,N=/[A-Za-z]/,C=/[A-Za-z84]/,S=/[,\]]/,A=/[\d\.E\-\+]/;function L(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=I}function P(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(t,e){return T(e,t),t},i);e&&(t[e]=r)}function T(t,e){if(Array.isArray(t)){var n,i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void T(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i)switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&T(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&T(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void P(e,i,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return T(t,e[i]);return P(e,i,t)}else e[i]=t;else e[i]=!0}else e[t]=!0}L.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;w.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case I:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},L.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(S.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},L.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=I)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=I,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},L.prototype.number=function(t){if(!A.test(t)){if(S.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},L.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},L.prototype.keyword=function(t){if(C.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=I)}if(!S.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},L.prototype.neutral=function(t){if(N.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(A.test(t))return this.word=t,void(this.state=3);if(!S.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},L.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var R=.017453292519943295;function O(t){return t*R}var D=function(t){var e=E(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return T(e,r),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",O],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",O],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",O],["lat0","latitude_of_origin",O],["lat0","standard_parallel_1",O],["lat1","standard_parallel_1",O],["lat2","standard_parallel_2",O],["azimuth","Azimuth"],["alpha","azimuth",O],["srsCode","name"]].forEach(function(e){return function(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=O(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function F(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?F[t]=x(arguments[1]):F[t]=D(arguments[1]):F[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?F.apply(e,t):F(t)});if("string"==typeof t){if(t in F)return F[t]}else"EPSG"in t?F["EPSG:"+t.EPSG]=t:"ESRI"in t?F["ESRI:"+t.ESRI]=t:"IAU2000"in t?F["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(F);var B=F;var G=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var k=["3857","900913","3785","102113"];var q=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in B}(t))return B[t];if(function(t){return G.some(function(e){return t.indexOf(e)>-1})}(t)){var e=D(t);if(function(t){var e=b(t,"authority");if(e){var n=b(e,"epsg");return n&&k.indexOf(n)>-1}}(e))return B["EPSG:3857"];var n=function(t){var e=b(t,"extension");if(e)return b(e,"proj4")}(e);return n?x(n):e}return function(t){return"+"===t[0]}(t)?x(t):void 0},U=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},z=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},V=function(t){return t<0?-1:1},j=function(t){return Math.abs(t)<=m?t:t-V(t)*y},Y=function(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(u-e))/i},X=function(t,e){for(var n,i,r=.5*t,o=u-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),o+=i=u-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999};function H(t){return t}var W=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,r=t.y;if(r*d>90&&r*d<-90&&i*d>180&&i*d<-180)return null;if(Math.abs(Math.abs(r)-u)<=f)return null;if(this.sphere)e=this.x0+this.a*this.k0*j(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(g+.5*r));else{var o=Math.sin(r),s=Y(this.e,r,o);e=this.x0+this.a*this.k0*j(i-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=u-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=X(this.e,o)))return null}return e=j(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:H,inverse:H,names:["longlat","identity"]}],K={},J=[];function Q(t,e){var n=J.length;return t.names?(J[n]=t,t.names.forEach(function(t){K[t.toLowerCase()]=n}),this):(console.log(e),!0)}var Z={start:function(){W.forEach(Q)},add:Q,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==K[e]&&J[K[e]]?J[K[e]]:void 0}},$={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},tt=$.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};$.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var et={};et.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},et.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},et.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},et.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},et.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},et.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},et.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},et.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},et.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},et.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},et.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},et.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},et.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},et.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},et.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},et.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},et.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var nt=function(t,e,n,u,h,c){var l={};return l.datum_type=void 0===t||"none"===t?s:o,e&&(l.datum_params=e.map(parseFloat),0===l.datum_params[0]&&0===l.datum_params[1]&&0===l.datum_params[2]||(l.datum_type=i),l.datum_params.length>3&&(0===l.datum_params[3]&&0===l.datum_params[4]&&0===l.datum_params[5]&&0===l.datum_params[6]||(l.datum_type=r,l.datum_params[3]*=a,l.datum_params[4]*=a,l.datum_params[5]*=a,l.datum_params[6]=l.datum_params[6]/1e6+1))),l.a=n,l.b=u,l.es=h,l.ep2=c,l};function it(t,e){if(!(this instanceof it))return new it(t);e=e||function(t){if(t)throw t};var n=q(t);if("object"==typeof n){var i=it.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=b(et,n.datumCode);r&&(n.datum_params=r.towgs84?r.towgs84.split(","):null,n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=function(t,e,n,i,r){if(!t){var o=b($,i);o||(o=tt),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<f)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(t,e,n,i){var r=t*t,o=e*e,s=(r-o)/r,a=0;return i?(r=(t*=1-s*(h+s*(c+s*l)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(r-o)/o}}(o.a,o.b,o.rf,n.R_A),a=n.datum||nt(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2);U(this,n),U(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=a,this.init(),e(null,this)}else e(t)}else e(t)}it.projections=Z,it.projections.start();var rt=it;function ot(t){return t===i||t===r}var st=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===i?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==r||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?n:t.datum_type===s||e.datum_type===s?n:t.es!==e.es||t.a!==e.a||ot(t.datum_type)||ot(e.datum_type)?(n=function(t,e,n){var i,r,o,s,a=t.x,h=t.y,c=t.z?t.z:0;if(h<-u&&h>-1.001*u)h=-u;else if(h>u&&h<1.001*u)h=u;else{if(h<-u)return{x:-1/0,y:-1/0,z:t.z};if(h>u)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(h),s=Math.cos(h),o=r*r,{x:((i=n/Math.sqrt(1-e*o))+c)*s*Math.cos(a),y:(i+c)*s*Math.sin(a),z:(i*(1-e)+c)*r}}(n,t.es,t.a),ot(t.datum_type)&&(n=function(t,e,n){if(e===i)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===r){var o=n[0],s=n[1],a=n[2],u=n[3],h=n[4],c=n[5],l=n[6];return{x:l*(t.x-c*t.y+h*t.z)+o,y:l*(c*t.x+t.y-u*t.z)+s,z:l*(-h*t.x+u*t.y+t.z)+a}}}(n,t.datum_type,t.datum_params)),ot(e.datum_type)&&(n=function(t,e,n){if(e===i)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===r){var o=n[0],s=n[1],a=n[2],u=n[3],h=n[4],c=n[5],l=n[6],f=(t.x-o)/l,p=(t.y-s)/l,d=(t.z-a)/l;return{x:f+c*p-h*d,y:-c*f+p+u*d,z:h*f-u*p+d}}}(n,e.datum_type,e.datum_params)),function(t,e,n,i){var r,o,s,a,u,h,c,l,f,p,d,g,y,m,_,v=t.x,M=t.y,b=t.z?t.z:0;if(r=Math.sqrt(v*v+M*M),o=Math.sqrt(v*v+M*M+b*b),r/n<1e-12){if(m=0,o/n<1e-12)return _=-i,{x:t.x,y:t.y,z:t.z}}else m=Math.atan2(M,v);s=b/o,l=(a=r/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*a*a)),f=s*u,y=0;do{y++,h=e*(c=n/Math.sqrt(1-e*f*f))/(c+(_=r*l+b*f-c*(1-e*f*f))),g=(d=s*(u=1/Math.sqrt(1-h*(2-h)*a*a)))*l-(p=a*(1-h)*u)*f,l=p,f=d}while(g*g>1e-24&&y<30);return{x:m,y:Math.atan(d/Math.abs(p)),z:_}}(n,e.es,e.a,e.b)):n},at=function(t,e,n){var i,r,o,s=n.x,a=n.y,u=n.z||0,h={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r="x"):1===o?(i=a,r="y"):(i=u,r="z"),t.axis[o]){case"e":h[r]=i;break;case"w":h[r]=-i;break;case"n":h[r]=i;break;case"s":h[r]=-i;break;case"u":void 0!==n[r]&&(h.z=i);break;case"d":void 0!==n[r]&&(h.z=-i);break;default:return null}return h},ut=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},ht=function(t){ct(t.x),ct(t.y)};function ct(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function lt(t,e,n){var o;return Array.isArray(n)&&(n=ut(n)),ht(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===i||t.datum.datum_type===r)&&"WGS84"!==e.datumCode||(e.datum.datum_type===i||e.datum.datum_type===r)&&"WGS84"!==t.datumCode}(t,e)&&(n=lt(t,o=new rt("WGS84"),n),t=o),"enu"!==t.axis&&(n=at(t,!1,n)),"longlat"===t.projName?n={x:n.x*p,y:n.y*p}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=st(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*d,y:n.y*d}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?at(e,!0,n):n}var ft=rt("WGS84");function pt(t,e,n){var i,r,o;return Array.isArray(n)?(i=lt(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):(r=lt(t,e,n),2===(o=Object.keys(n)).length?r:(o.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=n[t])}),r))}function dt(t){return t instanceof rt?t:t.oProj?t.oProj:rt(t)}var gt=function(t,e,n){t=dt(t);var i,r=!1;return void 0===e?(e=t,t=ft,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=ft,r=!0),e=dt(e),n?pt(t,e,n):(i={forward:function(n){return pt(t,e,n)},inverse:function(n){return pt(e,t,n)}},r&&(i.oProj=e),i)},yt=6,mt="AJSAJS",_t="AFAFAF",vt=65,Mt=73,bt=79,xt=86,Et=90,It={forward:wt,inverse:function(t){var e=At(Pt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:Nt};function wt(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,n){var i=Lt(n),r=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return function(t,e,n){var i=n-1,r=mt.charCodeAt(i),o=_t.charCodeAt(i),s=r+t-1,a=o+e,u=!1;s>Et&&(s=s-Et+vt-1,u=!0);(s===Mt||r<Mt&&s>Mt||(s>Mt||r<Mt)&&u)&&s++;(s===bt||r<bt&&s>bt||(s>bt||r<bt)&&u)&&++s===Mt&&s++;s>Et&&(s=s-Et+vt-1);a>xt?(a=a-xt+vt-1,u=!0):u=!1;(a===Mt||o<Mt&&a>Mt||(a>Mt||o<Mt)&&u)&&a++;(a===bt||o<bt&&a>bt||(a>bt||o<bt)&&u)&&++a===Mt&&a++;a>xt&&(a=a-xt+vt-1);return String.fromCharCode(s)+String.fromCharCode(a)}(r,o,i)}(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}(function(t){var e,n,i,r,o,s,a,u=t.lat,h=t.lon,c=6378137,l=Ct(u),f=Ct(h);a=Math.floor((h+180)/6)+1,180===h&&(a=60);u>=56&&u<64&&h>=3&&h<12&&(a=32);u>=72&&u<84&&(h>=0&&h<9?a=31:h>=9&&h<21?a=33:h>=21&&h<33?a=35:h>=33&&h<42&&(a=37));s=Ct(6*(a-1)-180+3),.006739496752268451,e=c/Math.sqrt(1-.00669438*Math.sin(l)*Math.sin(l)),n=Math.tan(l)*Math.tan(l),i=.006739496752268451*Math.cos(l)*Math.cos(l),r=Math.cos(l)*(f-s),o=c*(.9983242984503243*l-.002514607064228144*Math.sin(2*l)+2639046602129982e-21*Math.sin(4*l)-3.418046101696858e-9*Math.sin(6*l));var p=.9996*e*(r+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,d=.9996*(o+e*Math.tan(l)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));u<0&&(d+=1e7);return{northing:Math.round(d),easting:Math.round(p),zoneNumber:a,zoneLetter:function(t){var e="Z";84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C");return e}(u)}}({lat:t[1],lon:t[0]}),e)}function Nt(t){var e=At(Pt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Ct(t){return t*(Math.PI/180)}function St(t){return t/Math.PI*180}function At(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,u,h,c,l,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,y=e;i<"N"&&(y-=1e7),c=6*(r-1)-180+3,f=(l=y/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*l)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*l)+151*d*d*d/96*Math.sin(6*l),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),s=Math.tan(f)*Math.tan(f),a=.006739496752268451*Math.cos(f)*Math.cos(f),u=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),h=g/(.9996*o);var m=f-o*Math.tan(f)/u*(h*h/2-(5+3*s+10*a-4*a*a-.06065547077041606)*h*h*h*h/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*h*h*h*h*h*h/720);m=St(m);var _,v=(h-(1+2*s+a)*h*h*h/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*h*h*h*h*h/120)/Math.cos(f);if(v=c+St(v),t.accuracy){var M=At({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:M.lat,right:M.lon,bottom:m,left:v}}else _={lat:m,lon:v};return _}function Lt(t){var e=t%yt;return 0===e&&(e=yt),e}function Pt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var u=Lt(s),h=function(t,e){var n=mt.charCodeAt(e-1),i=1e5,r=!1;for(;n!==t.charCodeAt(0);){if(++n===Mt&&n++,n===bt&&n++,n>Et){if(r)throw"Bad character: "+t;n=vt,r=!0}i+=1e5}return i}(i.charAt(0),u),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=_t.charCodeAt(e-1),i=0,r=!1;for(;n!==t.charCodeAt(0);){if(++n===Mt&&n++,n===bt&&n++,n>xt){if(r)throw"Bad character: "+t;n=vt,r=!0}i+=1e5}return i}(i.charAt(1),u);c<Tt(a);)c+=2e6;var l=n-o;if(l%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,g=l/2,y=0,m=0;return g>0&&(f=1e5/Math.pow(10,g),p=t.substring(o,o+g),y=parseFloat(p)*f,d=t.substring(o+g),m=parseFloat(d)*f),{easting:y+h,northing:m+c,zoneLetter:a,zoneNumber:s,accuracy:f}}function Tt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Rt(t,e,n){if(!(this instanceof Rt))return new Rt(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Rt.fromMGRS=function(t){return new Rt(Nt(t))},Rt.prototype.toMGRS=function(t){return wt([this.x,this.y],t)};var Ot=Rt,Dt=n(9),Ft=.01068115234375,Bt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Ft))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Ft)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Gt=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))},kt=function(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(Gt(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,Math.abs(a)<f)return r}return r};var qt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Bt(this.es),this.ml0=Gt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.x,o=t.y,s=j(r-this.long0),a=Math.sin(o),u=Math.cos(o);if(this.es){var h=u*s,c=Math.pow(h,2),l=this.ep2*Math.pow(u,2),p=Math.pow(l,2),d=Math.abs(u)>f?Math.tan(o):0,g=Math.pow(d,2),y=Math.pow(g,2);e=1-this.es*Math.pow(a,2),h/=Math.sqrt(e);var m=Gt(o,a,u,this.en);n=this.a*(this.k0*h*(1+c/6*(1-g+l+c/20*(5-18*g+y+14*l-58*g*l+c/42*(61+179*y-y*g-479*g)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+a*s*h/2*(1+c/12*(5-g+9*l+4*p+c/30*(61+y-58*g+270*l-330*g*l+c/56*(1385+543*y-y*g-3111*g))))))+this.y0}else{var _=u*Math.sin(s);if(Math.abs(Math.abs(_)-1)<f)return 93;if(n=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,i=u*Math.cos(s)/Math.sqrt(1-Math.pow(_,2)),(_=Math.abs(i))>=1){if(_-1>f)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=kt(e,this.es,this.en),Math.abs(n)<u){var a=Math.sin(n),h=Math.cos(n),c=Math.abs(h)>f?Math.tan(n):0,l=this.ep2*Math.pow(h,2),p=Math.pow(l,2),d=Math.pow(c,2),g=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var y=o*Math.sqrt(e)/this.k0,m=Math.pow(y,2);i=n-(e*=c)*m/(1-this.es)*.5*(1-m/12*(5+3*d-9*l*d+l-4*p-m/30*(61+90*d-252*l*d+45*g+46*l-m/56*(1385+3633*d+4095*g+1574*g*d)))),r=j(this.long0+y*(1-m/6*(1+2*d+l-m/20*(5+28*d+24*g+8*l*d+6*l-m/42*(61+662*d+1320*g+720*g*d))))/h)}else i=u*V(s),r=0;else{var _=Math.exp(o/this.k0),v=.5*(_-1/_),M=this.lat0+s/this.k0,b=Math.cos(M);e=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(v,2))),i=Math.asin(e),s<0&&(i=-i),r=0===v&&0===b?0:j(Math.atan2(v,b)+this.long0)}return t.x=r,t.y=i,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Ut=function(t){var e=Math.exp(t);return e=(e-1/e)/2},zt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},Vt=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(zt(1,e)+1))),t<0?-e:e},jt=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)},Yt=function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n},Xt=function(t,e,n){for(var i,r,o=Math.sin(e),s=Math.cos(e),a=Ut(n),u=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(n),h=2*s*u,c=-2*o*a,l=t.length-1,f=t[l],p=0,d=0,g=0;--l>=0;)i=d,r=p,f=h*(d=f)-i-c*(p=g)+t[l],g=c*d-r+h*p;return[(h=o*u)*f-(c=s*a)*g,h*g+c*f]};var Ht={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=jt(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Yt(this.gtu,2*i))},forward:function(t){var e=j(t.x-this.long0),n=t.y;n=jt(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,zt(i,r*s)),e=Vt(Math.tan(e));var a,u,h=Xt(this.gtu,2*n,2*e);return n+=h[0],e+=h[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,u=1/0),t.x=a,t.y=u,t},inverse:function(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=Xt(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(Ut(i));var s=Math.sin(r),a=Math.cos(r),u=Math.sin(i),h=Math.cos(i);r=Math.atan2(s*h,zt(u,h*a)),i=Math.atan2(u,h*a),e=j(i+this.long0),n=jt(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Wt=function(t,e){if(void 0===t){if((t=Math.floor(30*(j(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t};var Kt={init:function(){var t=Wt(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*p,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ht.init.apply(this),this.forward=Ht.forward,this.inverse=Ht.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Jt=function(t,e){return Math.pow((1-t)/(1+t),e)},Qt=20;var Zt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+g)/(Math.pow(Math.tan(.5*this.lat0+g),this.C)*Jt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+g),this.C)*Jt(this.e*Math.sin(n),this.ratexp))-u,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+g)/this.K,1/this.C),r=Qt;r>0&&(n=2*Math.atan(i*Jt(this.e*Math.sin(t.y),-.5*this.e))-u,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]};var $t={init:function(){Zt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=j(t.x-this.long0),Zt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,Zt.inverse.apply(this,[t]),t.x=j(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var te={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=f&&(this.k0=.5*(1+V(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=f&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=f&&(this.k0=.5*this.cons*z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Y(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=z(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-u,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,s,a=t.x,h=t.y,c=Math.sin(h),l=Math.cos(h),p=j(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=f&&Math.abs(h+this.lat0)<=f?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*l*Math.cos(p)),t.x=this.a*e*l*Math.sin(p)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*l*Math.cos(p))+this.y0,t):(n=2*Math.atan(this.ssfn_(h,c,this.e))-u,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=f?(o=Y(this.e,h*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<f?(e=2*this.a*this.k0/(1+r*Math.cos(p)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(p))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(p))+this.y0),t.x=e*r*Math.sin(p)+this.x0,t))},inverse:function(t){var e,n,i,r,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=f?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<f?this.lat0>0?j(this.long0+Math.atan2(t.x,-1*t.y)):j(this.long0+Math.atan2(t.x,t.y)):j(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=f){if(s<=f)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),n=this.con*X(this.e,i),e=this.con*j(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=f?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/s),e=j(this.long0+Math.atan2(t.x*Math.sin(r),s*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*X(this.e,Math.tan(.5*(u+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(u+t))*Math.pow((1-e)/(1+e),.5*n)}};var ee={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,u=0,h=o,c=-1e3,l=0;Math.abs(h-c)>1e-7;){if(++l>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),c=h,h=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=a,t.y=h,t},names:["somerc"]};var ne={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i,r,o=Y(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(s*s<1&&(s=1),isNaN(this.longc)){var a=Y(this.e,this.lat1,Math.sin(this.lat1)),u=Y(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var h=Math.pow(a,this.bl),c=Math.pow(u,this.bl);r=.5*((i=this.el/h)-1/i);var l=(this.el*this.el-c*h)/(this.el*this.el+c*h),f=(c-h)/(c+h),p=j(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(l*Math.tan(.5*this.bl*p)/f)/this.bl,this.long0=j(this.long0);var d=j(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/r),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else i=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=i*Math.pow(o,this.bl),r=.5*(i-1/i),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,n,i,r=t.x,o=t.y,s=j(r-this.long0);if(Math.abs(Math.abs(o)-u)<=f)i=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(g+i*this.gamma0*.5)),e=-1*i*u*this.al/this.bl;else{var a=Y(this.e,o,Math.sin(o)),h=this.el/Math.pow(a,this.bl),c=.5*(h-1/h),l=.5*(h+1/h),p=Math.sin(this.bl*s),d=(c*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/l;n=Math.abs(Math.abs(d)-1)<=f?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-d)/(1+d))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=f?this.al*this.bl*s:this.al*Math.atan2(c*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,h=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<f?(t.x=this.long0,t.y=u):Math.abs(a+1)<f?(t.x=this.long0,t.y=-1*u):(t.y=X(this.e,h),t.x=j(this.long0-Math.atan2(r*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var ie={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<f)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=z(this.e,e,n),r=Y(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=z(this.e,o,s),u=Y(this.e,this.lat2,o),h=Y(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>f?this.ns=Math.log(i/a)/Math.log(r/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=f&&(n=V(n)*(u-2*f));var i,r,o=Math.abs(Math.abs(n)-u);if(o>f)i=Y(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var s=this.ns*j(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var h=0;if(0!==e&&(h=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=X(this.e,i)))return null}else r=-u;return o=j(h/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var re={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,s,a,u=t.x,h=t.y,c=j(u-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,s,a,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var h=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,h+=1}while(0===a&&h<15);return h>=15?null:t},names:["Krovak","krovak"]},oe=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},se=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},ae=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ue=function(t){return.05859375*t*t*(1+.75*t)},he=function(t){return t*t*t*(35/3072)},ce=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},le=function(t){return Math.abs(t)<u?t:t-V(t)*Math.PI},fe=function(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN};var pe={init:function(){this.sphere||(this.e0=se(this.es),this.e1=ae(this.es),this.e2=ue(this.es),this.e3=he(this.es),this.ml0=this.a*oe(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=j(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=ce(this.a,this.e,o),u=Math.tan(r)*Math.tan(r),h=i*Math.cos(r),c=h*h,l=this.es*s*s/(1-this.es);e=a*h*(1-c*u*(1/6-(8-u+8*l)*c/120)),n=this.a*oe(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*c*(.5+(5-u+6*l)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=this.ml0/this.a+r,a=fe(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-u)<=f)return t.x=this.long0,t.y=u,r<0&&(t.y*=-1),t;var h=ce(this.a,this.e,Math.sin(a)),c=h*h*h/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(a),2),p=i*this.a/h,d=p*p;e=a-h*Math.tan(a)/c*p*p*(.5-(1+3*l)*p*p/24),n=p*(1-d*(l/3+(1+3*l)*l*d/15))/Math.cos(a)}return t.x=j(n+this.long0),t.y=le(e),t},names:["Cassini","Cassini_Soldner","cass"]},de=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e};var ge=.3333333333333333,ye=.17222222222222222,me=.10257936507936508,_e=.06388888888888888,ve=.0664021164021164,Me=.016415012942191543;var be={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-u)<f?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<f?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=de(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*ge,e=t*t,n[0]+=e*ye,n[1]=e*_e,e*=t,n[0]+=e*me,n[1]+=e*ve,n[2]=e*Me,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=de(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,s,a,h,c,l,p=t.x,d=t.y;if(p=j(p-this.long0),this.sphere){if(o=Math.sin(d),l=Math.cos(d),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+l*i:1+this.sinph0*o+this.cosph0*l*i)<=f)return null;e=(n=Math.sqrt(2/n))*l*Math.sin(p),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*l*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.phi0)<f)return null;n=g-.5*d,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=i}}else{switch(a=0,h=0,c=0,i=Math.cos(p),r=Math.sin(p),o=Math.sin(d),s=de(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,h=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*h*i;break;case this.EQUIT:c=1+h*i;break;case this.N_POLE:c=u+d,s=this.qp-s;break;case this.S_POLE:c=d-u,s=this.qp+s}if(Math.abs(c)<f)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*h*i):(c=Math.sqrt(2/(1+h*i)))*a*this.ymf,e=this.xmf*c*h*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,h=t.x/this.a,c=t.y/this.a;if(this.sphere){var l,p=0,d=0;if((n=.5*(l=Math.sqrt(h*h+c*c)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(l)<=f?0:Math.asin(c*d/l),h*=d,c=p*l;break;case this.OBLIQ:n=Math.abs(l)<=f?this.phi0:Math.asin(p*this.sinph0+c*d*this.cosph0/l),h*=d*this.cosph0,c=(p-Math.sin(n)*this.sinph0)*l;break;case this.N_POLE:c=-c,n=u-n;break;case this.S_POLE:n-=u}e=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,c):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,c*=this.dd,(s=Math.sqrt(h*h+c*c))<f)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),h*=r=Math.sin(r),this.mode===this.OBLIQ?(a=i*this.sinb1+c*r*this.cosb1/s,o=this.qp*a,c=s*this.cosb1*i-c*this.sinb1*r):(a=c*r/s,o=this.qp*a,c=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(o=h*h+c*c))return t.x=0,t.y=this.phi0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(h,c),n=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}(Math.asin(a),this.apa)}return t.x=j(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},xe=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var Ee={init:function(){Math.abs(this.lat1+this.lat2)<f||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=z(this.e3,this.sin_po,this.cos_po),this.qs1=de(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=z(this.e3,this.sin_po,this.cos_po),this.qs2=de(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=de(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>f?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=de(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*j(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),o=j(r/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,s,a=xe(.5*e);if(t<f)return a;for(var u=t*t,h=1;h<=25;h++)if(n=Math.sin(a),i=Math.cos(a),a+=s=.5*(o=1-(r=t*n)*r)*o/i*(e/(1-u)-n/o+.5/t*Math.log((1-r)/(1+r))),Math.abs(s)<=1e-7)return a;return null}};var Ie={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,s,a,u=t.x,h=t.y;return i=j(u-this.long0),e=Math.sin(h),n=Math.cos(h),r=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=f?(s=this.x0+1*this.a*n*Math.sin(i)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(s=this.x0+this.infinity_dist*n*Math.sin(i),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),s=xe(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=j(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},we=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*u:u;for(var i,r,o,s,a=Math.asin(.5*e),h=0;h<30;h++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,a+=i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return a;return NaN};var Ne={init:function(){this.sphere||(this.k0=z(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.x,r=t.y,o=j(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=de(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=j(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=we(this.e,2*t.y*this.k0/this.a),e=j(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var Ce={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,i=j(e-this.long0),r=le(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,n=t.y;return t.x=j(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=le(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Se=20;var Ae={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=se(this.es),this.e1=ae(this.es),this.e2=ue(this.es),this.e3=he(this.es),this.ml0=this.a*oe(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.x,o=t.y,s=j(r-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=f?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(le(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=f)e=this.a*s,n=-1*this.ml0;else{var a=ce(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(i),n=this.a*oe(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,s,a,u,h;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=f)e=j(i/this.a+this.long0),n=0;else{var c;for(s=this.lat0+r/this.a,a=i*i/this.a/this.a+s*s,u=s,o=Se;o;--o)if(u+=h=-1*(s*(u*(c=Math.tan(u))+1)-u-.5*(u*u+a)*c)/((u-s)/c-1),Math.abs(h)<=f){n=u;break}e=j(this.long0+Math.asin(i*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=f)n=0,e=j(this.long0+i/this.a);else{var l,p,d,g,y;for(s=(this.ml0+r)/this.a,a=i*i/this.a/this.a+s*s,u=s,o=Se;o;--o)if(y=this.e*Math.sin(u),l=Math.sqrt(1-y*y)*Math.tan(u),p=this.a*oe(this.e0,this.e1,this.e2,this.e3,u),d=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),u-=h=(s*(l*(g=p/this.a)+1)-g-.5*l*(g*g+a))/(this.es*Math.sin(2*u)*(g*g+a-2*s*g)/(4*l)+(s-g)*(l*d-2/Math.sin(2*u))-d),Math.abs(h)<=f){n=u;break}l=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=j(this.long0+Math.asin(i*l/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var Le={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,i=t.y-this.lat0,r=n-this.long0,o=i/a*1e-5,s=r,u=1,h=0;for(e=1;e<=10;e++)u*=o,h+=this.A[e]*u;var c,l=h,f=s,p=1,d=0,g=0,y=0;for(e=1;e<=6;e++)c=d*l+p*f,p=p*l-d*f,d=c,g=g+this.B_re[e]*p-this.B_im[e]*d,y=y+this.B_im[e]*p+this.B_re[e]*d;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var e,n,i=t.x,r=t.y,o=i-this.x0,s=(r-this.y0)/this.a,u=o/this.a,h=1,c=0,l=0,f=0;for(e=1;e<=6;e++)n=c*s+h*u,h=h*s-c*u,c=n,l=l+this.C_re[e]*h-this.C_im[e]*c,f=f+this.C_im[e]*h+this.C_re[e]*c;for(var p=0;p<this.iterations;p++){var d,g=l,y=f,m=s,_=u;for(e=2;e<=6;e++)d=y*l+g*f,g=g*l-y*f,y=d,m+=(e-1)*(this.B_re[e]*g-this.B_im[e]*y),_+=(e-1)*(this.B_im[e]*g+this.B_re[e]*y);g=1,y=0;var v=this.B_re[1],M=this.B_im[1];for(e=2;e<=6;e++)d=y*l+g*f,g=g*l-y*f,y=d,v+=e*(this.B_re[e]*g-this.B_im[e]*y),M+=e*(this.B_im[e]*g+this.B_re[e]*y);var b=v*v+M*M;l=(m*v+_*M)/b,f=(_*v-m*M)/b}var x=l,E=f,I=1,w=0;for(e=1;e<=9;e++)I*=x,w+=this.D[e]*I;var N=this.lat0+w*a*1e5,C=this.long0+E;return t.x=C,t.y=N,t},names:["New_Zealand_Map_Grid","nzmg"]};var Pe={init:function(){},forward:function(t){var e=t.x,n=t.y,i=j(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=j(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Te=20;var Re={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Bt(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=j(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=Te;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<f)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var u=Math.sin(r),h=Math.cos(r);n=this.a*Gt(r,u,h,this.en),e=this.a*i*h/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=xe((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=xe(Math.sin(e)/this.n)),i=j(i+this.long0),e=le(e)):(e=kt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<u?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=j(n)):r-f<u&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]};var Oe={init:function(){},forward:function(t){for(var e=t.x,n=t.y,i=j(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<f)break}r/=2,Math.PI/2-Math.abs(n)<f&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,u=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=u,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=j(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]};var De={init:function(){Math.abs(this.lat1+this.lat2)<f||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=se(this.es),this.e1=ae(this.es),this.e2=ue(this.es),this.e3=he(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=z(this.e,this.sinphi,this.cosphi),this.ml1=oe(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<f?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=z(this.e,this.sinphi,this.cosphi),this.ml2=oe(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=oe(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=oe(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*j(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=j(this.long0+o/this.ns),i=le(this.g-n/this.a),t.x=r,t.y=i,t;var s=this.g-n/this.a;return i=fe(s,this.e0,this.e1,this.e2,this.e3),r=j(this.long0+o/this.ns),t.x=r,t.y=i,t},names:["Equidistant_Conic","eqdc"]};var Fe={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,r=t.y,o=j(i-this.long0);Math.abs(r)<=f&&(e=this.x0+this.R*o,n=this.y0);var s=xe(2*Math.abs(r/Math.PI));(Math.abs(o)<=f||Math.abs(Math.abs(r)-u)<=f)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),h=a*a,c=Math.sin(s),l=Math.cos(s),p=l/(c+l-1),d=p*p,g=p*(2/c-1),y=g*g,m=Math.PI*this.R*(a*(p-y)+Math.sqrt(h*(p-y)*(p-y)-(y+h)*(d-y)))/(y+h);o<0&&(m=-m),e=this.x0+m;var _=h+p;return m=Math.PI*this.R*(g*_-a*Math.sqrt((y+h)*(h+1)-_*_))/(y+h),n=r>=0?this.y0+m:this.y0-m,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,s,a,u,h,c,l,p;return t.x-=this.x0,t.y-=this.y0,l=Math.PI*this.R,o=(i=t.x/l)*i+(r=t.y/l)*r,l=3*(r*r/(u=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+i*i)*a*a/u/u/u-9*s*a/u/u)/27)/(h=(s-a*a/3/u)/u)/(c=2*Math.sqrt(-h/3)),Math.abs(l)>1&&(l=l>=0?1:-1),p=Math.acos(l)/3,n=t.y>=0?(-c*Math.cos(p+Math.PI/3)-a/3/u)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-a/3/u)*Math.PI,e=Math.abs(i)<f?this.long0:j(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Be={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,h,c,l,p,d,g,y,m,_,v,M,b,x,E,I,w=t.x,N=t.y,C=Math.sin(t.y),S=Math.cos(t.y),A=j(w-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=f?(t.x=this.x0+this.a*(u-N)*Math.sin(A),t.y=this.y0-this.a*(u-N)*Math.cos(A),t):Math.abs(this.sin_p12+1)<=f?(t.x=this.x0+this.a*(u+N)*Math.sin(A),t.y=this.y0+this.a*(u+N)*Math.cos(A),t):(M=this.sin_p12*C+this.cos_p12*S*Math.cos(A),v=(_=Math.acos(M))/Math.sin(_),t.x=this.x0+this.a*v*S*Math.sin(A),t.y=this.y0+this.a*v*(this.cos_p12*C-this.sin_p12*S*Math.cos(A)),t):(e=se(this.es),n=ae(this.es),i=ue(this.es),r=he(this.es),Math.abs(this.sin_p12-1)<=f?(o=this.a*oe(e,n,i,r,u),s=this.a*oe(e,n,i,r,N),t.x=this.x0+(o-s)*Math.sin(A),t.y=this.y0-(o-s)*Math.cos(A),t):Math.abs(this.sin_p12+1)<=f?(o=this.a*oe(e,n,i,r,u),s=this.a*oe(e,n,i,r,N),t.x=this.x0+(o+s)*Math.sin(A),t.y=this.y0+(o+s)*Math.cos(A),t):(a=C/S,h=ce(this.a,this.e,this.sin_p12),c=ce(this.a,this.e,C),l=Math.atan((1-this.es)*a+this.es*h*this.sin_p12/(c*S)),b=0===(p=Math.atan2(Math.sin(A),this.cos_p12*Math.tan(l)-this.sin_p12*Math.cos(A)))?Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.abs(Math.abs(p)-Math.PI)<=f?-Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.asin(Math.sin(A)*Math.cos(l)/Math.sin(p)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),_=h*b*(1-(x=b*b)*(m=(g=this.e*this.cos_p12*Math.cos(p)/Math.sqrt(1-this.es))*g)*(1-m)/6+(E=x*b)/8*(y=d*g)*(1-2*m)+(I=E*b)/120*(m*(4-7*m)-3*d*d*(1-7*m))-I*b/48*y),t.x=this.x0+_*Math.sin(p),t.y=this.y0+_*Math.cos(p),t))},inverse:function(t){var e,n,i,r,o,s,a,h,c,l,p,d,g,y,m,_,v,M,b,x,E,I;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*u*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=f?s=this.lat0:(s=xe(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-u,o=Math.abs(a)<=f?this.lat0>=0?j(this.long0+Math.atan2(t.x,-t.y)):j(this.long0-Math.atan2(-t.x,t.y)):j(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=s,t}return h=se(this.es),c=ae(this.es),l=ue(this.es),p=he(this.es),Math.abs(this.sin_p12-1)<=f?(d=this.a*oe(h,c,l,p,u),e=Math.sqrt(t.x*t.x+t.y*t.y),s=fe((d-e)/this.a,h,c,l,p),o=j(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=f?(d=this.a*oe(h,c,l,p,u),e=Math.sqrt(t.x*t.x+t.y*t.y),s=fe((e-d)/this.a,h,c,l,p),o=j(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),g=ce(this.a,this.e,this.sin_p12),_=Math.cos(m),M=-(v=this.e*this.cos_p12*_)*v/(1-this.es),b=3*this.es*(1-M)*this.sin_p12*this.cos_p12*_/(1-this.es),I=1-M*(E=(x=e/g)-M*(1+M)*Math.pow(x,3)/6-b*(1+3*M)*Math.pow(x,4)/24)*E/2-x*E*E*E/6,y=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*_),o=j(this.long0+Math.asin(Math.sin(m)*Math.sin(E)/Math.cos(y))),s=Math.atan((1-this.es*I*this.sin_p12/Math.sin(y))*Math.tan(y)/(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};var Ge={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,u=t.x,h=t.y;return i=j(u-this.long0),e=Math.sin(h),n=Math.cos(h),r=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=f)&&(s=1*this.a*n*Math.sin(i),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=xe(e/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=f?(a=this.lat0,t.x=s,t.y=a,t):(a=xe(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-u,Math.abs(o)<=f?(s=this.lat0>=0?j(this.long0+Math.atan2(t.x,-t.y)):j(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=j(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=s,t.y=a,t))},names:["ortho"]},ke={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},qe={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Ue(t,e,n,i){var r;return t<f?(i.value=qe.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=g?i.value=qe.AREA_0:r>g&&r<=u+g?(i.value=qe.AREA_1,r-=u):r>u+g||r<=-(u+g)?(i.value=qe.AREA_2,r=r>=0?r-m:r+m):(i.value=qe.AREA_3,r+=u)),r}function ze(t,e){var n=t+e;return n<-m?n+=y:n>+m&&(n-=y),n}var Ve={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=u-g/2?this.face=ke.TOP:this.lat0<=-(u-g/2)?this.face=ke.BOTTOM:Math.abs(this.long0)<=g?this.face=ke.FRONT:Math.abs(this.long0)<=u+g?this.face=this.long0>0?ke.RIGHT:ke.LEFT:this.face=ke.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,s,a={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===ke.TOP)r=u-e,n>=g&&n<=u+g?(h.value=qe.AREA_0,i=n-u):n>u+g||n<=-(u+g)?(h.value=qe.AREA_1,i=n>0?n-m:n+m):n>-(u+g)&&n<=-g?(h.value=qe.AREA_2,i=n+u):(h.value=qe.AREA_3,i=n);else if(this.face===ke.BOTTOM)r=u+e,n>=g&&n<=u+g?(h.value=qe.AREA_0,i=-n+u):n<g&&n>=-g?(h.value=qe.AREA_1,i=-n):n<-g&&n>=-(u+g)?(h.value=qe.AREA_2,i=-n-u):(h.value=qe.AREA_3,i=n>0?-n+m:-n-m);else{var c,l,f,p,d,y;this.face===ke.RIGHT?n=ze(n,+u):this.face===ke.BACK?n=ze(n,+m):this.face===ke.LEFT&&(n=ze(n,-u)),p=Math.sin(e),d=Math.cos(e),y=Math.sin(n),c=d*Math.cos(n),l=d*y,f=p,this.face===ke.FRONT?i=Ue(r=Math.acos(c),f,l,h):this.face===ke.RIGHT?i=Ue(r=Math.acos(l),f,-c,h):this.face===ke.BACK?i=Ue(r=Math.acos(-c),f,-l,h):this.face===ke.LEFT?i=Ue(r=Math.acos(-l),f,c,h):(r=i=0,h.value=qe.AREA_0)}return s=Math.atan(12/m*(i+Math.acos(Math.sin(i)*Math.cos(g))-u)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),h.value===qe.AREA_1?s+=u:h.value===qe.AREA_2?s+=m:h.value===qe.AREA_3&&(s+=1.5*m),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,n,i,r,o,s,a,h,c,l,f,p,d={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=qe.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=qe.AREA_1,e-=u):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=qe.AREA_2,e=e<0?e+m:e-m):(g.value=qe.AREA_3,e+=u),c=m/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===ke.TOP)h=Math.acos(a),d.phi=u-h,g.value===qe.AREA_0?d.lam=s+u:g.value===qe.AREA_1?d.lam=s<0?s+m:s-m:g.value===qe.AREA_2?d.lam=s-u:d.lam=s;else if(this.face===ke.BOTTOM)h=Math.acos(a),d.phi=h-u,g.value===qe.AREA_0?d.lam=-s+u:g.value===qe.AREA_1?d.lam=-s:g.value===qe.AREA_2?d.lam=-s-u:d.lam=s<0?-s-m:-s+m;else{var y,_,v;c=(y=a)*y,_=(c+=(v=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*v)>=1?0:Math.sqrt(1-c),g.value===qe.AREA_1?(c=_,_=-v,v=c):g.value===qe.AREA_2?(_=-_,v=-v):g.value===qe.AREA_3&&(c=_,_=v,v=-c),this.face===ke.RIGHT?(c=y,y=-_,_=c):this.face===ke.BACK?(y=-y,_=-_):this.face===ke.LEFT&&(c=y,y=_,_=-c),d.phi=Math.acos(-v)-u,d.lam=Math.atan2(_,y),this.face===ke.RIGHT?d.lam=ze(d.lam,-u):this.face===ke.BACK?d.lam=ze(d.lam,-m):this.face===ke.LEFT&&(d.lam=ze(d.lam,+u))}return 0!==this.es&&(l=d.phi<0?1:0,f=Math.tan(d.phi),p=this.b/Math.sqrt(f*f+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),l&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},je=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ye=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Xe=.8487,He=1.3523,We=d/5,Ke=1/We,Je=18,Qe=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Ze=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};var $e={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=j(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*We);i<0?i=0:i>=Je&&(i=Je-1),n=d*(n-Ke*i);var r={x:Qe(je[i],n)*e,y:Qe(Ye[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*Xe+this.x0,r.y=r.y*this.a*He+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*Xe),y:Math.abs(t.y-this.y0)/(this.a*He)};if(e.y>=1)e.x/=je[Je][0],e.y=t.y<0?-u:u;else{var n=Math.floor(e.y*Je);for(n<0?n=0:n>=Je&&(n=Je-1);;)if(Ye[n][0]>e.y)--n;else{if(!(Ye[n+1][0]<=e.y))break;++n}var i=Ye[n],r=5*(e.y-i[0])/(Ye[n+1][0]-i[0]);r=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}(function(t){return(Qe(i,t)-e.y)/Ze(i,t)},r,f,100),e.x/=Qe(je[n],r),e.y=(5*n+r)*p,t.y<0&&(e.y=-e.y)}return e.x=j(e.x+this.long0),e},names:["Robinson","robin"]};gt.defaultDatum="WGS84",gt.Proj=rt,gt.WGS84=new gt.Proj("WGS84"),gt.Point=Ot,gt.toPoint=ut,gt.defs=B,gt.transform=lt,gt.mgrs=It,gt.version=Dt.a,function(t){t.Proj.projections.add(qt),t.Proj.projections.add(Ht),t.Proj.projections.add(Kt),t.Proj.projections.add($t),t.Proj.projections.add(te),t.Proj.projections.add(ee),t.Proj.projections.add(ne),t.Proj.projections.add(ie),t.Proj.projections.add(re),t.Proj.projections.add(pe),t.Proj.projections.add(be),t.Proj.projections.add(Ee),t.Proj.projections.add(Ie),t.Proj.projections.add(Ne),t.Proj.projections.add(Ce),t.Proj.projections.add(Ae),t.Proj.projections.add(Le),t.Proj.projections.add(Pe),t.Proj.projections.add(Re),t.Proj.projections.add(Oe),t.Proj.projections.add(De),t.Proj.projections.add(Fe),t.Proj.projections.add(Be),t.Proj.projections.add(Ge),t.Proj.projections.add(Ve),t.Proj.projections.add($e)}(gt);var tn=gt;tn.defs("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),tn.defs("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),tn.defs("EPSG:3156","+proj=utm +zone=9 +ellps=GRS80 +units=m +no_defs "),tn.defs("EPSG:3159","+proj=utm +zone=15 +ellps=GRS80 +units=m +no_defs"),tn.defs("EPSG:3857","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs");e.a=tn},function(t,e,n){"use strict";var i=n(6),r=n.n(i),o=n(7);var s=function(){for(var t=new o.GeoJSONReader,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=o.UnionOp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new o.GeoJSONWriter).write(e),properties:arguments[0].properties}};function a(t,e,n){if(!l(n=n||{}))throw new Error("options is invalid");var i=n.bbox,r=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");i&&f(i),r&&p(r);var o={type:"Feature"};return r&&(o.id=r),i&&(o.bbox=i),o.properties=e||{},o.geometry=t,o}function u(t,e,n){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var r=t[i];if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<r[r.length-1].length;o++){if(0===i&&0===o&&!c(r[0][0])||!c(r[0][1]))throw new Error("coordinates must contain numbers");if(r[r.length-1][o]!==r[0][o])throw new Error("First and last Position are not equivalent.")}}return a({type:"Polygon",coordinates:t},e,n)}function h(t,e){if(!l(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&f(n),i&&p(i);var r={type:"FeatureCollection"};return i&&(r.id=i),n&&(r.bbox=n),r.features=t,r}function c(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function l(t){return!!t&&t.constructor===Object}function f(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!c(t))throw new Error("bbox must only contain numbers")})}function p(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function d(t,e,n){if(null!==t)for(var i,r,o,s,a,u,h,c,l=0,f=0,p=t.type,g="FeatureCollection"===p,y="Feature"===p,m=g?t.features.length:1,_=0;_<m;_++){a=(c=!!(h=g?t.features[_].geometry:y?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var v=0;v<a;v++){var M=0,b=0;if(null!==(s=c?h.geometries[v]:h)){u=s.coordinates;var x=s.type;switch(l=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(u,f,_,M,b))return!1;f++,M++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++){if(!1===e(u[i],f,_,M,b))return!1;f++,"MultiPoint"===x&&M++}"LineString"===x&&M++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(r=0;r<u[i].length-l;r++){if(!1===e(u[i][r],f,_,M,b))return!1;f++}"MultiLineString"===x&&M++,"Polygon"===x&&b++}"Polygon"===x&&M++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for("MultiPolygon"===x&&(b=0),r=0;r<u[i].length;r++){for(o=0;o<u[i][r].length-l;o++){if(!1===e(u[i][r][o],f,_,M,b))return!1;f++}b++}M++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===d(s.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}var g=function(t){var e=[1/0,1/0,-1/0,-1/0];return d(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e};function y(t,e){var n,i,r,o,s,a,u,h,c,l,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(a=p?t.features[n].geometry:d?t.geometry:t,h=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,l=p?t.features[n].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=u?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,h,c,l))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===e(o.geometries[i],f,h,c,l))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,h,c,l))return!1;f++}}function m(t,e){y(t,function(t,n,i,r,o){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(a(t,i,{bbox:r,id:o}),n,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var h=0;h<t.coordinates.length;h++){var c=t.coordinates[h];if(!1===e(a({type:s,coordinates:c},i),n,h))return!1}})}function _(t){if(t.features.length<=1)return t;var e=function(t){var e=r()(),n=[];return m(t,function(t,e){var i=g(t);n.push({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],i={};return m(t,function(t,r){if(i[r])return!0;for(e.remove({index:r},v),i[r]=!0;;){var o=g(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var u=a.map(function(t){return i[t.index]=!0,e.remove({index:t.index},v),t.geojson});u.push(t),t=s.apply(this,u)}if(0===a.length)break}n.push(t)}),h(n)}function v(t,e){return t.index===e.index}e.a=function(t,e){var n=function(t){return u(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),i=function(t){var e=[],n=[];return m(t,function(t){var i=t.geometry.coordinates,r=i[0],o=i.slice(1);e.push(u([r])),o.forEach(function(t){n.push(u([t]))})}),[h(e),h(n)]}(t),r=i[0],o=i[1];return function(t,e,n){var i=[];return i.push(t.geometry.coordinates[0]),m(e,function(t){i.push(t.geometry.coordinates[0])}),m(n,function(t){i.push(t.geometry.coordinates[0])}),u(i)}(n,r=_(r),o=_(o))}},function(t,e,n){var i=n(25);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(27)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(26)(!1)).push([t.i,".mapgl {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  user-select: none;\n  pointer-events: none; }\n\n.canvas2d {\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  pointer-events: none;\n  z-index: 1; }\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var i={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),s=null,a=0,u=[],h=n(28);function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(y(r.parts[s],e))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(y(r.parts[s],e));i[r.id]={id:r.id,refs:1,parts:a}}}}function l(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function f(t,e){var n=o(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=o(t.insertAt.before,n);n.insertBefore(e,r)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function d(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return g(e,t.attrs),f(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var u=a++;n=s||(s=d(e)),i=_.bind(null,n,u,!1),r=_.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),f(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=h(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),r=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){p(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=l(t,e);return c(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var s=n[o];(a=i[s.id]).refs--,r.push(a)}t&&c(l(t,e),e);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete i[a.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function _(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=h(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=h(t),i=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,s)),u=0,c=s>0?i-4:i,l=0;l<c;l+=4)e=r[t.charCodeAt(l)]<<18|r[t.charCodeAt(l+1)]<<12|r[t.charCodeAt(l+2)]<<6|r[t.charCodeAt(l+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=r[t.charCodeAt(l)]<<2|r[t.charCodeAt(l+1)]>>4,a[u++]=255&e);1===s&&(e=r[t.charCodeAt(l)]<<10|r[t.charCodeAt(l+1)]<<4|r[t.charCodeAt(l+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function l(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(c(i));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,h=u>>1,c=-7,l=n?r-1:0,f=n?-1:1,p=t[e+l];for(l+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+l],l+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+l],l+=f,c-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=h}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,h=8*o-r-1,c=(1<<h)-1,l=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=c?(a=0,s=c):s+l>=1?(a=(e*u-1)*Math.pow(2,r),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=d,a/=256,r-=8);for(s=s<<r|a,h+=r;h>0;t[n+p]=255&s,p+=d,s/=256,h-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);function r(t,e,n){if(null!==t)for(var i,o,s,a,u,h,c,l,f=0,p=0,d=t.type,g="FeatureCollection"===d,y="Feature"===d,m=g?t.features.length:1,_=0;_<m;_++){u=(l=!!(c=g?t.features[_].geometry:y?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var v=0;v<u;v++){var M=0,b=0;if(null!==(a=l?c.geometries[v]:c)){h=a.coordinates;var x=a.type;switch(f=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(h,p,_,M,b))return!1;p++,M++;break;case"LineString":case"MultiPoint":for(i=0;i<h.length;i++){if(!1===e(h[i],p,_,M,b))return!1;p++,"MultiPoint"===x&&M++}"LineString"===x&&M++;break;case"Polygon":case"MultiLineString":for(i=0;i<h.length;i++){for(o=0;o<h[i].length-f;o++){if(!1===e(h[i][o],p,_,M,b))return!1;p++}"MultiLineString"===x&&M++,"Polygon"===x&&b++}"Polygon"===x&&M++;break;case"MultiPolygon":for(i=0;i<h.length;i++){for(b=0,o=0;o<h[i].length;o++){for(s=0;s<h[i][o].length-f;s++){if(!1===e(h[i][o][s],p,_,M,b))return!1;p++}b++}M++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(!1===r(a.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){var n,i,r,o,s,a,u,h,c,l,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(a=p?t.features[n].geometry:d?t.geometry:t,h=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,l=p?t.features[n].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=u?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,h,c,l))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===e(o.geometries[i],f,h,c,l))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,h,c,l))return!1;f++}}function u(t,e){a(t,function(t,n,r,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(i.feature(t,r,{bbox:o,id:s}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var h=0;h<t.coordinates.length;h++){var c={type:a,coordinates:t.coordinates[h]};if(!1===e(i.feature(c,r),n,h))return!1}})}function h(t,e){u(t,function(t,n,o){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var u,h=0,c=0,l=0;return!1!==r(t,function(r,a,f,p,d){if(void 0===u||n>h||p>c||d>l)return u=r,h=n,c=p,l=d,void(s=0);var g=i.lineString([u,r],t.properties);if(!1===e(g,n,o,d,s))return!1;s++,u=r})&&void 0}}})}function c(t,e){if(!t)throw new Error("geojson is required");u(t,function(t,n,r){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,n,r,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(i.lineString(s[a],t.properties),n,r,a))return!1}}})}e.coordEach=r,e.coordReduce=function(t,e,n,i){var o=n;return r(t,function(t,i,r,s,a){o=0===i&&void 0===n?t:e(o,t,i,r,s,a)},i),o},e.propEach=o,e.propReduce=function(t,e,n){var i=n;return o(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i},e.featureEach=s,e.featureReduce=function(t,e,n){var i=n;return s(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i},e.coordAll=function(t){var e=[];return r(t,function(t){e.push(t)}),e},e.geomEach=a,e.geomReduce=function(t,e,n){var i=n;return a(t,function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),i},e.flattenEach=u,e.flattenReduce=function(t,e,n){var i=n;return u(t,function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)}),i},e.segmentEach=h,e.segmentReduce=function(t,e,n){var i=n,r=!1;return h(t,function(t,o,s,a,u){i=!1===r&&void 0===n?t:e(i,t,o,s,a,u),r=!0}),i},e.lineEach=c,e.lineReduce=function(t,e,n){var i=n;return c(t,function(t,r,o,s){i=0===r&&void 0===n?t:e(i,t,r,o,s)}),i},e.findSegment=function(t,e){if(e=e||{},!i.isObject(e))throw new Error("options is invalid");var n,r=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),u=u||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var h=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=h.length+a-1),i.lineString([h[a],h[a+1]],u,e);case"Polygon":return s<0&&(s=h.length+s),a<0&&(a=h[s].length+a-1),i.lineString([h[s][a],h[s][a+1]],u,e);case"MultiLineString":return o<0&&(o=h.length+o),a<0&&(a=h[o].length+a-1),i.lineString([h[o][a],h[o][a+1]],u,e);case"MultiPolygon":return o<0&&(o=h.length+o),s<0&&(s=h[o].length+s),a<0&&(a=h[o][s].length-a-1),i.lineString([h[o][s][a],h[o][s][a+1]],u,e)}throw new Error("geojson is invalid")},e.findPoint=function(t,e){if(e=e||{},!i.isObject(e))throw new Error("options is invalid");var n,r=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),u=u||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var h=n.coordinates;switch(n.type){case"Point":return i.point(h,u,e);case"MultiPoint":return o<0&&(o=h.length+o),i.point(h[o],u,e);case"LineString":return a<0&&(a=h.length+a),i.point(h[a],u,e);case"Polygon":return s<0&&(s=h.length+s),a<0&&(a=h[s].length+a),i.point(h[s][a],u,e);case"MultiLineString":return o<0&&(o=h.length+o),a<0&&(a=h[o].length+a),i.point(h[o][a],u,e);case"MultiPolygon":return o<0&&(o=h.length+o),s<0&&(s=h[o].length+s),a<0&&(a=h[o][s].length-a),i.point(h[o][s][a],u,e)}throw new Error("geojson is invalid")}},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,u=i-r+1,h=Math.log(a),c=.5*Math.exp(2*h/3),l=.5*Math.sqrt(h*c*(a-c)/a)*(u-a/2<0?-1:1),f=Math.max(r,Math.floor(i-u*c/a+l)),p=Math.min(o,Math.floor(i+(a-u)*c/a+l));e(n,i,f,p,s)}var d=n[i],g=r,y=o;for(t(n,r,i),s(n[o],d)>0&&t(n,r,o);g<y;){for(t(n,g,y),g++,y--;s(n[g],d)<0;)g++;for(;s(n[y],d)>0;)y--}0===s(n[r],d)?t(n,r,y):t(n,++y,o),y<=i&&(r=y+1),i<=y&&(o=y-1)}}(n,i,r||0,o||n.length-1,s||e)}}()},function(t,e,n){"use strict";n.r(e);n(24);var i=n(2);const{extend:r}=n(1);class o{constructor(t){if(!(t=t||{}).gl)throw new Error("Geometry must contain gl");this.gl=t.gl,this.positionNumComponents=t.positionNumComponents||3,this.buffers={},this.dynamicIndices=!0,this.indices={},t.position&&this.setPosition(t.position),t.indices&&this.setIndices("indices",t.indices),t.windices&&this.setIndices("windices",t.windices)}setPosition(t){const{gl:e,positionNumComponents:n}=this;this.position=t;const r=this.npoints=this.position.length/n,o=this.vindices=new Float32Array(r).range();return this.res=Math.ceil(Math.sqrt(r)),this.buffers.position={data:Object(i.createArrayBuffer)(e,t),numComponents:n},this.buffers.vindices={data:Object(i.createArrayBuffer)(e,o),numComponents:1},this}setIndices(t,e){const{gl:n}=this;return this.indices[t]={indices:e,nindices:e.length,nelem:e.length/3,buffer:{data:Object(i.createElementBuffer)(n,e),numComponents:1},indiceType:e instanceof Uint16Array?n.UNSIGNED_SHORT:n.UNSIGNED_INT},this}updateIndices(t,e){const{gl:n}=this;return this.indices[t].nindices=e.length,this.indices[t].nelem=e.length/3,Object(i.updateElementBuffer)(n,this.indices[t].buffer.data,e),this}getIndices(t){return"line"==t?this.indices.windices:this.indices.indices}getBuffers(t){return this.getIndices(t)?r(this.buffers,{indices:this.getIndices(t).buffer}):this.buffers}}var s=n(1);class a{constructor(t){if(!(t=t||{}).gl)throw new Error("GLSurface must contain gl");this.gl=t.gl,this.width=t.width||32,this.height=t.height||32,this.max=t.max||1,this.min=t.min||0,this.glslvarname=t.glslvarname||null,t.rawdata?this.values=this.rawdata2value(t.rawdata):this.values=t.values||new Uint8Array(this.width*this.height*4),this.buffer=Object(i.createTexture)(this.gl,this.gl.LINEAR,this.values,this.width,this.height),this.gradient=null,this.defaultRampColors={0:"#3288bd",.1:"#66c2a5",.2:"#abdda4",.3:"#e6f598",.4:"#fee08b",.5:"#fdae61",.6:"#f46d43",1:"#d53e4f"}}rawdata2value(t){const e=new Uint8Array(this.width*this.height*4);for(let n=0,i=0;n<t.length;n++,i+=4){const r=this.encode(t[n]);e[i]=r[0],e[i+1]=r[1],e[i+2]=0,e[i+3]=255}return e}get values(){return this._values}set values(t){if(t.length!=this.width*this.height*4)throw new Error("Values must match dimension of texture");this._values=t}todefaultcolor(){this.gradient=this.defaultRampColors,this.values=this.getColorRamp(this.defaultRampColors),this.buffer&&this.delete(),this.buffer=Object(i.createTexture)(this.gl,this.gl.LINEAR,this.values,this.width,this.height)}delete(){this.gl.deleteTexture(this.buffer)}updateGradient(t){this.gradient=t,this.values=this.getColorRamp(t),Object(i.updateTexture)(this.gl,this.buffer,this.gl.LINEAR,this.values,this.width,this.height)}getColorRamp(t){const e=document.createElement("canvas"),n=e.getContext("2d");e.width=this.width*this.height,e.height=1;const i=n.createLinearGradient(0,0,this.width*this.height,0);for(const e in t)i.addColorStop(+e,t[e]);return n.fillStyle=i,n.fillRect(0,0,this.width*this.height,1),new Uint8Array(n.getImageData(0,0,this.width*this.height,1).data)}putImageData(t){const e=t.canvas.width/this.width,n=t.canvas.height/this.height;var i=this.values,r=this.height,o=this.width;for(let s=0;s<r;s++)for(let r=0;r<o;r++){let a=s*o+r;t.fillStyle="rgba("+i[4*a+0]+","+i[4*a+1]+","+i[4*a+2]+","+i[4*a+3]/255+")",t.fillRect(r*e,t.canvas.height-(s+1)*n,e,n)}}encode(t){const{max:e,min:n}=this;return t=(t-n)/(e-n)*255*255,[Math.round(t%255),Math.floor(t/255)]}decode(t){const{max:e,min:n}=this;return(t[0]+255*t[1])/255/255*(e-n)+n}decodeImage(){let{values:t,height:e,width:n}=this,i=new Float32Array(this.width*this.height),r=0;for(let o=0;o<e;o++)for(let e=0;e<n;e++){let s=o*n+e;i[r++]=this.decode([t[4*s+0],t[4*s+1]])}return i}}var u=n(10),h=n.n(u),c=n(11),l=n.n(c),f=n(12),p=n.n(f),d=n(13),g=n.n(d),y=n(14),m=n.n(y),_=n(15),v=n.n(_),M=n(16),b=n.n(M),x=n(17),E=n.n(x),I=n(18),w=n.n(I),N={vs:{quad:l.a,canvas:{default:h.a,fquad:p.a},mapbox:{default:g.a,fquad:m.a}},fs:{default:v.a,circle:b.a,quad:E.a,mca:function(t){return w.a.replaceAll("//VARIABLESVAR",t.map(t=>"uniform sampler2D {0};".format(t)).join("\n")).replaceAll("//VARIABLESMINMAX",t.map(t=>"uniform vec2 {0}minmax;".format(t)).join("\n")).replaceAll("//VARIABLESATT",t.map(t=>"uniform vec4 {0}att;".format(t)).join("\n")).replaceAll("//VARIABLESCOMPUTE",t.map(t=>"float _{0} = compute({0},{0}minmax,{0}att);\n  fValue += _{0} * {0}att[3];".format(t)).join("\n")).replaceAll("//VARIABLESCONSTRAIN",t.map(t=>"fConstrain *= sign(_{0});".format(t)).join("\n"))}}};class C{constructor(t){t=t||{},this.id=t.id||"",this.title=t.title||"",this.active=void 0!==t.active&&t.active,this.zorder=t.zorder||0}get obj(){const{id:t,title:e,active:n,zorder:i}=this;return{id:t,title:e,active:n,zorder:i}}toJSON(){return JSON.stringify(this.obj)}toggle(){this.active=!this.active}show(){this.active=!0}hide(){this.active=!1}}class S{constructor(t){t=t||{},this.program=t.program,this.color=t.color||s.Color.parseString("white").rgba2str(),this.minmax=t.minmax||[0,1],this.exponent=t.exponent||1,this.gradient=s.Gradient.parse(t.gradient||"Skyline"),this.colorbyatt=void 0!==t.colorbyatt&&t.colorbyatt,this.opacity=void 0===t.opacity?1:t.opacity,this.outlinecolor=t.outlinecolor||s.Color.parseString("white").rgba2str(),this.cap=t.cap||"butt",this.join=t.join||"miter",this.width=void 0===t.width?5:t.width,this.radius=void 0===t.radius?5:t.radius,this.radiusbyatt=void 0!==t.radiusbyatt&&t.radiusbyatt,this.radiusatt=t.radiusatt||this.radius,this.blur=void 0===t.blur?0:t.blur,this.dasharray=t.dasharray||null}get layer(){return this.attribute.layer}get attribute(){return this.program.attribute}get type(){return this.program.type}get activeatt(){return this.layer.activeatt}get obj(){const{color:t,minmax:e,exponent:n,gradient:i,colorbyatt:r,opacity:o,outlinecolor:s,cap:a,join:u,width:h,radius:c,blur:l}=this;return{color:t,minmax:e,exponent:n,gradient:i.obj,colorbyatt:r,opacity:o,outlinecolor:s,cap:a,join:u,width:h,radius:c,blur:l}}toJSON(){return JSON.stringify(this.obj)}get mapboxobj(){return this[this.type]}get colorType(){return"string"==typeof this.color?"color":"stops"}get mapboxcolor(){if(!this.colorbyatt)return this.color;const t=this.minmax[0],e=this.minmax[1];return{property:this.activeatt,type:"exponential",base:this.exponent,stops:[[t,this.gradient.interpolate(0)],[e,this.gradient.interpolate(1)]]}}get mapglcolor(){return this.colorbyatt?this.gradient.obj:{0:this.color,1:this.color}}get mapboxradius(){if(!this.radiusbyatt)return this.radius;return{property:this.activeatt,type:"exponential",base:this.exponent,stops:this.radiusatt}}static parseColor(t,e){if(!t)return s.Color.parseString("#000000").rgba2str();if((e=e||{}).gradient||(e.gradient=s.Gradient.parseName("Skyline")),!e.attributename)throw new Error("requires attributename");if(e.base||(e.base=1),Array.isArray(t)||void 0!==t.byteLength){if("string"==typeof t[0])return this.parseCategoricalColor(t,e);if("number"==typeof t[0])return this.parseLinearColor(t,e);if(Array.isArray(t[0]))return this.parseStopsColor(t,e)}return"object"==typeof t?this.parseObjectColor(t,e):null}static parseCategoricalColor(t,e){let{gradient:n,attributename:i}=e;return{property:i,type:"categorical",stops:t.map((t,e,i)=>[t,n.interpolate(parseFloat(e)/i.length)])}}static parseLinearColor(t,e){let{base:n,gradient:i,attributename:r}=e;const o=t.min(),s=t.max();return{property:r,type:"exponential",base:n,stops:[[o,i.interpolate(0)],[s,i.interpolate(1)]]}}static color2Texture(t){if("string"==typeof t)return{base:1,gradient:{0:t,1:t}};const e={};return t.stops.forEach(t=>e[t[0]]=t[1]),{base:t.base,gradient:e}}static parseStopsColor(t,e){let{base:n,gradient:i,attributename:r}=e;return{property:r,type:"exponential",base:n,stops:t.map(t=>[t[1],i.interpolate(t[0])])}}static parseObjectColor(t,e){let{base:n,gradient:i,attributename:r}=e;const o=t.min||0,s=t.max||1;return{property:r,type:"exponential",base:n,stops:[[o,i.interpolate(0)],[s,i.interpolate(1)]]}}get circle(){const t={};return t["circle-color"]=this.mapboxcolor,t["circle-opacity"]=this.opacity,t["circle-radius"]=this.mapboxradius,t["circle-blur"]=this.blur,t}get fill(){const t={};return t["fill-color"]=this.mapboxcolor,t["fill-opacity"]=this.opacity,t["fill-outline-color"]=this.outlinecolor,t}get line(){const t={};return t["line-color"]=this.mapboxcolor,t["line-opacity"]=this.opacity,t["line-width"]=this.width,this.dasharray&&(t["line-dasharray"]=this.dasharray),t}get symbol(){const t={};return t["icon-color"]=this.mapboxcolor,t}setProperty(t,e){if(void 0===this[t])throw new Error("Prop does not exist");this[t]=e}}class A{constructor(t){if(!(t=t||{}).program)throw new Error("Layout needs style pointer");this.program=t.program,this.image=t.image||null,this.size=t.size||null,this.url=t.url||null}get type(){return this.style.type}get obj(){const{image:t,size:e,url:n}=this;return{image:t,size:e,url:n}}toJSON(){return JSON.stringify(this.obj)}get mapboxobj(){let t={};return t=this.program.layer.active?Object(s.extend)(t,{visibility:this.program.active?"visible":"none"}):Object(s.extend)(t,{visibility:"none"}),t=Object(s.extend)(t,"symbol"==this.type?this.symbol:{})}get symbol(){let t={"icon-allow-overlap":!0};return this.image&&(t["icon-image"]=this.image),this.size&&(t["icon-size"]=this.size),t}setProperty(t,e){let n=t.split("-");if(void 0===this[n=1==n.length?t:n[1]])throw new Error("Prop does not exist");this[n]=e}}class L extends C{constructor(t){super(t),t=t||{},this.attribute=t.attribute,this.type=t.type||"circle",this.paint=new S(Object(s.extend)({program:this},t.paint)),this.layout=new A(Object(s.extend)({program:this},t.layout)),this.filter=t.filter||null,this.legendactive=void 0!==t.legendactive&&t.legendactive}get obj(){const{type:t,paint:e,layout:n,filter:i}=this;return Object(s.extend)(super.obj,{type:t,paint:e.obj,layout:n.obj,filter:i})}toJSON(){return JSON.stringify(this.obj)}setPaint(t){this.paint=new S(Object(s.extend)({program:this},t))}setLayout(t){this.layout=new A(Object(s.extend)({program:this},t))}setFilter(t){this.filter=t}}const{extend:P}=n(1);class T extends L{constructor(t){if(super(t),!t.attribute)throw new Error("Attribute must be defined");this.id=t.id,this.attribute=t.attribute,this.vs=t.vs||N.vs[this.app.framework].default,this.fs=t.fs||N.fs.default,this._textures={t_color:new a({gl:this.gl,glslvarname:"dtexture"})},this.mode=this.getMode(this.id),this.program=Object(i.createProgram)(this.gl,this.vs,this.fs),this.program.mode=this.mode}get app(){return this.layer.app}get layer(){return this.attribute.layer}get geometry(){return this.layer.geometry}get gl(){return this.attribute.gl}get framework(){return this.layer.framework}get uniforms(){return P(this.attribute.uniforms,{base:{data:[this.paint.exponent],type:"float"}})}get buffers(){return P(this.attribute.buffers,this.geometry.getBuffers(this.id))}get textures(){return P(this._textures,{fbtexture:this.attribute.fbtexture})}get indices(){return this.geometry.getIndices(this.id)}get npoints(){return this.geometry.npoints}setSource(t,e){this.vs=t,this.fs=e,this.program=Object(i.createProgram)(this.gl,this.vs,this.fs)}drawScene(){this.active&&(this.checkGradient(),Object(i.draw)(this))}checkGradient(){!this.textures.t_color.gradient!=this.paint.mapglcolor&&this.setGradient(this.paint.mapglcolor)}setGradient(t){this.textures.t_color.updateGradient(t)}getMode(t){const e={circle:"POINTS",line:"LINES",fill:"TRIANGLES",quad:"TRIANGLES"};if(!e[t])throw new Error("Mode does not exist");return e[t]}}const{extend:R}=n(1);class O extends T{constructor(t){super(t),this.fb=Object(i.createFrameBuffer)(this.gl),this.fbtexture=new a({gl:this.gl,width:this.layer.geometry.res,height:this.layer.geometry.res}),this.quad=new o({gl:this.gl,position:new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),positionNumComponents:2})}get attributes(){return this.layer.attributes}get geometry(){return this.quad}get ctx(){return this.app.ctx}get uniforms(){let t=this.attribute.uniforms;for(let e in this.attributes)"quad"!=this.attributes[e].type&&(t=R(t,this.attributes[e].quaduniforms));return t}get textures(){const t={};for(let e in this.attributes)"quad"!=this.attributes[e].type&&(t[e]=this.attributes[e].texture);return t}drawScene(){this.active&&(console.log("drawQuad"),Object(i.drawQuad)(this),this.ctx&&this.fbtexture.putImageData(this.ctx),this.hide())}}class D extends C{constructor(t){super(t),t=t||{},this.type=t.type||"point",this.category=t.category||"general",this.activeatt=t.activeatt||null,this.refsource=t.refsource||"unknown",this.htmltext=t.htmltext||"Sample Here",this.description=t.description||"description",this.source=t.source||{type:"geojson",data:"unknown"},this.astyles=t.astyles||[]}get obj(){const{type:t,category:e,activeatt:n,refsource:i,htmltext:r,description:o,source:a,astyles:u}=this,h={};for(const t in u)h[t]=u[t].obj;return Object(s.extend)(super.obj,{type:t,category:e,refsource:i,htmltext:r,description:o,activeatt:n,source:a,attributes:h})}toJSON(){return JSON.stringify(this.obj)}}class F extends C{constructor(t){super(t),t=t||{},this.attactive=void 0!==t.attactive&&t.attactive,this.att=t.att||[0,1,1,1],this.w=t.w||0,this.range=t.range||[0,100],this.units=t.units||"Unknown",this.xlabel=t.xlabel||"Unknown",this.pstyles=t.pstyles||[]}get weight(){return 100*this.att[3]}set weight(t){this.att[3]=.01*t}get obj(){const{attactive:t,att:e,w:n,range:i,units:r,xlabel:o,pstyles:a}=this,u={};for(const t in a)u[t]=a[t].obj;return Object(s.extend)(super.obj,{attactive:t,att:e,w:n,range:i,units:r,xlabel:o,pstyles:a})}toJSON(){return JSON.stringify(this.obj)}}class B extends F{constructor(t){if(super(t),!(t=t||{}).layer)throw new Error("Attribute must contain layer");this.id=t.id,this.layer=t.layer,this.type="attribute",this.programs={},this.minmax=[0,1]}get gl(){return this.layer.gl}get app(){return this.layer.app}get geometry(){return this.layer.geometry}get quaduniforms(){const t={};return t[this.id+"minmax"]={data:this.minmax,type:"float"},t[this.id+"att"]={data:this.att,type:"float"},t}get buffers(){return{values:this.buffer}}get uniforms(){return Object(s.extend)(this.layer.uniforms,{minmax:{data:this.minmax,type:"float"},u_res:{data:[this.geometry.res],type:"float"}})}addPrograms(){return this.addProgram("fill","program",{vs:N.vs[this.app.framework].default,fs:N.fs.default}),this.addProgram("line","program",{vs:N.vs[this.app.framework].default,fs:N.fs.default}),this.addProgram("circle","program",{vs:N.vs[this.app.framework].default,fs:N.fs.circle}),this}addProgram(t,e,n){if(t in this.programs)throw new Error("Id already exist");const i={quad:O,program:T};return this.programs[t]=new i[e](Object(s.extend)({id:t,attribute:this},Object(s.extend)(n,this.pstyles[t]))),this.programs[t]}getProgram(t){if(!this.programs[t])throw new Error("Program does not exist");return this.programs[t]}async getData(){if(!this.value){const t=new Float32Array(this.geometry.npoints);for(let e=0;e<this.geometry.npoints;e++)t[e]=e/this.geometry.npoints;this.setValue(t)}}setValue(t){if(this.geometry.npoints!=t.length)return null;const{gl:e}=this,n=this.geometry.res;this.value=t,this.buffer={data:Object(i.createArrayBuffer)(e,t),numComponents:1},this.minmax=[t.min(),t.max()],this.texture=new a({gl:e,width:n,height:n,min:this.minmax[0],max:this.minmax[1],rawdata:t})}drawScene(){if(!this.active)return;const t=this.programs,e=Object.keys(t).sort((e,n)=>t[e].zorder-t[n].zorder);for(let n=0;n<e.length;n++)t[e[n]].drawScene()}}class G extends B{constructor(t){super(t),this.type="quad"}addPrograms(){const t=this.addProgram("quad","quad",{vs:N.vs.quad,fs:N.fs.quad});return this.fbtexture=t.fbtexture,this.addProgram("fill","program",{vs:N.vs[this.app.framework].fquad,fs:N.fs.default}),this.addProgram("line","program",{vs:N.vs[this.app.framework].fquad,fs:N.fs.default}),this.addProgram("circle","program",{vs:N.vs[this.app.framework].fquad,fs:N.fs.circle}),this}async getData(){}}class k extends B{constructor(t){super(t)}get slf(){return this.layer.slf}async getData(){if(!this.value){const{slf:t}=this,e=t.getVarIndex(this.id),n=await t.getFrame(0,e);this.setValue(n)}}}var q={points:function(t){return t=t||{},console.log(t),"uniform"==(t.type||"uniform")?function(t){const e=void 0===(t=t||{}).xmin?-1:t.xmin,n=void 0===t.xmax?1:t.xmax,i=void 0===t.ymin?-1:t.ymin,r=void 0===t.ymax?1:t.ymax,o=t.xstep||.1,s=t.ystep||.1,a=Math.ceil((n-e)/parseFloat(o)+1),u=Math.ceil((r-i)/parseFloat(s)+1),h=new Float32Array(a*u*2);let c=0;for(let t=0;t<u;t++)for(let n=0;n<a;n++)h[2*c+0]=n*parseFloat(o)+e,h[2*c+1]=t*parseFloat(s)+i,c+=1;return{positionNumComponents:2,position:h}}(t.data):function(t){const e=void 0===(t=t||{}).xmin?-1:t.xmin,n=void 0===t.xmax?1:t.xmax,i=void 0===t.ymin?-1:t.ymin,r=void 0===t.ymax?1:t.ymax,o=n-e,s=r-i,a=t.npoints||100,u=new Float32Array(2*a);for(let t=0;t<a;t++)u[2*t+0]=Math.random()*o+e,u[2*t+1]=Math.random()*s+i;return{positionNumComponents:2,position:u}}(t.data)},grid:function(t){const e=void 0===(t=(t=t||{}).data||t).xmin?-1:t.xmin,n=void 0===t.xmax?1:t.xmax,i=void 0===t.ymin?-1:t.ymin,r=void 0===t.ymax?1:t.ymax,o=t.xstep||1,s=t.ystep||1,a=Math.ceil((n-e)/parseFloat(o)+1),u=Math.ceil((r-i)/parseFloat(s)+1),h=a*u,c=new Float32Array(h),l=new Float32Array(h),f=new Float32Array(2*h);let p=0;for(let t=0;t<u;t++)for(let n=0;n<a;n++)f[2*p+0]=c[p]=n*parseFloat(o)+e,f[2*p+1]=l[p]=t*parseFloat(s)+i,p+=1;let d,g,y,m,_=0,v=new Uint32Array((u-1)*(a-1)*2*3);for(let t=0;t<u-1;t++)for(let e=0;e<a-1;e++)d=e+t*u,g=e+1+t*u,y=e+(t+1)*u,m=e+1+(t+1)*u,v[_+0]=d,v[_+1]=y,v[_+2]=g,v[_+3]=g,v[_+4]=y,v[_+5]=m,_+=6;let M=new Uint32Array(2*v.length);for(let t=0,e=0,n=0;t<v.length/3;t++,e+=6,n+=3)M[e]=v[n],M[e+1]=v[n+1],M[e+2]=v[n+1],M[e+3]=v[n+2],M[e+4]=v[n+2],M[e+5]=v[n];return{positionNumComponents:2,position:f,indices:v,windices:M,x:c,y:l}}};class U extends D{constructor(t){if(super(t),!t.app)throw new Error("Layer must contain app");this.id=t.id,this.app=t.app,this.geometry=null,this.attributes={}}get gl(){return this.app.gl}get uniforms(){return Object(s.extend)(this.app.uniforms,{})}addAttribute(t,e){if(this.attributes[t])throw new Error("id already exist");const n={attribute:B,quad:G,slf:k},i=n[e]||n.attribute;return this.attributes[t]=new i(Object(s.extend)({id:t,layer:this},this.astyles[t])).addPrograms(),this.attributes[t]}getAttribute(t){return this.attributes[t]?this.attributes[t]:console.warn("Attribute does not exist")}async getGeometry(){if(!this.geometry){const t=q[this.type]||q.points;this.geometry=new o(Object(s.extend)({gl:this.gl},t(this.source))),this.addAttribute("value","attribute"),this.source.type&&"quad"==this.source.type&&this.addAttribute("myquad","quad")}}async getData(){if(this.active){await this.getGeometry();for(const t in this.attributes)(this.attributes[t].active||this.attributes[t].attactive)&&await this.attributes[t].getData()}}drawScene(){if(!this.active)return;const t=this.attributes,e=Object.keys(t).map(e=>t[e]).filter(t=>t.active);if(0==e.length)return;const n=e.reduce((t,e)=>t.zorder>e.zorder?t:e).zorder,i=e.filter(t=>t.zorder>=n);i.sort((t,e)=>e.zorder-t.zorder),i[i.length-1].drawScene()}}var z=n(3);n(6),n(20),n(5),n(21);var V={primitive:U,slf:class extends U{constructor(t){super(t)}async getGeometry(){if(!this.geometry){const t=this.slf=await this.getSLF(this.source),e=t.XY,n=t.IKLE3F,i=t.IKLEW;if(this.geometry=new o(Object(s.extend)({gl:this.gl},{position:e,indices:n,windices:i})),t.varnames.forEach(t=>this.addAttribute(t,"slf")),this.source.binaries)for(let t in this.source.binaries)this.addAttribute(t,"slf")}}async getSLF(t){const{type:e,data:n}=t;if("grid"==e)return this.testSLF(n);throw new Error("TODO")}testSLF(t){const e=new z.a(null,{keepframes:!0,debug:0}),n=q.grid(t);e.addTITLE("Grid - Test2"),e.addVAR({name:"BOTTOM",unit:"m"}),e.addPOINTS(n.x,n.y),e.addIKLE(n.indices);const i=new Float32Array(e.NVAR*e.NPOIN3);for(let t=0;t<i.length;t++)i[t]=parseFloat(t)/i.length;return e.addFrame(i),e}}};class j{constructor(t){if(!t||!t.callback)throw new Error("Must contain callback function");this.callback=t.callback,this.debug=t.debug||!1,this.xfactor=t.xfactor||1,this.xshiftfactor=t.xshiftfactor||10,this.yfactor=t.yfactor||1,this.yshiftfactor=t.yshiftfactor||10,this.zoomfactor=t.zoomfactor||1,this.zoomshiftfactor=t.zoomshiftfactor||10,this.initialize()}initialize(){const t=this;document.onmousedown=function(e){return t.onmousedown(e)},document.addEventListener("mousemove",function(e){return t.onmousemove(e)},!1),document.onmouseup=function(e){return t.onmouseup(e)},document.touchstart=function(e){return t.onmousedown(e)},document.touchend=function(e){return t.onmouseup(e)},document.touchcancel=function(e){return t.onmouseup(e)},document.touchmove=function(e){return t.onmousemove(e)},document.mousewheel=function(e){return t.onwheelmove(e)},document.onwheel=function(e){return t.onwheelmove(e)},document.onkeydown=function(e){return t.onkeydown(e)}}get position(){return{xy:{x:this.lastMouseX,y:this.lastMouseY},delta:{x:this.deltaX,y:this.deltaY,z:this.deltaZ,zoom:this.deltaZoom}}}onkeydown(t){const e=!!(t=t||window.event).shiftKey;switch(t.keyCode){case 38:this.resetDelta(),this.deltaY=e?this.yshiftfactor:this.yfactor,this.callback(this.position);break;case 40:this.resetDelta(),this.deltaY=e?-this.yshiftfactor:-this.yfactor,this.callback(this.position);break;case 37:this.resetDelta(),this.deltaX=e?-this.xshiftfactor:-this.xfactor,this.callback(this.position);break;case 39:this.resetDelta(),this.deltaX=e?this.xshiftfactor:this.xfactor,this.callback(this.position)}}onmousedown(t){this.debug&&console.log(t),this.mouseDown=!0,this.lastMouseX=t.clientX,this.lastMouseY=t.clientY}onmouseup(t){this.debug&&console.log(t),this.mouseDown=!1,this.getNewPosition(t.clientX,t.clientY)}onmousemove(t){this.mouseDown&&this.getNewPosition(t.clientX,t.clientY)}onwheelmove(t){this.debug&&console.log(t),this.resetDelta();const e=!!t.shiftKey;this.deltaZ=e?-t.deltaY*this.zoomshiftfactor:-t.deltaY*this.zoomfactor,this.callback(this.position)}resetDelta(){this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.deltaZoom=0}getNewPosition(t,e){this.resetDelta(),this.deltaX=t-this.lastMouseX,this.deltaY=e-this.lastMouseY,this.lastMouseX=t,this.lastMouseY=e,this.callback(this.position)}}const{extend:Y}=n(1);class X{constructor(t){if(!(t=t||{}).app)throw new Error("Must contain _app");this.app=t.app,this.modelview=t.modelview||{x:0,y:0,z:-10},this.perspectiveview=t.perspectiveview||{fieldOfView:45*Math.PI/180,aspect:this.gl.canvas.clientWidth/this.gl.canvas.clientHeight,zNear:.01,zFar:1e3},[this.u_matrix,this.v_matrix]=Object(i.initialisedView)(this.gl,this.modelview,this.perspectiveview),this.handlers=new j({element:this.app.canvasgl,debug:!1,callback:t=>this.changeView(t)}),window.onresize=(t=>this.onresize(t)),this.changePView(),this.changeMView()}get gl(){return this.app.gl}onresize(){const{height:t,width:e}=this.app.canvasglparent.node().getBoundingClientRect();this.app.canvasgl.attr("width",e),this.app.canvasgl.attr("height",t),this.changePView(),this.app.drawSceneAsync()}changeView(t){this.changeMView(t.delta),this.app.drawSceneAsync()}changePView(t){const e=this.perspectiveview=Y(this.perspectiveview,t);Object(i.changePView)(this.gl,this.u_matrix,e)}changeMView(t){const e=this.modelview=Y(this.modelview,t);Object(i.changeMView)(this.gl,this.u_matrix,this.v_matrix,e)}}n.d(e,"default",function(){return H});class H{constructor(t){t=t||{},this.framework=t.framework||"canvas",this.layers={}}addLayers(t){for(let e in t)this.addLayer(e,t[e]);return this}addLayer(t,e){if(this.layers[t])throw new Error("id already exist");const n=V[e.type]||V.primitive;return this.layers[t]=new n(Object(s.extend)({id:t,app:this},e||{}))}getLayer(t){if(!this.layers[t])throw new Error("id does not exist");return this.layers[t]}get u_matrix(){return this.camera.u_matrix}get v_matrix(){return this.camera.v_matrix}get uniforms(){return{u_matrix:{data:this.u_matrix,type:"matrix"},v_matrix:{data:this.v_matrix,type:"matrix"}}}setGL(t){this.gl=t}render(t){return this.rendergl(t)}rendergl(t){const e=this.canvasglparent=t.append("div").attr("class","mapgl"),n=e.node().getBoundingClientRect().width,i=e.node().getBoundingClientRect().height,r=this.canvasgl=e.append("canvas").attr("width",n).attr("height",i);return this.gl=r.node().getContext("webgl"),this.setExtension(),this.setCamera(),this}setCamera(){this.camera=new X({app:this})}render2d(t){const e=this.canvas2dp=t.append("div").attr("class","canvas2d"),n=e.node().getBoundingClientRect().width,i=e.node().getBoundingClientRect().height,r=this.canvas2d=e.append("canvas").attr("width",n).attr("height",i);return this.ctx=r.node().getContext("2d"),this}remove(){this.canvasglparent&&this.canvasglparent.remove(),this.canvas2dp&&this.canvas2dp.remove()}setExtension(){this.gl.getExtension("OES_element_index_uint"),this.gl.getExtension("OES_standard_derivatives"),this.gl.getExtension("EXT_shader_texture_lod"),this.gl||alert("Unable to initialize WebGL. Your browser or machine may not support it.")}clear(){this.gl&&Object(i.clearScene)(this.gl)}async getData(){for(const t in this.layers)await this.layers[t].getData();return this}drawScene(){for(const t in this.layers)this.layers[t].drawScene()}async drawSceneAsync(){return await this.getData(),this.clear(),this.drawScene(),this}}},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"EPSILON",function(){return p}),n.d(i,"ARRAY_TYPE",function(){return d}),n.d(i,"RANDOM",function(){return g}),n.d(i,"setMatrixArrayType",function(){return y}),n.d(i,"toRadian",function(){return _}),n.d(i,"equals",function(){return v});var r={};n.r(r),n.d(r,"create",function(){return M}),n.d(r,"clone",function(){return b}),n.d(r,"copy",function(){return x}),n.d(r,"identity",function(){return E}),n.d(r,"fromValues",function(){return I}),n.d(r,"set",function(){return w}),n.d(r,"transpose",function(){return N}),n.d(r,"invert",function(){return C}),n.d(r,"adjoint",function(){return S}),n.d(r,"determinant",function(){return A}),n.d(r,"multiply",function(){return L}),n.d(r,"rotate",function(){return P}),n.d(r,"scale",function(){return T}),n.d(r,"fromRotation",function(){return R}),n.d(r,"fromScaling",function(){return O}),n.d(r,"str",function(){return D}),n.d(r,"frob",function(){return F}),n.d(r,"LDU",function(){return B}),n.d(r,"add",function(){return G}),n.d(r,"subtract",function(){return k}),n.d(r,"exactEquals",function(){return q}),n.d(r,"equals",function(){return U}),n.d(r,"multiplyScalar",function(){return z}),n.d(r,"multiplyScalarAndAdd",function(){return V}),n.d(r,"mul",function(){return j}),n.d(r,"sub",function(){return Y});var o={};n.r(o),n.d(o,"create",function(){return X}),n.d(o,"clone",function(){return H}),n.d(o,"copy",function(){return W}),n.d(o,"identity",function(){return K}),n.d(o,"fromValues",function(){return J}),n.d(o,"set",function(){return Q}),n.d(o,"invert",function(){return Z}),n.d(o,"determinant",function(){return $}),n.d(o,"multiply",function(){return tt}),n.d(o,"rotate",function(){return et}),n.d(o,"scale",function(){return nt}),n.d(o,"translate",function(){return it}),n.d(o,"fromRotation",function(){return rt}),n.d(o,"fromScaling",function(){return ot}),n.d(o,"fromTranslation",function(){return st}),n.d(o,"str",function(){return at}),n.d(o,"frob",function(){return ut}),n.d(o,"add",function(){return ht}),n.d(o,"subtract",function(){return ct}),n.d(o,"multiplyScalar",function(){return lt}),n.d(o,"multiplyScalarAndAdd",function(){return ft}),n.d(o,"exactEquals",function(){return pt}),n.d(o,"equals",function(){return dt}),n.d(o,"mul",function(){return gt}),n.d(o,"sub",function(){return yt});var s={};n.r(s),n.d(s,"create",function(){return mt}),n.d(s,"fromMat4",function(){return _t}),n.d(s,"clone",function(){return vt}),n.d(s,"copy",function(){return Mt}),n.d(s,"fromValues",function(){return bt}),n.d(s,"set",function(){return xt}),n.d(s,"identity",function(){return Et}),n.d(s,"transpose",function(){return It}),n.d(s,"invert",function(){return wt}),n.d(s,"adjoint",function(){return Nt}),n.d(s,"determinant",function(){return Ct}),n.d(s,"multiply",function(){return St}),n.d(s,"translate",function(){return At}),n.d(s,"rotate",function(){return Lt}),n.d(s,"scale",function(){return Pt}),n.d(s,"fromTranslation",function(){return Tt}),n.d(s,"fromRotation",function(){return Rt}),n.d(s,"fromScaling",function(){return Ot}),n.d(s,"fromMat2d",function(){return Dt}),n.d(s,"fromQuat",function(){return Ft}),n.d(s,"normalFromMat4",function(){return Bt}),n.d(s,"projection",function(){return Gt}),n.d(s,"str",function(){return kt}),n.d(s,"frob",function(){return qt}),n.d(s,"add",function(){return Ut}),n.d(s,"subtract",function(){return zt}),n.d(s,"multiplyScalar",function(){return Vt}),n.d(s,"multiplyScalarAndAdd",function(){return jt}),n.d(s,"exactEquals",function(){return Yt}),n.d(s,"equals",function(){return Xt}),n.d(s,"mul",function(){return Ht}),n.d(s,"sub",function(){return Wt});var a={};n.r(a),n.d(a,"create",function(){return Kt}),n.d(a,"clone",function(){return Jt}),n.d(a,"copy",function(){return Qt}),n.d(a,"fromValues",function(){return Zt}),n.d(a,"set",function(){return $t}),n.d(a,"identity",function(){return te}),n.d(a,"transpose",function(){return ee}),n.d(a,"invert",function(){return ne}),n.d(a,"adjoint",function(){return ie}),n.d(a,"determinant",function(){return re}),n.d(a,"multiply",function(){return oe}),n.d(a,"translate",function(){return se}),n.d(a,"scale",function(){return ae}),n.d(a,"rotate",function(){return ue}),n.d(a,"rotateX",function(){return he}),n.d(a,"rotateY",function(){return ce}),n.d(a,"rotateZ",function(){return le}),n.d(a,"fromTranslation",function(){return fe}),n.d(a,"fromScaling",function(){return pe}),n.d(a,"fromRotation",function(){return de}),n.d(a,"fromXRotation",function(){return ge}),n.d(a,"fromYRotation",function(){return ye}),n.d(a,"fromZRotation",function(){return me}),n.d(a,"fromRotationTranslation",function(){return _e}),n.d(a,"fromQuat2",function(){return ve}),n.d(a,"getTranslation",function(){return Me}),n.d(a,"getScaling",function(){return be}),n.d(a,"getRotation",function(){return xe}),n.d(a,"fromRotationTranslationScale",function(){return Ee}),n.d(a,"fromRotationTranslationScaleOrigin",function(){return Ie}),n.d(a,"fromQuat",function(){return we}),n.d(a,"frustum",function(){return Ne}),n.d(a,"perspective",function(){return Ce}),n.d(a,"perspectiveFromFieldOfView",function(){return Se}),n.d(a,"ortho",function(){return Ae}),n.d(a,"lookAt",function(){return Le}),n.d(a,"targetTo",function(){return Pe}),n.d(a,"str",function(){return Te}),n.d(a,"frob",function(){return Re}),n.d(a,"add",function(){return Oe}),n.d(a,"subtract",function(){return De}),n.d(a,"multiplyScalar",function(){return Fe}),n.d(a,"multiplyScalarAndAdd",function(){return Be}),n.d(a,"exactEquals",function(){return Ge}),n.d(a,"equals",function(){return ke}),n.d(a,"mul",function(){return qe}),n.d(a,"sub",function(){return Ue});var u={};n.r(u),n.d(u,"create",function(){return ze}),n.d(u,"clone",function(){return Ve}),n.d(u,"length",function(){return je}),n.d(u,"fromValues",function(){return Ye}),n.d(u,"copy",function(){return Xe}),n.d(u,"set",function(){return He}),n.d(u,"add",function(){return We}),n.d(u,"subtract",function(){return Ke}),n.d(u,"multiply",function(){return Je}),n.d(u,"divide",function(){return Qe}),n.d(u,"ceil",function(){return Ze}),n.d(u,"floor",function(){return $e}),n.d(u,"min",function(){return tn}),n.d(u,"max",function(){return en}),n.d(u,"round",function(){return nn}),n.d(u,"scale",function(){return rn}),n.d(u,"scaleAndAdd",function(){return on}),n.d(u,"distance",function(){return sn}),n.d(u,"squaredDistance",function(){return an}),n.d(u,"squaredLength",function(){return un}),n.d(u,"negate",function(){return hn}),n.d(u,"inverse",function(){return cn}),n.d(u,"normalize",function(){return ln}),n.d(u,"dot",function(){return fn}),n.d(u,"cross",function(){return pn}),n.d(u,"lerp",function(){return dn}),n.d(u,"hermite",function(){return gn}),n.d(u,"bezier",function(){return yn}),n.d(u,"random",function(){return mn}),n.d(u,"transformMat4",function(){return _n}),n.d(u,"transformMat3",function(){return vn}),n.d(u,"transformQuat",function(){return Mn}),n.d(u,"rotateX",function(){return bn}),n.d(u,"rotateY",function(){return xn}),n.d(u,"rotateZ",function(){return En}),n.d(u,"angle",function(){return In}),n.d(u,"str",function(){return wn}),n.d(u,"exactEquals",function(){return Nn}),n.d(u,"equals",function(){return Cn}),n.d(u,"sub",function(){return Sn}),n.d(u,"mul",function(){return An}),n.d(u,"div",function(){return Ln}),n.d(u,"dist",function(){return Pn}),n.d(u,"sqrDist",function(){return Tn}),n.d(u,"len",function(){return Rn}),n.d(u,"sqrLen",function(){return On}),n.d(u,"forEach",function(){return Dn});var h={};n.r(h),n.d(h,"create",function(){return Fn}),n.d(h,"clone",function(){return Bn}),n.d(h,"fromValues",function(){return Gn}),n.d(h,"copy",function(){return kn}),n.d(h,"set",function(){return qn}),n.d(h,"add",function(){return Un}),n.d(h,"subtract",function(){return zn}),n.d(h,"multiply",function(){return Vn}),n.d(h,"divide",function(){return jn}),n.d(h,"ceil",function(){return Yn}),n.d(h,"floor",function(){return Xn}),n.d(h,"min",function(){return Hn}),n.d(h,"max",function(){return Wn}),n.d(h,"round",function(){return Kn}),n.d(h,"scale",function(){return Jn}),n.d(h,"scaleAndAdd",function(){return Qn}),n.d(h,"distance",function(){return Zn}),n.d(h,"squaredDistance",function(){return $n}),n.d(h,"length",function(){return ti}),n.d(h,"squaredLength",function(){return ei}),n.d(h,"negate",function(){return ni}),n.d(h,"inverse",function(){return ii}),n.d(h,"normalize",function(){return ri}),n.d(h,"dot",function(){return oi}),n.d(h,"lerp",function(){return si}),n.d(h,"random",function(){return ai}),n.d(h,"transformMat4",function(){return ui}),n.d(h,"transformQuat",function(){return hi}),n.d(h,"str",function(){return ci}),n.d(h,"exactEquals",function(){return li}),n.d(h,"equals",function(){return fi}),n.d(h,"sub",function(){return pi}),n.d(h,"mul",function(){return di}),n.d(h,"div",function(){return gi}),n.d(h,"dist",function(){return yi}),n.d(h,"sqrDist",function(){return mi}),n.d(h,"len",function(){return _i}),n.d(h,"sqrLen",function(){return vi}),n.d(h,"forEach",function(){return Mi});var c={};n.r(c),n.d(c,"create",function(){return bi}),n.d(c,"identity",function(){return xi}),n.d(c,"setAxisAngle",function(){return Ei}),n.d(c,"getAxisAngle",function(){return Ii}),n.d(c,"multiply",function(){return wi}),n.d(c,"rotateX",function(){return Ni}),n.d(c,"rotateY",function(){return Ci}),n.d(c,"rotateZ",function(){return Si}),n.d(c,"calculateW",function(){return Ai}),n.d(c,"slerp",function(){return Li}),n.d(c,"random",function(){return Pi}),n.d(c,"invert",function(){return Ti}),n.d(c,"conjugate",function(){return Ri}),n.d(c,"fromMat3",function(){return Oi}),n.d(c,"fromEuler",function(){return Di}),n.d(c,"str",function(){return Fi}),n.d(c,"clone",function(){return Bi}),n.d(c,"fromValues",function(){return Gi}),n.d(c,"copy",function(){return ki}),n.d(c,"set",function(){return qi}),n.d(c,"add",function(){return Ui}),n.d(c,"mul",function(){return zi}),n.d(c,"scale",function(){return Vi}),n.d(c,"dot",function(){return ji}),n.d(c,"lerp",function(){return Yi}),n.d(c,"length",function(){return Xi}),n.d(c,"len",function(){return Hi}),n.d(c,"squaredLength",function(){return Wi}),n.d(c,"sqrLen",function(){return Ki}),n.d(c,"normalize",function(){return Ji}),n.d(c,"exactEquals",function(){return Qi}),n.d(c,"equals",function(){return Zi}),n.d(c,"rotationTo",function(){return $i}),n.d(c,"sqlerp",function(){return tr}),n.d(c,"setAxes",function(){return er});var l={};n.r(l),n.d(l,"create",function(){return nr}),n.d(l,"clone",function(){return ir}),n.d(l,"fromValues",function(){return rr}),n.d(l,"fromRotationTranslationValues",function(){return or}),n.d(l,"fromRotationTranslation",function(){return sr}),n.d(l,"fromTranslation",function(){return ar}),n.d(l,"fromRotation",function(){return ur}),n.d(l,"fromMat4",function(){return hr}),n.d(l,"copy",function(){return cr}),n.d(l,"identity",function(){return lr}),n.d(l,"set",function(){return fr}),n.d(l,"getReal",function(){return pr}),n.d(l,"getDual",function(){return dr}),n.d(l,"setReal",function(){return gr}),n.d(l,"setDual",function(){return yr}),n.d(l,"getTranslation",function(){return mr}),n.d(l,"translate",function(){return _r}),n.d(l,"rotateX",function(){return vr}),n.d(l,"rotateY",function(){return Mr}),n.d(l,"rotateZ",function(){return br}),n.d(l,"rotateByQuatAppend",function(){return xr}),n.d(l,"rotateByQuatPrepend",function(){return Er}),n.d(l,"rotateAroundAxis",function(){return Ir}),n.d(l,"add",function(){return wr}),n.d(l,"multiply",function(){return Nr}),n.d(l,"mul",function(){return Cr}),n.d(l,"scale",function(){return Sr}),n.d(l,"dot",function(){return Ar}),n.d(l,"lerp",function(){return Lr}),n.d(l,"invert",function(){return Pr}),n.d(l,"conjugate",function(){return Tr}),n.d(l,"length",function(){return Rr}),n.d(l,"len",function(){return Or}),n.d(l,"squaredLength",function(){return Dr}),n.d(l,"sqrLen",function(){return Fr}),n.d(l,"normalize",function(){return Br}),n.d(l,"str",function(){return Gr}),n.d(l,"exactEquals",function(){return kr}),n.d(l,"equals",function(){return qr});var f={};n.r(f),n.d(f,"create",function(){return Ur}),n.d(f,"clone",function(){return zr}),n.d(f,"fromValues",function(){return Vr}),n.d(f,"copy",function(){return jr}),n.d(f,"set",function(){return Yr}),n.d(f,"add",function(){return Xr}),n.d(f,"subtract",function(){return Hr}),n.d(f,"multiply",function(){return Wr}),n.d(f,"divide",function(){return Kr}),n.d(f,"ceil",function(){return Jr}),n.d(f,"floor",function(){return Qr}),n.d(f,"min",function(){return Zr}),n.d(f,"max",function(){return $r}),n.d(f,"round",function(){return to}),n.d(f,"scale",function(){return eo}),n.d(f,"scaleAndAdd",function(){return no}),n.d(f,"distance",function(){return io}),n.d(f,"squaredDistance",function(){return ro}),n.d(f,"length",function(){return oo}),n.d(f,"squaredLength",function(){return so}),n.d(f,"negate",function(){return ao}),n.d(f,"inverse",function(){return uo}),n.d(f,"normalize",function(){return ho}),n.d(f,"dot",function(){return co}),n.d(f,"cross",function(){return lo}),n.d(f,"lerp",function(){return fo}),n.d(f,"random",function(){return po}),n.d(f,"transformMat2",function(){return go}),n.d(f,"transformMat2d",function(){return yo}),n.d(f,"transformMat3",function(){return mo}),n.d(f,"transformMat4",function(){return _o}),n.d(f,"rotate",function(){return vo}),n.d(f,"angle",function(){return Mo}),n.d(f,"str",function(){return bo}),n.d(f,"exactEquals",function(){return xo}),n.d(f,"equals",function(){return Eo}),n.d(f,"len",function(){return Io}),n.d(f,"sub",function(){return wo}),n.d(f,"mul",function(){return No}),n.d(f,"div",function(){return Co}),n.d(f,"dist",function(){return So}),n.d(f,"sqrDist",function(){return Ao}),n.d(f,"sqrLen",function(){return Lo}),n.d(f,"forEach",function(){return Po});var p=1e-6,d="undefined"!=typeof Float32Array?Float32Array:Array,g=Math.random;function y(t){d=t}var m=Math.PI/180;function _(t){return t*m}function v(t,e){return Math.abs(t-e)<=p*Math.max(1,Math.abs(t),Math.abs(e))}function M(){var t=new d(4);return d!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function b(t){var e=new d(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function E(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function I(t,e,n,i){var r=new d(4);return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function w(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function N(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function C(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=n*o-r*i;return s?(s=1/s,t[0]=o*s,t[1]=-i*s,t[2]=-r*s,t[3]=n*s,t):null}function S(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function A(t){return t[0]*t[3]-t[2]*t[1]}function L(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=n[0],u=n[1],h=n[2],c=n[3];return t[0]=i*a+o*u,t[1]=r*a+s*u,t[2]=i*h+o*c,t[3]=r*h+s*c,t}function P(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);return t[0]=i*u+o*a,t[1]=r*u+s*a,t[2]=i*-a+o*u,t[3]=r*-a+s*u,t}function T(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=n[0],u=n[1];return t[0]=i*a,t[1]=r*a,t[2]=o*u,t[3]=s*u,t}function R(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t}function O(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function D(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function F(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function B(t,e,n,i){return t[2]=i[2]/i[0],n[0]=i[0],n[1]=i[1],n[3]=i[3]-t[2]*n[1],[t,e,n]}function G(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function k(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function U(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=e[0],a=e[1],u=e[2],h=e[3];return Math.abs(n-s)<=p*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=p*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-h)<=p*Math.max(1,Math.abs(o),Math.abs(h))}function z(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function V(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t}var j=L,Y=k;function X(){var t=new d(6);return d!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function H(t){var e=new d(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function W(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function K(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function J(t,e,n,i,r,o){var s=new d(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=i,s[4]=r,s[5]=o,s}function Q(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}function Z(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=n*o-i*r;return u?(u=1/u,t[0]=o*u,t[1]=-i*u,t[2]=-r*u,t[3]=n*u,t[4]=(r*a-o*s)*u,t[5]=(i*s-n*a)*u,t):null}function $(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],h=n[0],c=n[1],l=n[2],f=n[3],p=n[4],d=n[5];return t[0]=i*h+o*c,t[1]=r*h+s*c,t[2]=i*l+o*f,t[3]=r*l+s*f,t[4]=i*p+o*d+a,t[5]=r*p+s*d+u,t}function et(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],h=Math.sin(n),c=Math.cos(n);return t[0]=i*c+o*h,t[1]=r*c+s*h,t[2]=i*-h+o*c,t[3]=r*-h+s*c,t[4]=a,t[5]=u,t}function nt(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],h=n[0],c=n[1];return t[0]=i*h,t[1]=r*h,t[2]=o*c,t[3]=s*c,t[4]=a,t[5]=u,t}function it(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],h=n[0],c=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=s,t[4]=i*h+o*c+a,t[5]=r*h+s*c+u,t}function rt(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function st(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function at(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ut(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ht(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function ct(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function lt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function ft(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t}function pt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function dt(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=e[0],h=e[1],c=e[2],l=e[3],f=e[4],d=e[5];return Math.abs(n-u)<=p*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-h)<=p*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-c)<=p*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(o-l)<=p*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(s-f)<=p*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(a-d)<=p*Math.max(1,Math.abs(a),Math.abs(d))}var gt=tt,yt=ct;function mt(){var t=new d(9);return d!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function _t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function vt(t){var e=new d(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function bt(t,e,n,i,r,o,s,a,u){var h=new d(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=i,h[4]=r,h[5]=o,h[6]=s,h[7]=a,h[8]=u,h}function xt(t,e,n,i,r,o,s,a,u,h){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t[6]=a,t[7]=u,t[8]=h,t}function Et(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function It(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function wt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],h=e[7],c=e[8],l=c*s-a*h,f=-c*o+a*u,p=h*o-s*u,d=n*l+i*f+r*p;return d?(d=1/d,t[0]=l*d,t[1]=(-c*i+r*h)*d,t[2]=(a*i-r*s)*d,t[3]=f*d,t[4]=(c*n-r*u)*d,t[5]=(-a*n+r*o)*d,t[6]=p*d,t[7]=(-h*n+i*u)*d,t[8]=(s*n-i*o)*d,t):null}function Nt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],h=e[7],c=e[8];return t[0]=s*c-a*h,t[1]=r*h-i*c,t[2]=i*a-r*s,t[3]=a*u-o*c,t[4]=n*c-r*u,t[5]=r*o-n*a,t[6]=o*h-s*u,t[7]=i*u-n*h,t[8]=n*s-i*o,t}function Ct(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],u=t[7],h=t[8];return e*(h*o-s*u)+n*(-h*r+s*a)+i*(u*r-o*a)}function St(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=n[0],p=n[1],d=n[2],g=n[3],y=n[4],m=n[5],_=n[6],v=n[7],M=n[8];return t[0]=f*i+p*s+d*h,t[1]=f*r+p*a+d*c,t[2]=f*o+p*u+d*l,t[3]=g*i+y*s+m*h,t[4]=g*r+y*a+m*c,t[5]=g*o+y*u+m*l,t[6]=_*i+v*s+M*h,t[7]=_*r+v*a+M*c,t[8]=_*o+v*u+M*l,t}function At(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=n[0],p=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=u,t[6]=f*i+p*s+h,t[7]=f*r+p*a+c,t[8]=f*o+p*u+l,t}function Lt(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=Math.sin(n),p=Math.cos(n);return t[0]=p*i+f*s,t[1]=p*r+f*a,t[2]=p*o+f*u,t[3]=p*s-f*i,t[4]=p*a-f*r,t[5]=p*u-f*o,t[6]=h,t[7]=c,t[8]=l,t}function Pt(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Tt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Rt(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ot(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Dt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Ft(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=n+n,a=i+i,u=r+r,h=n*s,c=i*s,l=i*a,f=r*s,p=r*a,d=r*u,g=o*s,y=o*a,m=o*u;return t[0]=1-l-d,t[3]=c-m,t[6]=f+y,t[1]=c+m,t[4]=1-h-d,t[7]=p-g,t[2]=f-y,t[5]=p+g,t[8]=1-h-l,t}function Bt(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],g=e[13],y=e[14],m=e[15],_=n*a-i*s,v=n*u-r*s,M=n*h-o*s,b=i*u-r*a,x=i*h-o*a,E=r*h-o*u,I=c*g-l*d,w=c*y-f*d,N=c*m-p*d,C=l*y-f*g,S=l*m-p*g,A=f*m-p*y,L=_*A-v*S+M*C+b*N-x*w+E*I;return L?(L=1/L,t[0]=(a*A-u*S+h*C)*L,t[1]=(u*N-s*A-h*w)*L,t[2]=(s*S-a*N+h*I)*L,t[3]=(r*S-i*A-o*C)*L,t[4]=(n*A-r*N+o*w)*L,t[5]=(i*N-n*S-o*I)*L,t[6]=(g*E-y*x+m*b)*L,t[7]=(y*M-d*E-m*v)*L,t[8]=(d*x-g*M+m*_)*L,t):null}function Gt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function kt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function qt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function Ut(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function zt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Vt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function jt(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t}function Yt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Xt(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],h=t[7],c=t[8],l=e[0],f=e[1],d=e[2],g=e[3],y=e[4],m=e[5],_=e[6],v=e[7],M=e[8];return Math.abs(n-l)<=p*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-f)<=p*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-d)<=p*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-g)<=p*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-y)<=p*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(a-m)<=p*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(u-_)<=p*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(h-v)<=p*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(c-M)<=p*Math.max(1,Math.abs(c),Math.abs(M))}var Ht=St,Wt=zt;function Kt(){var t=new d(16);return d!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Jt(t){var e=new d(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Zt(t,e,n,i,r,o,s,a,u,h,c,l,f,p,g,y){var m=new d(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=i,m[4]=r,m[5]=o,m[6]=s,m[7]=a,m[8]=u,m[9]=h,m[10]=c,m[11]=l,m[12]=f,m[13]=p,m[14]=g,m[15]=y,m}function $t(t,e,n,i,r,o,s,a,u,h,c,l,f,p,d,g,y){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t[6]=a,t[7]=u,t[8]=h,t[9]=c,t[10]=l,t[11]=f,t[12]=p,t[13]=d,t[14]=g,t[15]=y,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var n=e[1],i=e[2],r=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=o,t[11]=e[14],t[12]=r,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ne(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],g=e[13],y=e[14],m=e[15],_=n*a-i*s,v=n*u-r*s,M=n*h-o*s,b=i*u-r*a,x=i*h-o*a,E=r*h-o*u,I=c*g-l*d,w=c*y-f*d,N=c*m-p*d,C=l*y-f*g,S=l*m-p*g,A=f*m-p*y,L=_*A-v*S+M*C+b*N-x*w+E*I;return L?(L=1/L,t[0]=(a*A-u*S+h*C)*L,t[1]=(r*S-i*A-o*C)*L,t[2]=(g*E-y*x+m*b)*L,t[3]=(f*x-l*E-p*b)*L,t[4]=(u*N-s*A-h*w)*L,t[5]=(n*A-r*N+o*w)*L,t[6]=(y*M-d*E-m*v)*L,t[7]=(c*E-f*M+p*v)*L,t[8]=(s*S-a*N+h*I)*L,t[9]=(i*N-n*S-o*I)*L,t[10]=(d*x-g*M+m*_)*L,t[11]=(l*M-c*x-p*_)*L,t[12]=(a*w-s*C-u*I)*L,t[13]=(n*C-i*w+r*I)*L,t[14]=(g*v-d*b-y*_)*L,t[15]=(c*b-l*v+f*_)*L,t):null}function ie(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],g=e[13],y=e[14],m=e[15];return t[0]=a*(f*m-p*y)-l*(u*m-h*y)+g*(u*p-h*f),t[1]=-(i*(f*m-p*y)-l*(r*m-o*y)+g*(r*p-o*f)),t[2]=i*(u*m-h*y)-a*(r*m-o*y)+g*(r*h-o*u),t[3]=-(i*(u*p-h*f)-a*(r*p-o*f)+l*(r*h-o*u)),t[4]=-(s*(f*m-p*y)-c*(u*m-h*y)+d*(u*p-h*f)),t[5]=n*(f*m-p*y)-c*(r*m-o*y)+d*(r*p-o*f),t[6]=-(n*(u*m-h*y)-s*(r*m-o*y)+d*(r*h-o*u)),t[7]=n*(u*p-h*f)-s*(r*p-o*f)+c*(r*h-o*u),t[8]=s*(l*m-p*g)-c*(a*m-h*g)+d*(a*p-h*l),t[9]=-(n*(l*m-p*g)-c*(i*m-o*g)+d*(i*p-o*l)),t[10]=n*(a*m-h*g)-s*(i*m-o*g)+d*(i*h-o*a),t[11]=-(n*(a*p-h*l)-s*(i*p-o*l)+c*(i*h-o*a)),t[12]=-(s*(l*y-f*g)-c*(a*y-u*g)+d*(a*f-u*l)),t[13]=n*(l*y-f*g)-c*(i*y-r*g)+d*(i*f-r*l),t[14]=-(n*(a*y-u*g)-s*(i*y-r*g)+d*(i*u-r*a)),t[15]=n*(a*f-u*l)-s*(i*f-r*l)+c*(i*u-r*a),t}function re(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],u=t[7],h=t[8],c=t[9],l=t[10],f=t[11],p=t[12],d=t[13],g=t[14],y=t[15];return(e*s-n*o)*(l*y-f*g)-(e*a-i*o)*(c*y-f*d)+(e*u-r*o)*(c*g-l*d)+(n*a-i*s)*(h*y-f*p)-(n*u-r*s)*(h*g-l*p)+(i*u-r*a)*(h*d-c*p)}function oe(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],p=e[10],d=e[11],g=e[12],y=e[13],m=e[14],_=e[15],v=n[0],M=n[1],b=n[2],x=n[3];return t[0]=v*i+M*a+b*l+x*g,t[1]=v*r+M*u+b*f+x*y,t[2]=v*o+M*h+b*p+x*m,t[3]=v*s+M*c+b*d+x*_,v=n[4],M=n[5],b=n[6],x=n[7],t[4]=v*i+M*a+b*l+x*g,t[5]=v*r+M*u+b*f+x*y,t[6]=v*o+M*h+b*p+x*m,t[7]=v*s+M*c+b*d+x*_,v=n[8],M=n[9],b=n[10],x=n[11],t[8]=v*i+M*a+b*l+x*g,t[9]=v*r+M*u+b*f+x*y,t[10]=v*o+M*h+b*p+x*m,t[11]=v*s+M*c+b*d+x*_,v=n[12],M=n[13],b=n[14],x=n[15],t[12]=v*i+M*a+b*l+x*g,t[13]=v*r+M*u+b*f+x*y,t[14]=v*o+M*h+b*p+x*m,t[15]=v*s+M*c+b*d+x*_,t}function se(t,e,n){var i=n[0],r=n[1],o=n[2],s=void 0,a=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0,g=void 0,y=void 0,m=void 0;return e===t?(t[12]=e[0]*i+e[4]*r+e[8]*o+e[12],t[13]=e[1]*i+e[5]*r+e[9]*o+e[13],t[14]=e[2]*i+e[6]*r+e[10]*o+e[14],t[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(s=e[0],a=e[1],u=e[2],h=e[3],c=e[4],l=e[5],f=e[6],p=e[7],d=e[8],g=e[9],y=e[10],m=e[11],t[0]=s,t[1]=a,t[2]=u,t[3]=h,t[4]=c,t[5]=l,t[6]=f,t[7]=p,t[8]=d,t[9]=g,t[10]=y,t[11]=m,t[12]=s*i+c*r+d*o+e[12],t[13]=a*i+l*r+g*o+e[13],t[14]=u*i+f*r+y*o+e[14],t[15]=h*i+p*r+m*o+e[15]),t}function ae(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ue(t,e,n,i){var r,o,s,a,u,h,c,l,f,d,g,y,m,_,v,M,b,x,E,I,w,N,C,S,A=i[0],L=i[1],P=i[2],T=Math.sqrt(A*A+L*L+P*P);return T<p?null:(A*=T=1/T,L*=T,P*=T,r=Math.sin(n),s=1-(o=Math.cos(n)),a=e[0],u=e[1],h=e[2],c=e[3],l=e[4],f=e[5],d=e[6],g=e[7],y=e[8],m=e[9],_=e[10],v=e[11],M=A*A*s+o,b=L*A*s+P*r,x=P*A*s-L*r,E=A*L*s-P*r,I=L*L*s+o,w=P*L*s+A*r,N=A*P*s+L*r,C=L*P*s-A*r,S=P*P*s+o,t[0]=a*M+l*b+y*x,t[1]=u*M+f*b+m*x,t[2]=h*M+d*b+_*x,t[3]=c*M+g*b+v*x,t[4]=a*E+l*I+y*w,t[5]=u*E+f*I+m*w,t[6]=h*E+d*I+_*w,t[7]=c*E+g*I+v*w,t[8]=a*N+l*C+y*S,t[9]=u*N+f*C+m*S,t[10]=h*N+d*C+_*S,t[11]=c*N+g*C+v*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function he(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],s=e[5],a=e[6],u=e[7],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+h*i,t[5]=s*r+c*i,t[6]=a*r+l*i,t[7]=u*r+f*i,t[8]=h*r-o*i,t[9]=c*r-s*i,t[10]=l*r-a*i,t[11]=f*r-u*i,t}function ce(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],s=e[1],a=e[2],u=e[3],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r-h*i,t[1]=s*r-c*i,t[2]=a*r-l*i,t[3]=u*r-f*i,t[8]=o*i+h*r,t[9]=s*i+c*r,t[10]=a*i+l*r,t[11]=u*i+f*r,t}function le(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],s=e[1],a=e[2],u=e[3],h=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+h*i,t[1]=s*r+c*i,t[2]=a*r+l*i,t[3]=u*r+f*i,t[4]=h*r-o*i,t[5]=c*r-s*i,t[6]=l*r-a*i,t[7]=f*r-u*i,t}function fe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function pe(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function de(t,e,n){var i,r,o,s=n[0],a=n[1],u=n[2],h=Math.sqrt(s*s+a*a+u*u);return h<p?null:(s*=h=1/h,a*=h,u*=h,i=Math.sin(e),o=1-(r=Math.cos(e)),t[0]=s*s*o+r,t[1]=a*s*o+u*i,t[2]=u*s*o-a*i,t[3]=0,t[4]=s*a*o-u*i,t[5]=a*a*o+r,t[6]=u*a*o+s*i,t[7]=0,t[8]=s*u*o+a*i,t[9]=a*u*o-s*i,t[10]=u*u*o+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ge(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _e(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=i+i,u=r+r,h=o+o,c=i*a,l=i*u,f=i*h,p=r*u,d=r*h,g=o*h,y=s*a,m=s*u,_=s*h;return t[0]=1-(p+g),t[1]=l+_,t[2]=f-m,t[3]=0,t[4]=l-_,t[5]=1-(c+g),t[6]=d+y,t[7]=0,t[8]=f+m,t[9]=d-y,t[10]=1-(c+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ve(t,e){var n=new d(3),i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],u=e[5],h=e[6],c=e[7],l=i*i+r*r+o*o+s*s;return l>0?(n[0]=2*(a*s+c*i+u*o-h*r)/l,n[1]=2*(u*s+c*r+h*i-a*o)/l,n[2]=2*(h*s+c*o+a*r-u*i)/l):(n[0]=2*(a*s+c*i+u*o-h*r),n[1]=2*(u*s+c*r+h*i-a*o),n[2]=2*(h*s+c*o+a*r-u*i)),_e(t,e,n),t}function Me(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function be(t,e){var n=e[0],i=e[1],r=e[2],o=e[4],s=e[5],a=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.sqrt(n*n+i*i+r*r),t[1]=Math.sqrt(o*o+s*s+a*a),t[2]=Math.sqrt(u*u+h*h+c*c),t}function xe(t,e){var n=e[0]+e[5]+e[10],i=0;return n>0?(i=2*Math.sqrt(n+1),t[3]=.25*i,t[0]=(e[6]-e[9])/i,t[1]=(e[8]-e[2])/i,t[2]=(e[1]-e[4])/i):e[0]>e[5]&&e[0]>e[10]?(i=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/i,t[0]=.25*i,t[1]=(e[1]+e[4])/i,t[2]=(e[8]+e[2])/i):e[5]>e[10]?(i=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/i,t[0]=(e[1]+e[4])/i,t[1]=.25*i,t[2]=(e[6]+e[9])/i):(i=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/i,t[0]=(e[8]+e[2])/i,t[1]=(e[6]+e[9])/i,t[2]=.25*i),t}function Ee(t,e,n,i){var r=e[0],o=e[1],s=e[2],a=e[3],u=r+r,h=o+o,c=s+s,l=r*u,f=r*h,p=r*c,d=o*h,g=o*c,y=s*c,m=a*u,_=a*h,v=a*c,M=i[0],b=i[1],x=i[2];return t[0]=(1-(d+y))*M,t[1]=(f+v)*M,t[2]=(p-_)*M,t[3]=0,t[4]=(f-v)*b,t[5]=(1-(l+y))*b,t[6]=(g+m)*b,t[7]=0,t[8]=(p+_)*x,t[9]=(g-m)*x,t[10]=(1-(l+d))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Ie(t,e,n,i,r){var o=e[0],s=e[1],a=e[2],u=e[3],h=o+o,c=s+s,l=a+a,f=o*h,p=o*c,d=o*l,g=s*c,y=s*l,m=a*l,_=u*h,v=u*c,M=u*l,b=i[0],x=i[1],E=i[2],I=r[0],w=r[1],N=r[2],C=(1-(g+m))*b,S=(p+M)*b,A=(d-v)*b,L=(p-M)*x,P=(1-(f+m))*x,T=(y+_)*x,R=(d+v)*E,O=(y-_)*E,D=(1-(f+g))*E;return t[0]=C,t[1]=S,t[2]=A,t[3]=0,t[4]=L,t[5]=P,t[6]=T,t[7]=0,t[8]=R,t[9]=O,t[10]=D,t[11]=0,t[12]=n[0]+I-(C*I+L*w+R*N),t[13]=n[1]+w-(S*I+P*w+O*N),t[14]=n[2]+N-(A*I+T*w+D*N),t[15]=1,t}function we(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=n+n,a=i+i,u=r+r,h=n*s,c=i*s,l=i*a,f=r*s,p=r*a,d=r*u,g=o*s,y=o*a,m=o*u;return t[0]=1-l-d,t[1]=c+m,t[2]=f-y,t[3]=0,t[4]=c-m,t[5]=1-h-d,t[6]=p+g,t[7]=0,t[8]=f+y,t[9]=p-g,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ne(t,e,n,i,r,o,s){var a=1/(n-e),u=1/(r-i),h=1/(o-s);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(r+i)*u,t[10]=(s+o)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*h,t[15]=0,t}function Ce(t,e,n,i,r){var o=1/Math.tan(e/2),s=void 0;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(s=1/(i-r),t[10]=(r+i)*s,t[14]=2*r*i*s):(t[10]=-1,t[14]=-2*i),t}function Se(t,e,n,i){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),u=2/(s+a),h=2/(r+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(s-a)*u*.5,t[9]=(r-o)*h*.5,t[10]=i/(n-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*n/(n-i),t[15]=0,t}function Ae(t,e,n,i,r,o,s){var a=1/(e-n),u=1/(i-r),h=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*a,t[13]=(r+i)*u,t[14]=(s+o)*h,t[15]=1,t}function Le(t,e,n,i){var r=void 0,o=void 0,s=void 0,a=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,d=void 0,g=e[0],y=e[1],m=e[2],_=i[0],v=i[1],M=i[2],b=n[0],x=n[1],E=n[2];return Math.abs(g-b)<p&&Math.abs(y-x)<p&&Math.abs(m-E)<p?te(t):(c=g-b,l=y-x,f=m-E,r=v*(f*=d=1/Math.sqrt(c*c+l*l+f*f))-M*(l*=d),o=M*(c*=d)-_*f,s=_*l-v*c,(d=Math.sqrt(r*r+o*o+s*s))?(r*=d=1/d,o*=d,s*=d):(r=0,o=0,s=0),a=l*s-f*o,u=f*r-c*s,h=c*o-l*r,(d=Math.sqrt(a*a+u*u+h*h))?(a*=d=1/d,u*=d,h*=d):(a=0,u=0,h=0),t[0]=r,t[1]=a,t[2]=c,t[3]=0,t[4]=o,t[5]=u,t[6]=l,t[7]=0,t[8]=s,t[9]=h,t[10]=f,t[11]=0,t[12]=-(r*g+o*y+s*m),t[13]=-(a*g+u*y+h*m),t[14]=-(c*g+l*y+f*m),t[15]=1,t)}function Pe(t,e,n,i){var r=e[0],o=e[1],s=e[2],a=i[0],u=i[1],h=i[2],c=r-n[0],l=o-n[1],f=s-n[2],p=c*c+l*l+f*f;p>0&&(c*=p=1/Math.sqrt(p),l*=p,f*=p);var d=u*f-h*l,g=h*c-a*f,y=a*l-u*c;return(p=d*d+g*g+y*y)>0&&(d*=p=1/Math.sqrt(p),g*=p,y*=p),t[0]=d,t[1]=g,t[2]=y,t[3]=0,t[4]=l*y-f*g,t[5]=f*d-c*y,t[6]=c*g-l*d,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=r,t[13]=o,t[14]=s,t[15]=1,t}function Te(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Re(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Oe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function De(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Fe(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Be(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t[9]=e[9]+n[9]*i,t[10]=e[10]+n[10]*i,t[11]=e[11]+n[11]*i,t[12]=e[12]+n[12]*i,t[13]=e[13]+n[13]*i,t[14]=e[14]+n[14]*i,t[15]=e[15]+n[15]*i,t}function Ge(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function ke(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],h=t[7],c=t[8],l=t[9],f=t[10],d=t[11],g=t[12],y=t[13],m=t[14],_=t[15],v=e[0],M=e[1],b=e[2],x=e[3],E=e[4],I=e[5],w=e[6],N=e[7],C=e[8],S=e[9],A=e[10],L=e[11],P=e[12],T=e[13],R=e[14],O=e[15];return Math.abs(n-v)<=p*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(i-M)<=p*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(r-b)<=p*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-x)<=p*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(s-E)<=p*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(a-I)<=p*Math.max(1,Math.abs(a),Math.abs(I))&&Math.abs(u-w)<=p*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(h-N)<=p*Math.max(1,Math.abs(h),Math.abs(N))&&Math.abs(c-C)<=p*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(l-S)<=p*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-A)<=p*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(d-L)<=p*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(g-P)<=p*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(y-T)<=p*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(m-R)<=p*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(_-O)<=p*Math.max(1,Math.abs(_),Math.abs(O))}var qe=oe,Ue=De;function ze(){var t=new d(3);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ve(t){var e=new d(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function je(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function Ye(t,e,n){var i=new d(3);return i[0]=t,i[1]=e,i[2]=n,i}function Xe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function He(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}function We(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Ke(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Je(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Qe(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Ze(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function $e(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function en(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function nn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function rn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function on(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t}function sn(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}function an(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function un(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function hn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function cn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ln(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function fn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pn(t,e,n){var i=e[0],r=e[1],o=e[2],s=n[0],a=n[1],u=n[2];return t[0]=r*u-o*a,t[1]=o*s-i*u,t[2]=i*a-r*s,t}function dn(t,e,n,i){var r=e[0],o=e[1],s=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=s+i*(n[2]-s),t}function gn(t,e,n,i,r,o){var s=o*o,a=s*(2*o-3)+1,u=s*(o-2)+o,h=s*(o-1),c=s*(3-2*o);return t[0]=e[0]*a+n[0]*u+i[0]*h+r[0]*c,t[1]=e[1]*a+n[1]*u+i[1]*h+r[1]*c,t[2]=e[2]*a+n[2]*u+i[2]*h+r[2]*c,t}function yn(t,e,n,i,r,o){var s=1-o,a=s*s,u=o*o,h=a*s,c=3*o*a,l=3*u*s,f=u*o;return t[0]=e[0]*h+n[0]*c+i[0]*l+r[0]*f,t[1]=e[1]*h+n[1]*c+i[1]*l+r[1]*f,t[2]=e[2]*h+n[2]*c+i[2]*l+r[2]*f,t}function mn(t,e){e=e||1;var n=2*g()*Math.PI,i=2*g()-1,r=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t[2]=i*e,t}function _n(t,e,n){var i=e[0],r=e[1],o=e[2],s=n[3]*i+n[7]*r+n[11]*o+n[15];return s=s||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/s,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/s,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/s,t}function vn(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}function Mn(t,e,n){var i=n[0],r=n[1],o=n[2],s=n[3],a=e[0],u=e[1],h=e[2],c=r*h-o*u,l=o*a-i*h,f=i*u-r*a,p=r*f-o*l,d=o*c-i*f,g=i*l-r*c,y=2*s;return c*=y,l*=y,f*=y,p*=2,d*=2,g*=2,t[0]=a+c+p,t[1]=u+l+d,t[2]=h+f+g,t}function bn(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function xn(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function En(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function In(t,e){var n=Ye(t[0],t[1],t[2]),i=Ye(e[0],e[1],e[2]);ln(n,n),ln(i,i);var r=fn(n,i);return r>1?0:r<-1?Math.PI:Math.acos(r)}function wn(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Nn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Cn(t,e){var n=t[0],i=t[1],r=t[2],o=e[0],s=e[1],a=e[2];return Math.abs(n-o)<=p*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=p*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=p*Math.max(1,Math.abs(r),Math.abs(a))}var Sn=Ke,An=Je,Ln=Qe,Pn=sn,Tn=an,Rn=je,On=un,Dn=function(){var t=ze();return function(e,n,i,r,o,s){var a=void 0,u=void 0;for(n||(n=3),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,a=i;a<u;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}}();function Fn(){var t=new d(4);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Bn(t){var e=new d(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Gn(t,e,n,i){var r=new d(4);return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function kn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function qn(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function Un(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function zn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Vn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function jn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Yn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Xn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Hn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Wn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Kn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Jn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Qn(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t}function Zn(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+i*i+r*r+o*o)}function $n(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],o=e[3]-t[3];return n*n+i*i+r*r+o*o}function ti(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.sqrt(e*e+n*n+i*i+r*r)}function ei(t){var e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r}function ni(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function ii(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function ri(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=n*n+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=n*s,t[1]=i*s,t[2]=r*s,t[3]=o*s),t}function oi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function si(t,e,n,i){var r=e[0],o=e[1],s=e[2],a=e[3];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=s+i*(n[2]-s),t[3]=a+i*(n[3]-a),t}function ai(t,e){var n,i,r,o,s,a;e=e||1;do{s=(n=2*g()-1)*n+(i=2*g()-1)*i}while(s>=1);do{a=(r=2*g()-1)*r+(o=2*g()-1)*o}while(a>=1);var u=Math.sqrt((1-s)/a);return t[0]=e*n,t[1]=e*i,t[2]=e*r*u,t[3]=e*o*u,t}function ui(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*s,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*s,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*s,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*s,t}function hi(t,e,n){var i=e[0],r=e[1],o=e[2],s=n[0],a=n[1],u=n[2],h=n[3],c=h*i+a*o-u*r,l=h*r+u*i-s*o,f=h*o+s*r-a*i,p=-s*i-a*r-u*o;return t[0]=c*h+p*-s+l*-u-f*-a,t[1]=l*h+p*-a+f*-s-c*-u,t[2]=f*h+p*-u+c*-a-l*-s,t[3]=e[3],t}function ci(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function li(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function fi(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=e[0],a=e[1],u=e[2],h=e[3];return Math.abs(n-s)<=p*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=p*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-h)<=p*Math.max(1,Math.abs(o),Math.abs(h))}var pi=zn,di=Vn,gi=jn,yi=Zn,mi=$n,_i=ti,vi=ei,Mi=function(){var t=Fn();return function(e,n,i,r,o,s){var a=void 0,u=void 0;for(n||(n=4),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,a=i;a<u;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}();function bi(){var t=new d(4);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function xi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ei(t,e,n){n*=.5;var i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t}function Ii(t,e){var n=2*Math.acos(e[3]),i=Math.sin(n/2);return i>p?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),n}function wi(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=n[0],u=n[1],h=n[2],c=n[3];return t[0]=i*c+s*a+r*h-o*u,t[1]=r*c+s*u+o*a-i*h,t[2]=o*c+s*h+i*u-r*a,t[3]=s*c-i*a-r*u-o*h,t}function Ni(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);return t[0]=i*u+s*a,t[1]=r*u+o*a,t[2]=o*u-r*a,t[3]=s*u-i*a,t}function Ci(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);return t[0]=i*u-o*a,t[1]=r*u+s*a,t[2]=o*u+i*a,t[3]=s*u-r*a,t}function Si(t,e,n){n*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);return t[0]=i*u+r*a,t[1]=r*u-i*a,t[2]=o*u+s*a,t[3]=s*u-o*a,t}function Ai(t,e){var n=e[0],i=e[1],r=e[2];return t[0]=n,t[1]=i,t[2]=r,t[3]=Math.sqrt(Math.abs(1-n*n-i*i-r*r)),t}function Li(t,e,n,i){var r=e[0],o=e[1],s=e[2],a=e[3],u=n[0],h=n[1],c=n[2],l=n[3],f=void 0,d=void 0,g=void 0,y=void 0,m=void 0;return(d=r*u+o*h+s*c+a*l)<0&&(d=-d,u=-u,h=-h,c=-c,l=-l),1-d>p?(f=Math.acos(d),g=Math.sin(f),y=Math.sin((1-i)*f)/g,m=Math.sin(i*f)/g):(y=1-i,m=i),t[0]=y*r+m*u,t[1]=y*o+m*h,t[2]=y*s+m*c,t[3]=y*a+m*l,t}function Pi(t){var e=g(),n=g(),i=g(),r=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=r*Math.sin(2*Math.PI*n),t[1]=r*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*i),t[3]=o*Math.cos(2*Math.PI*i),t}function Ti(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=n*n+i*i+r*r+o*o,a=s?1/s:0;return t[0]=-n*a,t[1]=-i*a,t[2]=-r*a,t[3]=o*a,t}function Ri(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Oi(t,e){var n=e[0]+e[4]+e[8],i=void 0;if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,s=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*s+s]+1),t[r]=.5*i,i=.5/i,t[3]=(e[3*o+s]-e[3*s+o])*i,t[o]=(e[3*o+r]+e[3*r+o])*i,t[s]=(e[3*s+r]+e[3*r+s])*i}return t}function Di(t,e,n,i){var r=.5*Math.PI/180;e*=r,n*=r,i*=r;var o=Math.sin(e),s=Math.cos(e),a=Math.sin(n),u=Math.cos(n),h=Math.sin(i),c=Math.cos(i);return t[0]=o*u*c-s*a*h,t[1]=s*a*c+o*u*h,t[2]=s*u*h-o*a*c,t[3]=s*u*c+o*a*h,t}function Fi(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Bi=Bn,Gi=Gn,ki=kn,qi=qn,Ui=Un,zi=wi,Vi=Jn,ji=oi,Yi=si,Xi=ti,Hi=Xi,Wi=ei,Ki=Wi,Ji=ri,Qi=li,Zi=fi,$i=function(){var t=ze(),e=Ye(1,0,0),n=Ye(0,1,0);return function(i,r,o){var s=fn(r,o);return s<-.999999?(pn(t,e,r),Rn(t)<1e-6&&pn(t,n,r),ln(t,t),Ei(i,t,Math.PI),i):s>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(pn(t,r,o),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+s,Ji(i,i))}}(),tr=function(){var t=bi(),e=bi();return function(n,i,r,o,s,a){return Li(t,i,s,a),Li(e,r,o,a),Li(n,t,e,2*a*(1-a)),n}}(),er=function(){var t=mt();return function(e,n,i,r){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],Ji(e,Oi(e,t))}}();function nr(){var t=new d(8);return d!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function ir(t){var e=new d(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function rr(t,e,n,i,r,o,s,a){var u=new d(8);return u[0]=t,u[1]=e,u[2]=n,u[3]=i,u[4]=r,u[5]=o,u[6]=s,u[7]=a,u}function or(t,e,n,i,r,o,s){var a=new d(8);a[0]=t,a[1]=e,a[2]=n,a[3]=i;var u=.5*r,h=.5*o,c=.5*s;return a[4]=u*i+h*n-c*e,a[5]=h*i+c*t-u*n,a[6]=c*i+u*e-h*t,a[7]=-u*t-h*e-c*n,a}function sr(t,e,n){var i=.5*n[0],r=.5*n[1],o=.5*n[2],s=e[0],a=e[1],u=e[2],h=e[3];return t[0]=s,t[1]=a,t[2]=u,t[3]=h,t[4]=i*h+r*u-o*a,t[5]=r*h+o*s-i*u,t[6]=o*h+i*a-r*s,t[7]=-i*s-r*a-o*u,t}function ar(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function ur(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function hr(t,e){var n=bi();xe(n,e);var i=new d(3);return Me(i,e),sr(t,n,i),t}function cr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function lr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function fr(t,e,n,i,r,o,s,a,u){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t[6]=a,t[7]=u,t}var pr=ki;function dr(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var gr=ki;function yr(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function mr(t,e){var n=e[4],i=e[5],r=e[6],o=e[7],s=-e[0],a=-e[1],u=-e[2],h=e[3];return t[0]=2*(n*h+o*s+i*u-r*a),t[1]=2*(i*h+o*a+r*s-n*u),t[2]=2*(r*h+o*u+n*a-i*s),t}function _r(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=.5*n[0],u=.5*n[1],h=.5*n[2],c=e[4],l=e[5],f=e[6],p=e[7];return t[0]=i,t[1]=r,t[2]=o,t[3]=s,t[4]=s*a+r*h-o*u+c,t[5]=s*u+o*a-i*h+l,t[6]=s*h+i*u-r*a+f,t[7]=-i*a-r*u-o*h+p,t}function vr(t,e,n){var i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],u=e[5],h=e[6],c=e[7],l=a*s+c*i+u*o-h*r,f=u*s+c*r+h*i-a*o,p=h*s+c*o+a*r-u*i,d=c*s-a*i-u*r-h*o;return Ni(t,e,n),i=t[0],r=t[1],o=t[2],s=t[3],t[4]=l*s+d*i+f*o-p*r,t[5]=f*s+d*r+p*i-l*o,t[6]=p*s+d*o+l*r-f*i,t[7]=d*s-l*i-f*r-p*o,t}function Mr(t,e,n){var i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],u=e[5],h=e[6],c=e[7],l=a*s+c*i+u*o-h*r,f=u*s+c*r+h*i-a*o,p=h*s+c*o+a*r-u*i,d=c*s-a*i-u*r-h*o;return Ci(t,e,n),i=t[0],r=t[1],o=t[2],s=t[3],t[4]=l*s+d*i+f*o-p*r,t[5]=f*s+d*r+p*i-l*o,t[6]=p*s+d*o+l*r-f*i,t[7]=d*s-l*i-f*r-p*o,t}function br(t,e,n){var i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],u=e[5],h=e[6],c=e[7],l=a*s+c*i+u*o-h*r,f=u*s+c*r+h*i-a*o,p=h*s+c*o+a*r-u*i,d=c*s-a*i-u*r-h*o;return Si(t,e,n),i=t[0],r=t[1],o=t[2],s=t[3],t[4]=l*s+d*i+f*o-p*r,t[5]=f*s+d*r+p*i-l*o,t[6]=p*s+d*o+l*r-f*i,t[7]=d*s-l*i-f*r-p*o,t}function xr(t,e,n){var i=n[0],r=n[1],o=n[2],s=n[3],a=e[0],u=e[1],h=e[2],c=e[3];return t[0]=a*s+c*i+u*o-h*r,t[1]=u*s+c*r+h*i-a*o,t[2]=h*s+c*o+a*r-u*i,t[3]=c*s-a*i-u*r-h*o,a=e[4],u=e[5],h=e[6],c=e[7],t[4]=a*s+c*i+u*o-h*r,t[5]=u*s+c*r+h*i-a*o,t[6]=h*s+c*o+a*r-u*i,t[7]=c*s-a*i-u*r-h*o,t}function Er(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=n[0],u=n[1],h=n[2],c=n[3];return t[0]=i*c+s*a+r*h-o*u,t[1]=r*c+s*u+o*a-i*h,t[2]=o*c+s*h+i*u-r*a,t[3]=s*c-i*a-r*u-o*h,a=n[4],u=n[5],h=n[6],c=n[7],t[4]=i*c+s*a+r*h-o*u,t[5]=r*c+s*u+o*a-i*h,t[6]=o*c+s*h+i*u-r*a,t[7]=s*c-i*a-r*u-o*h,t}function Ir(t,e,n,i){if(Math.abs(i)<p)return cr(t,e);var r=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);i*=.5;var o=Math.sin(i),s=o*n[0]/r,a=o*n[1]/r,u=o*n[2]/r,h=Math.cos(i),c=e[0],l=e[1],f=e[2],d=e[3];t[0]=c*h+d*s+l*u-f*a,t[1]=l*h+d*a+f*s-c*u,t[2]=f*h+d*u+c*a-l*s,t[3]=d*h-c*s-l*a-f*u;var g=e[4],y=e[5],m=e[6],_=e[7];return t[4]=g*h+_*s+y*u-m*a,t[5]=y*h+_*a+m*s-g*u,t[6]=m*h+_*u+g*a-y*s,t[7]=_*h-g*s-y*a-m*u,t}function wr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Nr(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=n[4],u=n[5],h=n[6],c=n[7],l=e[4],f=e[5],p=e[6],d=e[7],g=n[0],y=n[1],m=n[2],_=n[3];return t[0]=i*_+s*g+r*m-o*y,t[1]=r*_+s*y+o*g-i*m,t[2]=o*_+s*m+i*y-r*g,t[3]=s*_-i*g-r*y-o*m,t[4]=i*c+s*a+r*h-o*u+l*_+d*g+f*m-p*y,t[5]=r*c+s*u+o*a-i*h+f*_+d*y+p*g-l*m,t[6]=o*c+s*h+i*u-r*a+p*_+d*m+l*y-f*g,t[7]=s*c-i*a-r*u-o*h+d*_-l*g-f*y-p*m,t}var Cr=Nr;function Sr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Ar=ji;function Lr(t,e,n,i){var r=1-i;return Ar(e,n)<0&&(i=-i),t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i,t[3]=e[3]*r+n[3]*i,t[4]=e[4]*r+n[4]*i,t[5]=e[5]*r+n[5]*i,t[6]=e[6]*r+n[6]*i,t[7]=e[7]*r+n[7]*i,t}function Pr(t,e){var n=Dr(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function Tr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Rr=Xi,Or=Rr,Dr=Wi,Fr=Dr;function Br(t,e){var n=Dr(e);if(n>0){n=Math.sqrt(n);var i=e[0]/n,r=e[1]/n,o=e[2]/n,s=e[3]/n,a=e[4],u=e[5],h=e[6],c=e[7],l=i*a+r*u+o*h+s*c;t[0]=i,t[1]=r,t[2]=o,t[3]=s,t[4]=(a-i*l)/n,t[5]=(u-r*l)/n,t[6]=(h-o*l)/n,t[7]=(c-s*l)/n}return t}function Gr(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function kr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function qr(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],h=t[7],c=e[0],l=e[1],f=e[2],d=e[3],g=e[4],y=e[5],m=e[6],_=e[7];return Math.abs(n-c)<=p*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-l)<=p*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-f)<=p*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-d)<=p*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-g)<=p*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(a-y)<=p*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(u-m)<=p*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(h-_)<=p*Math.max(1,Math.abs(h),Math.abs(_))}function Ur(){var t=new d(2);return d!=Float32Array&&(t[0]=0,t[1]=0),t}function zr(t){var e=new d(2);return e[0]=t[0],e[1]=t[1],e}function Vr(t,e){var n=new d(2);return n[0]=t,n[1]=e,n}function jr(t,e){return t[0]=e[0],t[1]=e[1],t}function Yr(t,e,n){return t[0]=e,t[1]=n,t}function Xr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Hr(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Wr(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function Kr(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Jr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Qr(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Zr(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function $r(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function to(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function eo(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function no(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function io(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}function ro(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function oo(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function so(t){var e=t[0],n=t[1];return e*e+n*n}function ao(t,e){return t[0]=-e[0],t[1]=-e[1],t}function uo(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function ho(t,e){var n=e[0],i=e[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t}function co(t,e){return t[0]*e[0]+t[1]*e[1]}function lo(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t}function fo(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t}function po(t,e){e=e||1;var n=2*g()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function go(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t}function yo(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function mo(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t}function _o(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t}function vo(t,e,n,i){var r=e[0]-n[0],o=e[1]-n[1],s=Math.sin(i),a=Math.cos(i);return t[0]=r*a-o*s+n[0],t[1]=r*s+o*a+n[1],t}function Mo(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],s=n*n+i*i;s>0&&(s=1/Math.sqrt(s));var a=r*r+o*o;a>0&&(a=1/Math.sqrt(a));var u=(n*r+i*o)*s*a;return u>1?0:u<-1?Math.PI:Math.acos(u)}function bo(t){return"vec2("+t[0]+", "+t[1]+")"}function xo(t,e){return t[0]===e[0]&&t[1]===e[1]}function Eo(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];return Math.abs(n-r)<=p*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-o)<=p*Math.max(1,Math.abs(i),Math.abs(o))}var Io=oo,wo=Hr,No=Wr,Co=Kr,So=io,Ao=ro,Lo=so,Po=function(){var t=Ur();return function(e,n,i,r,o,s){var a=void 0,u=void 0;for(n||(n=2),i||(i=0),u=r?Math.min(r*n+i,e.length):e.length,a=i;a<u;a+=n)t[0]=e[a],t[1]=e[a+1],o(t,t,s),e[a]=t[0],e[a+1]=t[1];return e}}();n.d(e,"glMatrix",function(){return i}),n.d(e,"mat2",function(){return r}),n.d(e,"mat2d",function(){return o}),n.d(e,"mat3",function(){return s}),n.d(e,"mat4",function(){return a}),n.d(e,"quat",function(){return c}),n.d(e,"quat2",function(){return l}),n.d(e,"vec2",function(){return f}),n.d(e,"vec3",function(){return u}),n.d(e,"vec4",function(){return h})}]);
//# sourceMappingURL=mapgl.js.map